import{a as F,b as me,e as Dr,f as _}from"./chunk-YYD2Q6U2.js";function Dp(t,e){return Object.is(t,e)}var qe=null,Nu=!1,bp=1,Lt=Symbol("SIGNAL");function ee(t){let e=qe;return qe=t,e}function Cp(){return qe}var co={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ca(t){if(Nu)throw new Error("");if(qe===null)return;qe.consumerOnSignalRead(t);let e=qe.nextProducerIndex++;if(Ou(qe),e<qe.producerNode.length&&qe.producerNode[e]!==t&&aa(qe)){let n=qe.producerNode[e];ku(n,qe.producerIndexOfThis[e])}qe.producerNode[e]!==t&&(qe.producerNode[e]=t,qe.producerIndexOfThis[e]=aa(qe)?zw(t,qe,e):0),qe.producerLastReadVersion[e]=t.version}function Hw(){bp++}function Sp(t){if(!(aa(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===bp)){if(!t.producerMustRecompute(t)&&!xu(t)){Tp(t);return}t.producerRecomputeValue(t),Tp(t)}}function Ap(t){if(t.liveConsumerNode===void 0)return;let e=Nu;Nu=!0;try{for(let n of t.liveConsumerNode)n.dirty||MP(n)}finally{Nu=e}}function Rp(){return qe?.consumerAllowSignalWrites!==!1}function MP(t){t.dirty=!0,Ap(t),t.consumerMarkedDirty?.(t)}function Tp(t){t.dirty=!1,t.lastCleanEpoch=bp}function ua(t){return t&&(t.nextProducerIndex=0),ee(t)}function Pu(t,e){if(ee(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(aa(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ku(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function xu(t){Ou(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Sp(n),r!==n.version))return!0}return!1}function la(t){if(Ou(t),aa(t))for(let e=0;e<t.producerNode.length;e++)ku(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function zw(t,e,n){if(qw(t),t.liveConsumerNode.length===0&&Ww(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=zw(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function ku(t,e){if(qw(t),t.liveConsumerNode.length===1&&Ww(t))for(let r=0;r<t.producerNode.length;r++)ku(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ou(i),i.producerIndexOfThis[r]=e}}function aa(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ou(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function qw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Ww(t){return t.producerNode!==void 0}function Lu(t,e){let n=Object.create(PP);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Sp(n),ca(n),n.value===Mu)throw n.error;return n.value};return r[Lt]=n,r}var Ep=Symbol("UNSET"),wp=Symbol("COMPUTING"),Mu=Symbol("ERRORED"),PP=me(F({},co),{value:Ep,dirty:!0,error:null,equal:Dp,kind:"computed",producerMustRecompute(t){return t.value===Ep||t.value===wp},producerRecomputeValue(t){if(t.value===wp)throw new Error("Detected cycle in computations.");let e=t.value;t.value=wp;let n=ua(t),r,i=!1;try{r=t.computation(),ee(null),i=e!==Ep&&e!==Mu&&r!==Mu&&t.equal(e,r)}catch(o){r=Mu,t.error=o}finally{Pu(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function xP(){throw new Error}var Gw=xP;function Kw(t){Gw(t)}function Np(t){Gw=t}var kP=null;function Mp(t,e){let n=Object.create(Fu);n.value=t,e!==void 0&&(n.equal=e);let r=()=>(ca(n),n.value);return r[Lt]=n,r}function da(t,e){Rp()||Kw(t),t.equal(t.value,e)||(t.value=e,OP(t))}function Pp(t,e){Rp()||Kw(t),da(t,e(t.value))}var Fu=me(F({},co),{equal:Dp,value:void 0,kind:"signal"});function OP(t){t.version++,Hw(),Ap(t),kP?.()}function xp(t){let e=ee(null);try{return t()}finally{ee(e)}}var kp;function ha(){return kp}function Bn(t){let e=kp;return kp=t,e}var Vu=Symbol("NotFound");function Z(t){return typeof t=="function"}function uo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ju=uo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function di(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Pe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Z(r))try{r()}catch(o){e=o instanceof ju?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Qw(o)}catch(s){e=e??[],s instanceof ju?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ju(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Qw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&di(n,e)}remove(e){let{_finalizers:n}=this;n&&di(n,e),e instanceof t&&e._removeParent(this)}};Pe.EMPTY=(()=>{let t=new Pe;return t.closed=!0,t})();var Op=Pe.EMPTY;function Uu(t){return t instanceof Pe||t&&"closed"in t&&Z(t.remove)&&Z(t.add)&&Z(t.unsubscribe)}function Qw(t){Z(t)?t():t.unsubscribe()}var en={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var lo={setTimeout(t,e,...n){let{delegate:r}=lo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=lo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Bu(t){lo.setTimeout(()=>{let{onUnhandledError:e}=en;if(e)e(t);else throw t})}function fa(){}var Yw=Lp("C",void 0,void 0);function Zw(t){return Lp("E",void 0,t)}function Jw(t){return Lp("N",t,void 0)}function Lp(t,e,n){return{kind:t,value:e,error:n}}var hi=null;function ho(t){if(en.useDeprecatedSynchronousErrorHandling){let e=!hi;if(e&&(hi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=hi;if(hi=null,n)throw r}}else t()}function Xw(t){en.useDeprecatedSynchronousErrorHandling&&hi&&(hi.errorThrown=!0,hi.error=t)}var fi=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Uu(e)&&e.add(this)):this.destination=BP}static create(e,n,r){return new fo(e,n,r)}next(e){this.isStopped?Vp(Jw(e),this):this._next(e)}error(e){this.isStopped?Vp(Zw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Vp(Yw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},jP=Function.prototype.bind;function Fp(t,e){return jP.call(t,e)}var jp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){$u(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){$u(r)}else $u(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){$u(n)}}},fo=class extends fi{constructor(e,n,r){super();let i;if(Z(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&en.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Fp(e.next,o),error:e.error&&Fp(e.error,o),complete:e.complete&&Fp(e.complete,o)}):i=e}this.destination=new jp(i)}};function $u(t){en.useDeprecatedSynchronousErrorHandling?Xw(t):Bu(t)}function UP(t){throw t}function Vp(t,e){let{onStoppedNotification:n}=en;n&&lo.setTimeout(()=>n(t,e))}var BP={closed:!0,next:fa,error:UP,complete:fa};var po=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ft(t){return t}function Up(...t){return Bp(t)}function Bp(t){return t.length===0?Ft:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var re=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=HP(n)?n:new fo(n,r,i);return ho(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=eT(r),new r((i,o)=>{let s=new fo({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[po](){return this}pipe(...n){return Bp(n)(this)}toPromise(n){return n=eT(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function eT(t){var e;return(e=t??en.Promise)!==null&&e!==void 0?e:Promise}function $P(t){return t&&Z(t.next)&&Z(t.error)&&Z(t.complete)}function HP(t){return t&&t instanceof fi||$P(t)&&Uu(t)}function $p(t){return Z(t?.lift)}function fe(t){return e=>{if($p(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function de(t,e,n,r,i){return new Hp(t,e,n,r,i)}var Hp=class extends fi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function go(){return fe((t,e)=>{let n=null;t._refCount++;let r=de(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var mo=class extends re{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,$p(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let n=this.getSubject();e.add(this.source.subscribe(de(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return go()(this)}};var tT=uo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var We=(()=>{class t extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Hu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new tT}next(n){ho(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ho(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ho(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Op:(this.currentObservers=null,o.push(n),new Pe(()=>{this.currentObservers=null,di(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new re;return n.source=this,n}}return t.create=(e,n)=>new Hu(e,n),t})(),Hu=class extends We{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Op}};var tt=class extends We{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var zp={now(){return(zp.delegate||Date).now()},delegate:void 0};var zu=class extends Pe{constructor(e,n){super()}schedule(e,n=0){return this}};var pa={setInterval(t,e,...n){let{delegate:r}=pa;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=pa;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var br=class extends zu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return pa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&pa.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,di(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var zP=1,qp,Wp={};function nT(t){return t in Wp?(delete Wp[t],!0):!1}var rT={setImmediate(t){let e=zP++;return Wp[e]=!0,qp||(qp=Promise.resolve()),qp.then(()=>nT(e)&&t()),e},clearImmediate(t){nT(t)}};var{setImmediate:qP,clearImmediate:WP}=rT,ga={setImmediate(...t){let{delegate:e}=ga;return(e?.setImmediate||qP)(...t)},clearImmediate(t){let{delegate:e}=ga;return(e?.clearImmediate||WP)(t)},delegate:void 0};var qu=class extends br{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return r!==null&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=ga.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,n,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,n,r);let{actions:o}=e;n!=null&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==n&&(ga.clearImmediate(n),e._scheduled===n&&(e._scheduled=void 0))}};var yo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};yo.now=zp.now;var Cr=class extends yo{constructor(e,n=yo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Wu=class extends Cr{flush(e){this._active=!0;let n=this._scheduled;this._scheduled=void 0;let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===n&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===n&&r.shift();)e.unsubscribe();throw i}}};var GP=new Wu(qu);var Gp=new Cr(br);var Gu=class extends br{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ku=class extends Cr{};var Kp=new Ku(Gu);var Dt=new re(t=>t.complete());function iT(t){return t&&Z(t.schedule)}function oT(t){return t[t.length-1]}function Qu(t){return Z(oT(t))?t.pop():void 0}function Sr(t){return iT(oT(t))?t.pop():void 0}function Yu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function aT(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function sT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pi(t){return this instanceof pi?(this.v=t,this):new pi(t)}function cT(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(w){return Promise.resolve(w).then(m,p)}}function a(m,w){r[m]&&(i[m]=function(A){return new Promise(function(R,k){o.push([m,A,R,k])>1||u(m,A)})},w&&(i[m]=w(i[m])))}function u(m,w){try{l(r[m](w))}catch(A){g(o[0][3],A)}}function l(m){m.value instanceof pi?Promise.resolve(m.value.v).then(h,p):g(o[0][2],m)}function h(m){u("next",m)}function p(m){u("throw",m)}function g(m,w){m(w),o.shift(),o.length&&u(o[0][0],o[0][1])}}function uT(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof sT=="function"?sT(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Zu=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ju(t){return Z(t?.then)}function Xu(t){return Z(t[po])}function el(t){return Symbol.asyncIterator&&Z(t?.[Symbol.asyncIterator])}function tl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function KP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var nl=KP();function rl(t){return Z(t?.[nl])}function il(t){return cT(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield pi(n.read());if(i)return yield pi(void 0);yield yield pi(r)}}finally{n.releaseLock()}})}function ol(t){return Z(t?.getReader)}function Fe(t){if(t instanceof re)return t;if(t!=null){if(Xu(t))return QP(t);if(Zu(t))return YP(t);if(Ju(t))return ZP(t);if(el(t))return lT(t);if(rl(t))return JP(t);if(ol(t))return XP(t)}throw tl(t)}function QP(t){return new re(e=>{let n=t[po]();if(Z(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function YP(t){return new re(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function ZP(t){return new re(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Bu)})}function JP(t){return new re(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function lT(t){return new re(e=>{ex(t,e).catch(n=>e.error(n))})}function XP(t){return lT(il(t))}function ex(t,e){var n,r,i,o;return aT(this,void 0,void 0,function*(){try{for(n=uT(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function bt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Ar(t,e=0){return fe((n,r)=>{n.subscribe(de(r,i=>bt(r,t,()=>r.next(i),e),()=>bt(r,t,()=>r.complete(),e),i=>bt(r,t,()=>r.error(i),e)))})}function Rr(t,e=0){return fe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function dT(t,e){return Fe(t).pipe(Rr(e),Ar(e))}function hT(t,e){return Fe(t).pipe(Rr(e),Ar(e))}function fT(t,e){return new re(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function pT(t,e){return new re(n=>{let r;return bt(n,e,()=>{r=t[nl](),bt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Z(r?.return)&&r.return()})}function sl(t,e){if(!t)throw new Error("Iterable cannot be null");return new re(n=>{bt(n,e,()=>{let r=t[Symbol.asyncIterator]();bt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function gT(t,e){return sl(il(t),e)}function mT(t,e){if(t!=null){if(Xu(t))return dT(t,e);if(Zu(t))return fT(t,e);if(Ju(t))return hT(t,e);if(el(t))return sl(t,e);if(rl(t))return pT(t,e);if(ol(t))return gT(t,e)}throw tl(t)}function Se(t,e){return e?mT(t,e):Fe(t)}function G(...t){let e=Sr(t);return Se(t,e)}function vo(t,e){let n=Z(t)?t:()=>t,r=i=>i.error(n());return new re(e?i=>e.schedule(r,0,i):r)}function Qp(t){return!!t&&(t instanceof re||Z(t.lift)&&Z(t.subscribe))}var $n=uo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function se(t,e){return fe((n,r)=>{let i=0;n.subscribe(de(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:tx}=Array;function nx(t,e){return tx(e)?t(...e):t(e)}function al(t){return se(e=>nx(t,e))}var{isArray:rx}=Array,{getPrototypeOf:ix,prototype:ox,keys:sx}=Object;function cl(t){if(t.length===1){let e=t[0];if(rx(e))return{args:e,keys:null};if(ax(e)){let n=sx(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function ax(t){return t&&typeof t=="object"&&ix(t)===ox}function ul(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ll(...t){let e=Sr(t),n=Qu(t),{args:r,keys:i}=cl(t);if(r.length===0)return Se([],e);let o=new re(cx(r,e,i?s=>ul(i,s):Ft));return n?o.pipe(al(n)):o}function cx(t,e,n=Ft){return r=>{yT(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)yT(e,()=>{let l=Se(t[u],e),h=!1;l.subscribe(de(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function yT(t,e,n){t?bt(n,t,e):e()}function vT(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},m=A=>l<r?w(A):u.push(A),w=A=>{o&&e.next(A),l++;let R=!1;Fe(n(A,h++)).subscribe(de(e,k=>{i?.(k),o?m(k):e.next(k)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let k=u.shift();s?bt(e,s,()=>w(k)):w(k)}g()}catch(k){e.error(k)}}))};return t.subscribe(de(e,m,()=>{p=!0,g()})),()=>{a?.()}}function Ge(t,e,n=1/0){return Z(e)?Ge((r,i)=>se((o,s)=>e(r,o,i,s))(Fe(t(r,i))),n):(typeof e=="number"&&(n=e),fe((r,i)=>vT(r,i,t,n)))}function _T(t=1/0){return Ge(Ft,t)}function IT(){return _T(1)}function _o(...t){return IT()(Se(t,Sr(t)))}function dl(t){return new re(e=>{Fe(t()).subscribe(e)})}function ux(...t){let e=Qu(t),{args:n,keys:r}=cl(t),i=new re(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Fe(n[h]).subscribe(de(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?ul(r,a):a),o.complete())}))}});return e?i.pipe(al(e)):i}function Vt(t,e){return fe((n,r)=>{let i=0;n.subscribe(de(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Nr(t){return fe((e,n)=>{let r=null,i=!1,o;r=e.subscribe(de(n,void 0,void 0,s=>{o=Fe(t(s,Nr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function ET(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(de(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Mr(t,e){return Z(e)?Ge(t,e,1):Ge(t,1)}function Pr(t){return fe((e,n)=>{let r=!1;e.subscribe(de(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Hn(t){return t<=0?()=>Dt:fe((e,n)=>{let r=0;e.subscribe(de(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function hl(t=lx){return fe((e,n)=>{let r=!1;e.subscribe(de(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function lx(){return new $n}function gi(t){return fe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function zn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Vt((i,o)=>t(i,o,r)):Ft,Hn(1),n?Pr(e):hl(()=>new $n))}function Io(t){return t<=0?()=>Dt:fe((e,n)=>{let r=[];e.subscribe(de(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Yp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Vt((i,o)=>t(i,o,r)):Ft,Io(1),n?Pr(e):hl(()=>new $n))}function Zp(t,e){return fe(ET(t,e,arguments.length>=2,!0))}function Jp(...t){let e=Sr(t);return fe((n,r)=>{(e?_o(t,n,e):_o(t,n)).subscribe(r)})}function jt(t,e){return fe((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(de(r,u=>{i?.unsubscribe();let l=0,h=o++;Fe(t(u,h)).subscribe(i=de(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Xp(t){return fe((e,n)=>{Fe(t).subscribe(de(n,()=>n.complete(),fa)),!n.closed&&e.subscribe(n)})}function nt(t,e,n){let r=Z(t)||e||n?{next:t,error:e,complete:n}:t;return r?fe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(de(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ft}var uD="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",V=class extends Error{code;constructor(e,n){super(lD(e,n)),this.code=e}};function dx(t){return`NG0${Math.abs(t)}`}function lD(t,e){return`${dx(t)}${e?": "+e:""}`}var dD=Symbol("InputSignalNode#UNSET"),hx=me(F({},Fu),{transformFn:void 0,applyValueToInputSignal(t,e){da(t,e)}});function hD(t,e){let n=Object.create(hx);n.value=t,n.transformFn=e?.transform;function r(){if(ca(n),n.value===dD){let i=null;throw new V(-950,i)}return n.value}return r[Lt]=n,r}function Na(t){return{toString:t}.toString()}var fl="__parameters__";function fx(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function fD(t,e,n){return Na(()=>{let r=fx(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(fl)?u[fl]:Object.defineProperty(u,fl,{value:[]})[fl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var yi=globalThis;function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function px(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function At(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(At).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function mg(t,e){return t?e?`${t} ${e}`:t:e||""}var gx=we({__forward_ref__:we});function pD(t){return t.__forward_ref__=pD,t.toString=function(){return At(this())},t}function _t(t){return gD(t)?t():t}function gD(t){return typeof t=="function"&&t.hasOwnProperty(gx)&&t.__forward_ref__===pD}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Fo(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ql(t){return wT(t,yD)||wT(t,vD)}function mD(t){return Ql(t)!==null}function wT(t,e){return t.hasOwnProperty(e)?t[e]:null}function mx(t){let e=t&&(t[yD]||t[vD]);return e||null}function TT(t){return t&&(t.hasOwnProperty(DT)||t.hasOwnProperty(yx))?t[DT]:null}var yD=we({\u0275prov:we}),DT=we({\u0275inj:we}),vD=we({ngInjectableDef:we}),yx=we({ngInjectorDef:we}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function _D(t){return t&&!!t.\u0275providers}var vx=we({\u0275cmp:we}),_x=we({\u0275dir:we}),Ix=we({\u0275pipe:we}),Ex=we({\u0275mod:we}),wl=we({\u0275fac:we}),_a=we({__NG_ELEMENT_ID__:we}),bT=we({__NG_ENV_ID__:we});function bo(t){return typeof t=="string"?t:t==null?"":String(t)}function wx(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():bo(t)}function ID(t,e){throw new V(-200,t)}function vm(t,e){throw new V(-201,!1)}var ie=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ie||{}),yg;function ED(){return yg}function Ct(t){let e=yg;return yg=t,e}function wD(t,e,n){let r=Ql(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ie.Optional)return null;if(e!==void 0)return e;vm(t,"Injector")}var Tx={},vi=Tx,vg="__NG_DI_FLAG__",Tl=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?Vu:vi,r)}},Dl="ngTempTokenPath",Dx="ngTokenPath",bx=/\n/gm,Cx="\u0275",CT="__source";function Sx(t,e=ie.Default){if(ha()===void 0)throw new V(-203,!1);if(ha()===null)return wD(t,void 0,e);{let n=ha(),r;return n instanceof Tl?r=n.injector:r=n,r.get(t,e&ie.Optional?null:void 0,e)}}function K(t,e=ie.Default){return(ED()||Sx)(_t(t),e)}function x(t,e=ie.Default){return K(t,Yl(e))}function Yl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function _g(t){let e=[];for(let n=0;n<t.length;n++){let r=_t(t[n]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,o=ie.Default;for(let s=0;s<r.length;s++){let a=r[s],u=Ax(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(K(i,o))}else e.push(K(r))}return e}function TD(t,e){return t[vg]=e,t.prototype[vg]=e,t}function Ax(t){return t[vg]}function Rx(t,e,n,r){let i=t[Dl];throw e[CT]&&i.unshift(e[CT]),t.message=Nx(`
`+t.message,i,n,r),t[Dx]=i,t[Dl]=null,t}function Nx(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Cx?t.slice(2):t;let i=At(e);if(Array.isArray(e))i=e.map(At).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):At(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(bx,`
  `)}`}var Lr=TD(fD("Optional"),8);var Mx=TD(fD("SkipSelf"),4);function Ii(t,e){let n=t.hasOwnProperty(wl);return n?t[wl]:null}function Px(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function xx(t){return t.flat(Number.POSITIVE_INFINITY)}function _m(t,e){t.forEach(n=>Array.isArray(n)?_m(n,e):e(n))}function DD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function bl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function kx(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function Ox(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function bD(t,e,n){let r=Ma(t,e);return r>=0?t[r|1]=n:(r=~r,Ox(t,r,e,n)),r}function eg(t,e){let n=Ma(t,e);if(n>=0)return t[n|1]}function Ma(t,e){return Lx(t,e,1)}function Lx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Ei={},It=[],Ia=new $(""),CD=new $("",-1),SD=new $(""),Cl=class{get(e,n=vi){if(n===vi){let r=new Error(`NullInjectorError: No provider for ${At(e)}!`);throw r.name="NullInjectorError",r}return n}};function AD(t,e){let n=t[Ex]||null;if(!n&&e===!0)throw new Error(`Type ${At(t)} does not have '\u0275mod' property.`);return n}function Co(t){return t[vx]||null}function Fx(t){return t[_x]||null}function Vx(t){return t[Ix]||null}function Kn(t){return{\u0275providers:t}}function jx(...t){return{\u0275providers:RD(!0,t),\u0275fromNgModule:!0}}function RD(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return _m(e,s=>{let a=s;Ig(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&ND(i,o),n}function ND(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Im(i,o=>{e(o,r)})}}function Ig(t,e,n,r){if(t=_t(t),!t)return!1;let i=null,o=TT(t),s=!o&&Co(t);if(!o&&!s){let u=t.ngModule;if(o=TT(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Ig(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{_m(o.imports,h=>{Ig(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&ND(l,e)}if(!a){let l=Ii(i)||(()=>new i);e({provide:i,useFactory:l,deps:It},i),e({provide:SD,useValue:i,multi:!0},i),e({provide:Ia,useValue:()=>K(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Im(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Im(t,e){for(let n of t)_D(n)&&(n=n.\u0275providers),Array.isArray(n)?Im(n,e):e(n)}var Ux=we({provide:String,useValue:we});function MD(t){return t!==null&&typeof t=="object"&&Ux in t}function Bx(t){return!!(t&&t.useExisting)}function $x(t){return!!(t&&t.useFactory)}function So(t){return typeof t=="function"}function Hx(t){return!!t.useClass}var Zl=new $(""),ml={},ST={},tg;function Em(){return tg===void 0&&(tg=new Cl),tg}var rt=class{},Ea=class extends rt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,wg(e,s=>this.processProvider(s)),this.records.set(CD,Eo(void 0,this)),i.has("environment")&&this.records.set(rt,Eo(void 0,this));let o=this.records.get(Zl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(SD,It,ie.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?Vu:vi,r)}destroy(){ya(this),this._destroyed=!0;let e=ee(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ee(e)}}onDestroy(e){return ya(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ya(this);let n=Bn(this),r=Ct(void 0),i;try{return e()}finally{Bn(n),Ct(r)}}get(e,n=vi,r=ie.Default){if(ya(this),e.hasOwnProperty(bT))return e[bT](this);r=Yl(r);let i,o=Bn(this),s=Ct(void 0);try{if(!(r&ie.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=Kx(e)&&Ql(e);l&&this.injectableDefInScope(l)?u=Eo(Eg(e),ml):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,r)}let a=r&ie.Self?Em():this.parent;return n=r&ie.Optional&&n===vi?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Dl]=a[Dl]||[]).unshift(At(e)),o)throw a;return Rx(a,e,"R3InjectorError",this.source)}else throw a}finally{Ct(s),Bn(o)}}resolveInjectorInitializers(){let e=ee(null),n=Bn(this),r=Ct(void 0),i;try{let o=this.get(Ia,It,ie.Self);for(let s of o)s()}finally{Bn(n),Ct(r),ee(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(At(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=_t(e);let n=So(e)?e:_t(e&&e.provide),r=qx(e);if(!So(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Eo(void 0,ml,!0),i.factory=()=>_g(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=ee(null);try{return n.value===ST?ID(At(e)):n.value===ml&&(n.value=ST,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&Gx(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ee(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=_t(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Eg(t){let e=Ql(t),n=e!==null?e.factory:Ii(t);if(n!==null)return n;if(t instanceof $)throw new V(204,!1);if(t instanceof Function)return zx(t);throw new V(204,!1)}function zx(t){if(t.length>0)throw new V(204,!1);let n=mx(t);return n!==null?()=>n.factory(t):()=>new t}function qx(t){if(MD(t))return Eo(void 0,t.useValue);{let e=PD(t);return Eo(e,ml)}}function PD(t,e,n){let r;if(So(t)){let i=_t(t);return Ii(i)||Eg(i)}else if(MD(t))r=()=>_t(t.useValue);else if($x(t))r=()=>t.useFactory(..._g(t.deps||[]));else if(Bx(t))r=(i,o)=>K(_t(t.useExisting),o!==void 0&&o&ie.Optional?ie.Optional:void 0);else{let i=_t(t&&(t.useClass||t.provide));if(Wx(t))r=()=>new i(..._g(t.deps));else return Ii(i)||Eg(i)}return r}function ya(t){if(t.destroyed)throw new V(205,!1)}function Eo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Wx(t){return!!t.deps}function Gx(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Kx(t){return typeof t=="function"||typeof t=="object"&&t instanceof $}function wg(t,e){for(let n of t)Array.isArray(n)?wg(n,e):n&&_D(n)?wg(n.\u0275providers,e):e(n)}function it(t,e){let n;t instanceof Ea?(ya(t),n=t):n=new Tl(t);let r,i=Bn(n),o=Ct(void 0);try{return e()}finally{Bn(i),Ct(o)}}function xD(){return ED()!==void 0||ha()!=null}function wm(t){if(!xD())throw new V(-203,!1)}function Qx(t){return typeof t=="function"}var Qn=0,J=1,Q=2,dt=3,nn=4,Rt=5,Ao=6,Sl=7,Ke=8,Ro=9,qn=10,Ve=11,wa=12,AT=13,Vo=14,Ut=15,wi=16,wo=17,Wn=18,Jl=19,kD=20,xr=21,ng=22,Ti=23,Kt=24,rg=25,Le=26,OD=1;var Di=7,Al=8,No=9,lt=10;function kr(t){return Array.isArray(t)&&typeof t[OD]=="object"}function Yn(t){return Array.isArray(t)&&t[OD]===!0}function Tm(t){return(t.flags&4)!==0}function jo(t){return t.componentOffset>-1}function Xl(t){return(t.flags&1)===1}function gn(t){return!!t.template}function Rl(t){return(t[Q]&512)!==0}function Uo(t){return(t[Q]&256)===256}var Tg=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function LD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Pa=(()=>{let t=()=>FD;return t.ngInherit=!0,t})();function FD(t){return t.type.prototype.ngOnChanges&&(t.setInput=Zx),Yx}function Yx(){let t=jD(this),e=t?.current;if(e){let n=t.previous;if(n===Ei)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Zx(t,e,n,r,i){let o=this.declaredInputs[r],s=jD(t)||Jx(t,{previous:Ei,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Tg(l&&l.currentValue,n,u===Ei),LD(t,e,i,n)}var VD="__ngSimpleChanges__";function jD(t){return t[VD]||null}function Jx(t,e){return t[VD]=e}var RT=null;var Te=function(t,e=null,n){RT?.(t,e,n)},Xx="svg",ek="math";function mn(t){for(;Array.isArray(t);)t=t[Qn];return t}function UD(t,e){return mn(e[t])}function En(t,e){return mn(e[t.index])}function Dm(t,e){return t.data[e]}function ed(t,e){return t[e]}function bm(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function yn(t,e){let n=e[t];return kr(n)?n:n[Qn]}function Cm(t){return(t[Q]&128)===128}function tk(t){return Yn(t[dt])}function Or(t,e){return e==null?null:t[e]}function BD(t){t[wo]=0}function $D(t){t[Q]&1024||(t[Q]|=1024,Cm(t)&&xa(t))}function nk(t,e){for(;t>0;)e=e[Vo],t--;return e}function td(t){return!!(t[Q]&9216||t[Kt]?.dirty)}function Dg(t){t[qn].changeDetectionScheduler?.notify(8),t[Q]&64&&(t[Q]|=1024),td(t)&&xa(t)}function xa(t){t[qn].changeDetectionScheduler?.notify(0);let e=bi(t);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!Cm(e)));)e=bi(e)}function HD(t,e){if(Uo(t))throw new V(911,!1);t[xr]===null&&(t[xr]=[]),t[xr].push(e)}function rk(t,e){if(t[xr]===null)return;let n=t[xr].indexOf(e);n!==-1&&t[xr].splice(n,1)}function bi(t){let e=t[dt];return Yn(e)?e[dt]:e}function Sm(t){return t[Sl]??=[]}function Am(t){return t.cleanup??=[]}function ik(t,e,n,r){let i=Sm(e);i.push(n),t.firstCreatePass&&Am(t).push(r,i.length-1)}var oe={lFrame:YD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var bg=!1;function ok(){return oe.lFrame.elementDepthCount}function sk(){oe.lFrame.elementDepthCount++}function ak(){oe.lFrame.elementDepthCount--}function Rm(){return oe.bindingsEnabled}function zD(){return oe.skipHydrationRootTNode!==null}function ck(t){return oe.skipHydrationRootTNode===t}function uk(){oe.skipHydrationRootTNode=null}function te(){return oe.lFrame.lView}function je(){return oe.lFrame.tView}function MG(t){return oe.lFrame.contextLView=t,t[Ke]}function PG(t){return oe.lFrame.contextLView=null,t}function Nt(){let t=qD();for(;t!==null&&t.type===64;)t=t.parent;return t}function qD(){return oe.lFrame.currentTNode}function lk(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Fr(t,e){let n=oe.lFrame;n.currentTNode=t,n.isParent=e}function Nm(){return oe.lFrame.isParent}function Mm(){oe.lFrame.isParent=!1}function WD(){return oe.lFrame.contextLView}function GD(){return bg}function Nl(t){let e=bg;return bg=t,e}function ka(){let t=oe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function dk(){return oe.lFrame.bindingIndex}function hk(t){return oe.lFrame.bindingIndex=t}function Oa(){return oe.lFrame.bindingIndex++}function Pm(t){let e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function fk(){return oe.lFrame.inI18n}function pk(t,e){let n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,Cg(e)}function gk(){return oe.lFrame.currentDirectiveIndex}function Cg(t){oe.lFrame.currentDirectiveIndex=t}function mk(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function yk(){return oe.lFrame.currentQueryIndex}function xm(t){oe.lFrame.currentQueryIndex=t}function vk(t){let e=t[J];return e.type===2?e.declTNode:e.type===1?t[Rt]:null}function KD(t,e,n){if(n&ie.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ie.Host);)if(i=vk(o),i===null||(o=o[Vo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=oe.lFrame=QD();return r.currentTNode=e,r.lView=t,!0}function km(t){let e=QD(),n=t[J];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function QD(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?YD(t):e}function YD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function ZD(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var JD=ZD;function Om(){let t=ZD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _k(t){return(oe.lFrame.contextLView=nk(t,oe.lFrame.contextLView))[Ke]}function wn(){return oe.lFrame.selectedIndex}function Ci(t){oe.lFrame.selectedIndex=t}function XD(){let t=oe.lFrame;return Dm(t.tView,t.selectedIndex)}function Ik(){return oe.lFrame.currentNamespace}var eb=!0;function nd(){return eb}function rd(t){eb=t}function Ek(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=FD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Lm(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function yl(t,e,n){tb(t,e,3,n)}function vl(t,e,n,r){(t[Q]&3)===n&&tb(t,e,n,r)}function ig(t,e){let n=t[Q];(n&3)===e&&(n&=16383,n+=1,t[Q]=n)}function tb(t,e,n,r){let i=r!==void 0?t[wo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[wo]+=65536),(a<o||o==-1)&&(wk(t,n,e,u),t[wo]=(t[wo]&4294901760)+u+2),u++}function NT(t,e){Te(4,t,e);let n=ee(null);try{e.call(t)}finally{ee(n),Te(5,t,e)}}function wk(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Q]>>14<t[wo]>>16&&(t[Q]&3)===e&&(t[Q]+=16384,NT(a,o)):NT(a,o)}var Do=-1,Si=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function Tk(t){return(t.flags&8)!==0}function Dk(t){return(t.flags&16)!==0}function bk(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];Ck(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function nb(t){return t===3||t===4||t===6}function Ck(t){return t.charCodeAt(0)===64}function Mo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?MT(t,n,i,null,e[++r]):MT(t,n,i,null,null))}}return t}function MT(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function rb(t){return t!==Do}function Ml(t){return t&32767}function Sk(t){return t>>16}function Pl(t,e){let n=Sk(t),r=e;for(;n>0;)r=r[Vo],n--;return r}var Sg=!0;function xl(t){let e=Sg;return Sg=t,e}var Ak=256,ib=Ak-1,ob=5,Rk=0,pn={};function Nk(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(_a)&&(r=n[_a]),r==null&&(r=n[_a]=Rk++);let i=r&ib,o=1<<i;e.data[t+(i>>ob)]|=o}function kl(t,e){let n=sb(t,e);if(n!==-1)return n;let r=e[J];r.firstCreatePass&&(t.injectorIndex=e.length,og(r.data,t),og(e,null),og(r.blueprint,null));let i=Fm(t,e),o=t.injectorIndex;if(rb(i)){let s=Ml(i),a=Pl(i,e),u=a[J].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function og(t,e){t.push(0,0,0,0,0,0,0,0,e)}function sb(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Fm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=db(i),r===null)return Do;if(n++,i=i[Vo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Do}function Ag(t,e,n){Nk(t,e,n)}function Mk(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(nb(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function ab(t,e,n){if(n&ie.Optional||t!==void 0)return t;vm(e,"NodeInjector")}function cb(t,e,n,r){if(n&ie.Optional&&r===void 0&&(r=null),(n&(ie.Self|ie.Host))===0){let i=t[Ro],o=Ct(void 0);try{return i?i.get(e,r,n&ie.Optional):wD(e,r,n&ie.Optional)}finally{Ct(o)}}return ab(r,e,n)}function ub(t,e,n,r=ie.Default,i){if(t!==null){if(e[Q]&2048&&!(r&ie.Self)){let s=Ok(t,e,n,r,pn);if(s!==pn)return s}let o=lb(t,e,n,r,pn);if(o!==pn)return o}return cb(e,n,r,i)}function lb(t,e,n,r,i){let o=xk(n);if(typeof o=="function"){if(!KD(e,t,r))return r&ie.Host?ab(i,n,r):cb(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ie.Optional))vm(n);else return s}finally{JD()}}else if(typeof o=="number"){let s=null,a=sb(t,e),u=Do,l=r&ie.Host?e[Ut][Rt]:null;for((a===-1||r&ie.SkipSelf)&&(u=a===-1?Fm(t,e):e[a+8],u===Do||!xT(r,!1)?a=-1:(s=e[J],a=Ml(u),e=Pl(u,e)));a!==-1;){let h=e[J];if(PT(o,a,h.data)){let p=Pk(a,e,n,s,r,l);if(p!==pn)return p}u=e[a+8],u!==Do&&xT(r,e[J].data[a+8]===l)&&PT(o,a,e)?(s=h,a=Ml(u),e=Pl(u,e)):a=-1}}return i}function Pk(t,e,n,r,i,o){let s=e[J],a=s.data[t+8],u=r==null?jo(a)&&Sg:r!=s&&(a.type&3)!==0,l=i&ie.Host&&o===a,h=_l(a,s,n,u,l);return h!==null?Ta(e,s,h,a,i):pn}function _l(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let m=p;m<g;m++){let w=s[m];if(m<u&&n===w||m>=u&&w.type===n)return m}if(i){let m=s[u];if(m&&gn(m)&&m.type===n)return u}return null}function Ta(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof Si){let a=o;a.resolving&&ID(wx(s[n]));let u=xl(a.canSeeViewProviders);a.resolving=!0;let l,h=a.injectImpl?Ct(a.injectImpl):null,p=KD(t,r,ie.Default);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Ek(n,s[n],e)}finally{h!==null&&Ct(h),xl(u),a.resolving=!1,JD()}}return o}function xk(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(_a)?t[_a]:void 0;return typeof e=="number"?e>=0?e&ib:kk:e}function PT(t,e,n){let r=1<<t;return!!(n[e+(t>>ob)]&r)}function xT(t,e){return!(t&ie.Self)&&!(t&ie.Host&&e)}var _i=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return ub(this._tNode,this._lView,e,Yl(r),n)}};function kk(){return new _i(Nt(),te())}function Vm(t){return Na(()=>{let e=t.prototype.constructor,n=e[wl]||Rg(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[wl]||Rg(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Rg(t){return gD(t)?()=>{let e=Rg(_t(t));return e&&e()}:Ii(t)}function Ok(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Q]&2048&&!Rl(s);){let a=lb(o,s,n,r|ie.Self,pn);if(a!==pn)return a;let u=o.parent;if(!u){let l=s[kD];if(l){let h=l.get(n,pn,r);if(h!==pn)return h}u=db(s),s=s[Vo]}o=u}return i}function db(t){let e=t[J],n=e.type;return n===2?e.declTNode:n===1?t[Rt]:null}function jm(t){return Mk(Nt(),t)}function kT(t,e=null,n=null,r){let i=hb(t,e,n,r);return i.resolveInjectorInitializers(),i}function hb(t,e=null,n=null,r,i=new Set){let o=[n||It,jx(t)];return r=r||(typeof t=="object"?void 0:At(t)),new Ea(o,e||Em(),r||null,i)}var Et=class t{static THROW_IF_NOT_FOUND=vi;static NULL=new Cl;static create(e,n){if(Array.isArray(e))return kT({name:""},n,e,"");{let r=e.name??"";return kT({name:r},e.parent,e.providers,r)}}static \u0275prov=H({token:t,providedIn:"any",factory:()=>K(CD)});static __NG_ELEMENT_ID__=-1};var Lk=new $("");Lk.__NG_ELEMENT_ID__=t=>{let e=Nt();if(e===null)throw new V(204,!1);if(e.type&2)return e.value;if(t&ie.Optional)return null;throw new V(204,!1)};var fb=!1,Zn=(()=>{class t{static __NG_ELEMENT_ID__=Fk;static __NG_ENV_ID__=n=>n}return t})(),Ol=class extends Zn{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return Uo(n)?(e(),()=>{}):(HD(n,e),()=>rk(n,e))}};function Fk(){return new Ol(te())}var Ai=class{},Um=new $("",{providedIn:"root",factory:()=>!1});var pb=new $(""),gb=new $(""),Jn=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new tt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})(),id=(()=>{class t{internalPendingTasks=x(Jn);scheduler=x(Ai);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return _(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})(),Ng=class extends We{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,xD()&&(this.destroyRef=x(Zn,{optional:!0})??void 0,this.pendingTasks=x(Jn,{optional:!0})??void 0)}emit(e){let n=ee(null);try{super.next(e)}finally{ee(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Pe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},St=Ng;function Da(...t){}function mb(t){let e,n;function r(){t=Da;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function OT(t){return queueMicrotask(()=>t()),()=>{t=Da}}var Bm="isAngularZone",Ll=Bm+"_ID",Vk=0,_e=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new St(!1);onMicrotaskEmpty=new St(!1);onStable=new St(!1);onError=new St(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=fb}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Bk(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Bm)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new V(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,jk,Da,Da);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},jk={};function $m(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Uk(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){mb(()=>{t.callbackScheduled=!1,Mg(t),t.isCheckStableRunning=!0,$m(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Mg(t)}function Bk(t){let e=()=>{Uk(t)},n=Vk++;t._inner=t._inner.fork({name:"angular",properties:{[Bm]:!0,[Ll]:n,[Ll+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if($k(u))return r.invokeTask(o,s,a,u);try{return LT(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),FT(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return LT(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Hk(u)&&e(),FT(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Mg(t),$m(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Mg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function LT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function FT(t){t._nesting--,$m(t)}var Pg=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new St;onMicrotaskEmpty=new St;onStable=new St;onError=new St;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function $k(t){return yb(t,"__ignore_ng_zone__")}function Hk(t){return yb(t,"__scheduler_tick__")}function yb(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var vn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},zk=new $("",{providedIn:"root",factory:()=>{let t=x(_e),e=x(vn);return n=>t.runOutsideAngular(()=>e.handleError(n))}}),xg=class{destroyed=!1;listeners=null;errorHandler=x(vn,{optional:!0});destroyRef=x(Zn);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new V(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed){console.warn(lD(953,!1));return}if(this.listeners===null)return;let n=ee(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{ee(n)}}};function xG(t){return new xg}function VT(t,e){return hD(t,e)}function qk(t){return hD(dD,t)}var vb=(VT.required=qk,VT);function Wk(){return Bo(Nt(),te())}function Bo(t,e){return new Vr(En(t,e))}var Vr=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Wk}return t})();function Gk(t){return t instanceof Vr?t.nativeElement:t}function _b(t,e){let n=Mp(t,e?.equal),r=n[Lt];return n.set=i=>da(r,i),n.update=i=>Pp(r,i),n.asReadonly=Kk.bind(n),n}function Kk(){let t=this[Lt];if(t.readonlyFn===void 0){let e=()=>this();e[Lt]=t,t.readonlyFn=e}return t.readonlyFn}function Qk(){return this._results[Symbol.iterator]()}var kg=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new We}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=xx(e);(this._changesDetected=!Px(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Qk};function Ib(t){return(t.flags&128)===128}var Eb=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Eb||{}),wb=new Map,Yk=0;function Zk(){return Yk++}function Jk(t){wb.set(t[Jl],t)}function Og(t){wb.delete(t[Jl])}var jT="__ngContext__";function $o(t,e){kr(e)?(t[jT]=e[Jl],Jk(e)):t[jT]=e}function Tb(t){return bb(t[wa])}function Db(t){return bb(t[nn])}function bb(t){for(;t!==null&&!Yn(t);)t=t[nn];return t}var Lg;function Cb(t){Lg=t}function Xk(){if(Lg!==void 0)return Lg;if(typeof document<"u")return document;throw new V(210,!1)}var Hm=new $("",{providedIn:"root",factory:()=>eO}),eO="ng",zm=new $(""),Pi=new $("",{providedIn:"platform",factory:()=>"unknown"});var qm=new $("",{providedIn:"root",factory:()=>Xk().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var tO="h",nO="b";var Sb=!1,rO=new $("",{providedIn:"root",factory:()=>Sb});var Ab=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Ab||{}),od=new $(""),UT=new Set;function Ho(t){UT.has(t)||(UT.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Rb=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=iO}return t})();function iO(){return new Rb(te(),Nt())}var oO=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})();var sO=(t,e,n,r)=>{};function aO(t,e,n,r){sO(t,e,n,r)}var cO=()=>null;function Nb(t,e,n=!1){return cO(t,e,n)}function Mb(t,e){let n=t.contentQueries;if(n!==null){let r=ee(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];xm(o),a.contentQueries(2,e[s],s)}}}finally{ee(r)}}}function Fg(t,e,n){xm(0);let r=ee(null);try{e(t,n)}finally{ee(r)}}function Wm(t,e,n){if(Tm(e)){let r=ee(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{ee(r)}}}var _n=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(_n||{});var pl;function uO(){if(pl===void 0&&(pl=null,yi.trustedTypes))try{pl=yi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pl}function BT(t){return uO()?.createScriptURL(t)||t}var Fl=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${uD})`}};function La(t){return t instanceof Fl?t.changingThisBreaksApplicationSecurity:t}function Pb(t,e){let n=lO(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${uD})`)}return n===e}function lO(t){return t instanceof Fl&&t.getTypeName()||null}var dO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function hO(t){return t=String(t),t.match(dO)?t:"unsafe:"+t}var Gm=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Gm||{});function fO(t){let e=kb();return e?e.sanitize(Gm.URL,t)||"":Pb(t,"URL")?La(t):hO(bo(t))}function pO(t){let e=kb();if(e)return BT(e.sanitize(Gm.RESOURCE_URL,t)||"");if(Pb(t,"ResourceURL"))return BT(La(t));throw new V(904,!1)}function gO(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?pO:fO}function xb(t,e,n){return gO(e,n)(t)}function kb(){let t=te();return t&&t[qn].sanitizer}var mO=/^>|^->|<!--|-->|--!>|<!-$/g,yO=/(<|>)/g,vO="\u200B$1\u200B";function _O(t){return t.replace(mO,e=>e.replace(yO,vO))}function Ob(t){return t instanceof Function?t():t}function IO(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var Lb="ng-template";function EO(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&IO(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Km(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Km(t){return t.type===4&&t.value!==Lb}function wO(t,e,n){let r=t.type===4&&!n?Lb:t.value;return e===r}function TO(t,e,n){let r=4,i=t.attrs,o=i!==null?CO(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!tn(r)&&!tn(u))return!1;if(s&&tn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!wO(t,u,n)||u===""&&e.length===1){if(tn(r))return!1;s=!0}}else if(r&8){if(i===null||!EO(t,i,u,n)){if(tn(r))return!1;s=!0}}else{let l=e[++a],h=DO(u,i,Km(t),n);if(h===-1){if(tn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(tn(r))return!1;s=!0}}}}return tn(r)||s}function tn(t){return(t&1)===0}function DO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return SO(e,t)}function Fb(t,e,n=!1){for(let r=0;r<e.length;r++)if(TO(t,e[r],n))return!0;return!1}function bO(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function CO(t){for(let e=0;e<t.length;e++){let n=t[e];if(nb(n))return e}return t.length}function SO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function AO(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function $T(t,e){return t?":not("+e.trim()+")":e}function RO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!tn(s)&&(e+=$T(o,i),i=""),r=s,o=o||!tn(r);n++}return i!==""&&(e+=$T(o,i)),e}function NO(t){return t.map(RO).join(",")}function MO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!tn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Bt={};function PO(t,e){return t.createText(e)}function xO(t,e,n){t.setValue(e,n)}function kO(t,e){return t.createComment(_O(e))}function Vb(t,e,n){return t.createElement(e,n)}function Vl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function jb(t,e,n){t.appendChild(e,n)}function HT(t,e,n,r,i){r!==null?Vl(t,e,n,r,i):jb(t,e,n)}function OO(t,e,n){t.removeChild(null,e,n)}function LO(t,e,n){t.setAttribute(e,"style",n)}function FO(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Ub(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&bk(t,e,r),i!==null&&FO(t,e,i),o!==null&&LO(t,e,o)}function Qm(t,e,n,r,i,o,s,a,u,l,h){let p=Le+r,g=p+i,m=VO(p,g),w=typeof l=="function"?l():l;return m[J]={type:t,blueprint:m,template:n,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:w,incompleteFirstPass:!1,ssrId:h}}function VO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Bt);return n}function jO(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Qm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ym(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Qn]=i,p[Q]=r|4|128|8|64|1024,(l!==null||t&&t[Q]&2048)&&(p[Q]|=2048),BD(p),p[dt]=p[Vo]=t,p[Ke]=n,p[qn]=s||t&&t[qn],p[Ve]=a||t&&t[Ve],p[Ro]=u||t&&t[Ro]||null,p[Rt]=o,p[Jl]=Zk(),p[Ao]=h,p[kD]=l,p[Ut]=e.type==2?t[Ut]:p,p}function UO(t,e,n){let r=En(e,t),i=jO(n),o=t[qn].rendererFactory,s=Zm(t,Ym(t,i,null,Bb(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function Bb(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function $b(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Zm(t,e){return t[wa]?t[AT][nn]=e:t[wa]=e,t[AT]=e,e}function kG(t=1){Hb(je(),te(),wn()+t,!1)}function Hb(t,e,n,r){if(!r)if((e[Q]&3)===3){let o=t.preOrderCheckHooks;o!==null&&yl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&vl(e,o,0,n)}Ci(n)}var sd=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(sd||{});function Vg(t,e,n,r){let i=ee(null);try{let[o,s,a]=t.inputs[n],u=null;(s&sd.SignalBased)!==0&&(u=e[o][Lt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):LD(e,u,o,r)}finally{ee(i)}}function zb(t,e,n,r,i){let o=wn(),s=r&2;try{Ci(-1),s&&e.length>Le&&Hb(t,e,Le,!1),Te(s?2:0,i),n(r,i)}finally{Ci(o),Te(s?3:1,i)}}function ad(t,e,n){GO(t,e,n),(n.flags&64)===64&&KO(t,e,n)}function Jm(t,e,n=En){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function BO(t,e,n,r){let o=r.get(rO,Sb)||n===_n.ShadowDom,s=t.selectRootElement(e,o);return $O(s),s}function $O(t){HO(t)}var HO=()=>null;function zO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function qO(t,e,n,r,i,o,s,a){if(!a&&ey(e,t,n,r,i)){jo(e)&&WO(n,e.index);return}if(e.type&3){let u=En(e,n);r=zO(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function WO(t,e){let n=yn(e,t);n[Q]&16||(n[Q]|=64)}function GO(t,e,n){let r=n.directiveStart,i=n.directiveEnd;jo(n)&&UO(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||kl(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=Ta(e,t,s,n);if($o(u,e),o!==null&&JO(e,s-r,u,a,n,o),gn(a)){let l=yn(n.index,e);l[Ke]=Ta(e,t,s,n)}}}function KO(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=gk();try{Ci(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Cg(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&QO(u,l)}}finally{Ci(-1),Cg(s)}}function QO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Xm(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];Fb(e,o.selectors,!1)&&(r??=[],gn(o)?r.unshift(o):r.push(o))}return r}function YO(t,e,n,r,i,o){let s=En(t,e);ZO(e[Ve],s,o,t.value,n,r,i)}function ZO(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?bo(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function JO(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Vg(r,n,u,l)}}function XO(t,e){let n=t[Ro],r=n?n.get(vn,null):null;r&&r.handleError(e)}function ey(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Vg(p,n[l],h,i),a=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];Vg(h,l,r,i),a=!0}return a}function e1(t,e){let n=yn(e,t),r=n[J];t1(r,n);let i=n[Qn];i!==null&&n[Ao]===null&&(n[Ao]=Nb(i,n[Ro])),Te(18),ty(r,n,n[Ke]),Te(19,n[Ke])}function t1(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function ty(t,e,n){km(e);try{let r=t.viewQuery;r!==null&&Fg(1,r,n);let i=t.template;i!==null&&zb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Wn]?.finishViewCreation(t),t.staticContentQueries&&Mb(t,e),t.staticViewQueries&&Fg(2,t.viewQuery,n);let o=t.components;o!==null&&n1(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Q]&=-5,Om()}}function n1(t,e){for(let n=0;n<e.length;n++)e1(t,e[n])}function Fa(t,e,n,r){let i=ee(null);try{let o=e.tView,a=t[Q]&4096?4096:16,u=Ym(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[wi]=l;let h=t[Wn];return h!==null&&(u[Wn]=h.createEmbeddedView(o)),ty(o,u,n),u}finally{ee(i)}}function Po(t,e){return!e||e.firstChild===null||Ib(t)}var r1;function ny(t,e){return r1(t,e)}var Gn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Gn||{});function ry(t){return(t.flags&32)===32}function To(t,e,n,r,i){if(r!=null){let o,s=!1;Yn(r)?o=r:kr(r)&&(s=!0,r=r[Qn]);let a=mn(r);t===0&&n!==null?i==null?jb(e,n,a):Vl(e,n,a,i||null,!0):t===1&&n!==null?Vl(e,n,a,i||null,!0):t===2?OO(e,a,s):t===3&&e.destroyNode(a),o!=null&&f1(e,t,o,n,i)}}function i1(t,e){qb(t,e),e[Qn]=null,e[Rt]=null}function o1(t,e,n,r,i,o){r[Qn]=i,r[Rt]=e,ld(t,r,n,1,i,o)}function qb(t,e){e[qn].changeDetectionScheduler?.notify(9),ld(t,e,e[Ve],2,null,null)}function s1(t){let e=t[wa];if(!e)return sg(t[J],t);for(;e;){let n=null;if(kr(e))n=e[wa];else{let r=e[lt];r&&(n=r)}if(!n){for(;e&&!e[nn]&&e!==t;)kr(e)&&sg(e[J],e),e=e[dt];e===null&&(e=t),kr(e)&&sg(e[J],e),n=e&&e[nn]}e=n}}function iy(t,e){let n=t[No],r=n.indexOf(e);n.splice(r,1)}function cd(t,e){if(Uo(e))return;let n=e[Ve];n.destroyNode&&ld(t,e,n,3,null,null),s1(e)}function sg(t,e){if(Uo(e))return;let n=ee(null);try{e[Q]&=-129,e[Q]|=256,e[Kt]&&la(e[Kt]),c1(t,e),a1(t,e),e[J].type===1&&e[Ve].destroy();let r=e[wi];if(r!==null&&Yn(e[dt])){r!==e[dt]&&iy(r,e);let i=e[Wn];i!==null&&i.detachView(t)}Og(e)}finally{ee(n)}}function a1(t,e){let n=t.cleanup,r=e[Sl];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[Sl]=null);let i=e[xr];if(i!==null){e[xr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Ti];if(o!==null){e[Ti]=null;for(let s of o)s.destroy()}}function c1(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Si)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Te(4,a,u);try{u.call(a)}finally{Te(5,a,u)}}else{Te(4,i,o);try{o.call(i)}finally{Te(5,i,o)}}}}}function Wb(t,e,n){return u1(t,e.parent,n)}function u1(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Qn];if(jo(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===_n.None||i===_n.Emulated)return null}return En(r,n)}function Gb(t,e,n){return d1(t,e,n)}function l1(t,e,n){return t.type&40?En(t,n):null}var d1=l1,zT;function ud(t,e,n,r){let i=Wb(t,r,e),o=e[Ve],s=r.parent||e[Rt],a=Gb(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)HT(o,i,n[u],a,!1);else HT(o,i,n,a,!1);zT!==void 0&&zT(o,r,e,n,i)}function va(t,e){if(e!==null){let n=e.type;if(n&3)return En(e,t);if(n&4)return jg(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return va(t,r);{let i=t[e.index];return Yn(i)?jg(-1,i):mn(i)}}else{if(n&128)return va(t,e.next);if(n&32)return ny(e,t)()||mn(t[e.index]);{let r=Kb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=bi(t[Ut]);return va(i,r)}else return va(t,e.next)}}}return null}function Kb(t,e){if(e!==null){let r=t[Ut][Rt],i=e.projection;return r.projection[i]}return null}function jg(t,e){let n=lt+t+1;if(n<e.length){let r=e[n],i=r[J].firstChild;if(i!==null)return va(r,i)}return e[Di]}function oy(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&$o(mn(a),r),n.flags|=2),!ry(n))if(u&8)oy(t,e,n.child,r,i,o,!1),To(e,t,i,a,o);else if(u&32){let l=ny(n,r),h;for(;h=l();)To(e,t,i,h,o);To(e,t,i,a,o)}else u&16?Qb(t,e,r,n,i,o):To(e,t,i,a,o);n=s?n.projectionNext:n.next}}function ld(t,e,n,r,i,o){oy(n,r,t.firstChild,e,i,o,!1)}function h1(t,e,n){let r=e[Ve],i=Wb(t,n,e),o=n.parent||e[Rt],s=Gb(o,n,e);Qb(r,0,e,n,i,s)}function Qb(t,e,n,r,i,o){let s=n[Ut],u=s[Rt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];To(e,t,i,h,o)}else{let l=u,h=s[dt];Ib(r)&&(l.flags|=128),oy(t,e,l,h,i,o,!0)}}function f1(t,e,n,r,i){let o=n[Di],s=mn(n);o!==s&&To(e,t,r,o,i);for(let a=lt;a<n.length;a++){let u=n[a];ld(u[J],u,t,e,r,o)}}function p1(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Gn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Gn.Important),t.setStyle(n,r,i,o))}}function jl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(mn(o)),Yn(o)&&g1(o,r);let s=n.type;if(s&8)jl(t,e,n.child,r);else if(s&32){let a=ny(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=Kb(e,n);if(Array.isArray(a))r.push(...a);else{let u=bi(e[Ut]);jl(u[J],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function g1(t,e){for(let n=lt;n<t.length;n++){let r=t[n],i=r[J].firstChild;i!==null&&jl(r[J],r,i,e)}t[Di]!==t[Qn]&&e.push(t[Di])}function Yb(t){if(t[rg]!==null){for(let e of t[rg])e.impl.addSequence(e);t[rg].length=0}}var Zb=[];function m1(t){return t[Kt]??y1(t)}function y1(t){let e=Zb.pop()??Object.create(_1);return e.lView=t,e}function v1(t){t.lView[Kt]!==t&&(t.lView=null,Zb.push(t))}var _1=me(F({},co),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{xa(t.lView)},consumerOnSignalRead(){this.lView[Kt]=this}});function I1(t){let e=t[Kt]??Object.create(E1);return e.lView=t,e}var E1=me(F({},co),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=bi(t.lView);for(;e&&!Jb(e[J]);)e=bi(e);e&&$D(e)},consumerOnSignalRead(){this.lView[Kt]=this}});function Jb(t){return t.type!==2}function Xb(t){if(t[Ti]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Ti])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[Q]&8192)}}var w1=100;function eC(t,e=!0,n=0){let i=t[qn].rendererFactory,o=!1;o||i.begin?.();try{T1(t,n)}catch(s){throw e&&XO(t,s),s}finally{o||i.end?.()}}function T1(t,e){let n=GD();try{Nl(!0),Ug(t,e);let r=0;for(;td(t);){if(r===w1)throw new V(103,!1);r++,Ug(t,1)}}finally{Nl(n)}}function D1(t,e,n,r){if(Uo(e))return;let i=e[Q],o=!1,s=!1;km(e);let a=!0,u=null,l=null;o||(Jb(t)?(l=m1(e),u=ua(l)):Cp()===null?(a=!1,l=I1(e),u=ua(l)):e[Kt]&&(la(e[Kt]),e[Kt]=null));try{BD(e),hk(t.bindingStartIndex),n!==null&&zb(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let m=t.preOrderCheckHooks;m!==null&&yl(e,m,null)}else{let m=t.preOrderHooks;m!==null&&vl(e,m,0,null),ig(e,0)}if(s||b1(e),Xb(e),tC(e,0),t.contentQueries!==null&&Mb(t,e),!o)if(h){let m=t.contentCheckHooks;m!==null&&yl(e,m)}else{let m=t.contentHooks;m!==null&&vl(e,m,1),ig(e,1)}S1(t,e);let p=t.components;p!==null&&rC(e,p,0);let g=t.viewQuery;if(g!==null&&Fg(2,g,r),!o)if(h){let m=t.viewCheckHooks;m!==null&&yl(e,m)}else{let m=t.viewHooks;m!==null&&vl(e,m,2),ig(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ng]){for(let m of e[ng])m();e[ng]=null}o||(Yb(e),e[Q]&=-73)}catch(h){throw o||xa(e),h}finally{l!==null&&(Pu(l,u),a&&v1(l)),Om()}}function tC(t,e){for(let n=Tb(t);n!==null;n=Db(n))for(let r=lt;r<n.length;r++){let i=n[r];nC(i,e)}}function b1(t){for(let e=Tb(t);e!==null;e=Db(e)){if(!(e[Q]&2))continue;let n=e[No];for(let r=0;r<n.length;r++){let i=n[r];$D(i)}}}function C1(t,e,n){Te(18);let r=yn(e,t);nC(r,n),Te(19,r[Ke])}function nC(t,e){Cm(t)&&Ug(t,e)}function Ug(t,e){let r=t[J],i=t[Q],o=t[Kt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&xu(o)),s||=!1,o&&(o.dirty=!1),t[Q]&=-9217,s)D1(r,t,r.template,t[Ke]);else if(i&8192){Xb(t),tC(t,1);let a=r.components;a!==null&&rC(t,a,1),Yb(t)}}function rC(t,e,n){for(let r=0;r<e.length;r++)C1(t,e[r],n)}function S1(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ci(~i);else{let o=i,s=n[++r],a=n[++r];pk(s,o);let u=e[o];Te(24,u),a(2,u),Te(25,u)}}}finally{Ci(-1)}}function sy(t,e){let n=GD()?64:1088;for(t[qn].changeDetectionScheduler?.notify(e);t;){t[Q]|=n;let r=bi(t);if(Rl(t)&&!r)return t;t=r}return null}function iC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function oC(t,e){let n=lt+e;if(n<t.length)return t[n]}function Va(t,e,n,r=!0){let i=e[J];if(A1(i,e,t,n),r){let s=jg(n,t),a=e[Ve],u=a.parentNode(t[Di]);u!==null&&o1(i,t[Rt],a,e,u,s)}let o=e[Ao];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function sC(t,e){let n=ba(t,e);return n!==void 0&&cd(n[J],n),n}function ba(t,e){if(t.length<=lt)return;let n=lt+e,r=t[n];if(r){let i=r[wi];i!==null&&i!==t&&iy(i,r),e>0&&(t[n-1][nn]=r[nn]);let o=bl(t,lt+e);i1(r[J],r);let s=o[Wn];s!==null&&s.detachView(o[J]),r[dt]=null,r[nn]=null,r[Q]&=-129}return r}function A1(t,e,n,r){let i=lt+r,o=n.length;r>0&&(n[i-1][nn]=e),r<o-lt?(e[nn]=n[i],DD(n,lt+r,e)):(n.push(e),e[nn]=null),e[dt]=n;let s=e[wi];s!==null&&n!==s&&aC(s,e);let a=e[Wn];a!==null&&a.insertView(t),Dg(e),e[Q]|=128}function aC(t,e){let n=t[No],r=e[dt];if(kr(r))t[Q]|=2;else{let i=r[dt][Ut];e[Ut]!==i&&(t[Q]|=2)}n===null?t[No]=[e]:n.push(e)}var Ca=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[J];return jl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Ke]}set context(e){this._lView[Ke]=e}get destroyed(){return Uo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[dt];if(Yn(e)){let n=e[Al],r=n?n.indexOf(this):-1;r>-1&&(ba(e,r),bl(n,r))}this._attachedToViewContainer=!1}cd(this._lView[J],this._lView)}onDestroy(e){HD(this._lView,e)}markForCheck(){sy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){Dg(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,eC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Rl(this._lView),n=this._lView[wi];n!==null&&!e&&iy(n,this._lView),qb(this._lView[J],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let n=Rl(this._lView),r=this._lView[wi];r!==null&&!n&&aC(r,this._lView),Dg(this._lView)}};var Ri=(()=>{class t{static __NG_ELEMENT_ID__=M1}return t})(),R1=Ri,N1=class extends R1{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Fa(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Ca(i)}};function M1(){return dd(Nt(),te())}function dd(t,e){return t.type&4?new N1(e,t,Bo(t,e)):null}function zo(t,e,n,r,i){let o=t.data[e];if(o===null)o=P1(t,e,n,r,i),fk()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=lk();o.injectorIndex=s===null?-1:s.injectorIndex}return Fr(o,!0),o}function P1(t,e,n,r,i){let o=qD(),s=Nm(),a=s?o:o&&o.parent,u=t.data[e]=k1(t,a,n,e,r,i);return x1(t,u,o,s),u}function x1(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function k1(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return zD()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var FG=new RegExp(`^(\\d+)*(${nO}|${tO})*(.*)`);var O1=()=>null;function xo(t,e){return O1(t,e)}var L1=class{},cC=class{},Bg=class{resolveComponentFactory(e){throw Error(`No component factory found for ${At(e)}.`)}},hd=class{static NULL=new Bg},ko=class{},fd=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>F1()}return t})();function F1(){let t=te(),e=Nt(),n=yn(e.index,t);return(kr(n)?n:t)[Ve]}var V1=(()=>{class t{static \u0275prov=H({token:t,providedIn:"root",factory:()=>null})}return t})();var ag={},$g=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Yl(r);let i=this.injector.get(e,ag,r);return i!==ag||n===ag?i:this.parentInjector.get(e,n,r)}};function Hg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=mg(i,a);else if(o==2){let u=a,l=e[++s];r=mg(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function xe(t,e=ie.Default){let n=te();if(n===null)return K(t,e);let r=Nt();return ub(r,n,_t(t),e)}function ay(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a,u=null,l=null,h=U1(s);h===null?a=s:[a,u,l]=h,H1(t,e,n,a,o,u,l)}o!==null&&r!==null&&j1(n,r,o)}function j1(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new V(-301,!1);r.push(e[i],o)}}function U1(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&gn(a)&&(e=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,B1(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function B1(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function $1(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function H1(t,e,n,r,i,o,s){let a=r.length,u=!1;for(let g=0;g<a;g++){let m=r[g];!u&&gn(m)&&(u=!0,$1(t,n,g)),Ag(kl(n,e),t,m.type)}Q1(n,t.data.length,a);for(let g=0;g<a;g++){let m=r[g];m.providersResolver&&m.providersResolver(m)}let l=!1,h=!1,p=$b(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let g=0;g<a;g++){let m=r[g];if(n.mergedAttrs=Mo(n.mergedAttrs,m.hostAttrs),q1(t,n,e,p,m),K1(p,m,i),s!==null&&s.has(m)){let[A,R]=s.get(m);n.directiveToIndex.set(m.type,[p,A+n.directiveStart,R+n.directiveStart])}else(o===null||!o.has(m))&&n.directiveToIndex.set(m.type,p);m.contentQueries!==null&&(n.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(n.flags|=64);let w=m.type.prototype;!l&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(w.ngOnChanges||w.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}z1(t,n,o)}function z1(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))qT(0,e,i,r),qT(1,e,i,r),GT(e,r,!1);else{let o=n.get(i);WT(0,e,o,r),WT(1,e,o,r),GT(e,r,!0)}}}function qT(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),uC(e,o)}}function WT(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),uC(e,s)}}function uC(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function GT(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Km(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function q1(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Ii(i.type,!0)),s=new Si(o,gn(i),xe);t.blueprint[r]=s,n[r]=s,W1(t,e,r,$b(t,n,i.hostVars,Bt),i)}function W1(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;G1(s)!=a&&s.push(a),s.push(n,r,o)}}function G1(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function K1(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;gn(e)&&(n[""]=t)}}function Q1(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function lC(t,e,n,r,i,o,s,a){let u=e.consts,l=Or(u,s),h=zo(e,t,2,r,l);return o&&ay(e,n,h,Or(u,a),i),h.mergedAttrs=Mo(h.mergedAttrs,h.attrs),h.attrs!==null&&Hg(h,h.attrs,!1),h.mergedAttrs!==null&&Hg(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function dC(t,e){Lm(t,e),Tm(e)&&t.queries.elementEnd(e)}var Ul=class extends hd{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Co(e);return new Sa(n,this.ngModule)}};function Y1(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&sd.SignalBased)!==0};return i&&(o.transform=i),o})}function Z1(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function J1(t,e,n){let r=e instanceof rt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new $g(n,r):n}function X1(t){let e=t.get(ko,null);if(e===null)throw new V(407,!1);let n=t.get(V1,null),r=t.get(Ai,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function eL(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return Vb(e,n,n==="svg"?Xx:n==="math"?ek:null)}var Sa=class extends cC{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Y1(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Z1(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=NO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){Te(22);let o=ee(null);try{let s=this.componentDef,a=r?["ng-version","19.2.14"]:MO(this.componentDef.selectors[0]),u=Qm(0,null,null,1,0,null,null,null,null,[a],null),l=J1(s,i||this.ngModule,e),h=X1(l),p=h.rendererFactory.createRenderer(null,s),g=r?BO(p,r,s.encapsulation,l):eL(s,p),m=Ym(null,u,null,512|Bb(s),null,null,h,p,l,null,Nb(g,l,!0));m[Le]=g,km(m);let w=null;try{let A=lC(Le,u,m,"#host",()=>[this.componentDef],!0,0);g&&(Ub(p,g,A),$o(g,m)),ad(u,m,A),Wm(u,A,m),dC(u,A),n!==void 0&&tL(A,this.ngContentSelectors,n),w=yn(A.index,m),m[Ke]=w[Ke],ty(u,m,null)}catch(A){throw w!==null&&Og(w),Og(m),A}finally{Te(23),Om()}return new zg(this.componentType,m)}finally{ee(o)}}},zg=class extends L1{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=Dm(n[J],Le),this.location=Bo(this._tNode,n),this.instance=yn(this._tNode.index,n)[Ke],this.hostView=this.changeDetectorRef=new Ca(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=ey(r,i[J],i,e,n);this.previousInputValues.set(e,n);let s=yn(r.index,i);sy(s,1)}get injector(){return new _i(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function tL(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var jr=(()=>{class t{static __NG_ELEMENT_ID__=nL}return t})();function nL(){let t=Nt();return fC(t,te())}var rL=jr,hC=class extends rL{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Bo(this._hostTNode,this._hostLView)}get injector(){return new _i(this._hostTNode,this._hostLView)}get parentInjector(){let e=Fm(this._hostTNode,this._hostLView);if(rb(e)){let n=Pl(e,this._hostLView),r=Ml(e),i=n[J].data[r+8];return new _i(i,n)}else return new _i(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=KT(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-lt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=xo(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Po(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!Qx(e),a;if(s)a=n;else{let w=n||{};a=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}let u=s?e:new Sa(Co(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let A=(s?l:this.parentInjector).get(rt,null);A&&(o=A)}let h=Co(u.componentType??{}),p=xo(this._lContainer,h?.id??null),g=p?.firstChild??null,m=u.create(l,i,g,o);return this.insertImpl(m.hostView,a,Po(this._hostTNode,p)),m}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(tk(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[dt],l=new hC(u,u[Rt],u[dt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Va(s,i,o,r),e.attachToViewContainerRef(),DD(cg(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=KT(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ba(this._lContainer,n);r&&(bl(cg(this._lContainer),n),cd(r[J],r))}detach(e){let n=this._adjustIndex(e,-1),r=ba(this._lContainer,n);return r&&bl(cg(this._lContainer),n)!=null?new Ca(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function KT(t){return t[Al]}function cg(t){return t[Al]||(t[Al]=[])}function fC(t,e){let n,r=e[t.index];return Yn(r)?n=r:(n=iC(r,e,null,t),e[t.index]=n,Zm(e,n)),oL(n,e,t,r),new hC(n,t,e)}function iL(t,e){let n=t[Ve],r=n.createComment(""),i=En(e,t),o=n.parentNode(i);return Vl(n,o,r,n.nextSibling(i),!1),r}var oL=cL,sL=()=>!1;function aL(t,e,n){return sL(t,e,n)}function cL(t,e,n,r){if(t[Di])return;let i;n.type&8?i=mn(r):i=iL(e,n),t[Di]=i}var qg=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Wg=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)mC(e,n).matches!==null&&this.queries[n].setDirty()}},Gg=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=gL(e):this.predicate=e}},Kg=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Qg=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,uL(n,o)),this.matchTNodeWithReadOption(e,n,_l(n,e,o,!1,!1))}else r===Ri?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,_l(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Vr||i===jr||i===Ri&&n.type&4)this.addMatch(n.index,-2);else{let o=_l(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function uL(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function lL(t,e){return t.type&11?Bo(t,e):t.type&4?dd(t,e):null}function dL(t,e,n,r){return n===-1?lL(e,t):n===-2?hL(t,e,r):Ta(t,t[J],n,e)}function hL(t,e,n){if(n===Vr)return Bo(e,t);if(n===Ri)return dd(e,t);if(n===jr)return fC(e,t)}function pC(t,e,n,r){let i=e[Wn].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(dL(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Yg(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=pC(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=lt;p<h.length;p++){let g=h[p];g[wi]===g[dt]&&Yg(g[J],g,l,r)}if(h[No]!==null){let p=h[No];for(let g=0;g<p.length;g++){let m=p[g];Yg(m[J],m,l,r)}}}}}return r}function gC(t,e){return t[Wn].queries[e].queryList}function fL(t,e,n){let r=new kg((n&4)===4);return ik(t,e,r,r.destroy),(e[Wn]??=new Wg).queries.push(new qg(r))-1}function pL(t,e,n){let r=je();return r.firstCreatePass&&(mL(r,new Gg(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),fL(r,te(),e)}function gL(t){return t.split(",").map(e=>e.trim())}function mL(t,e,n){t.queries===null&&(t.queries=new Kg),t.queries.track(new Qg(e,n))}function mC(t,e){return t.queries.getByIndex(e)}function yL(t,e){let n=t[J],r=mC(n,e);return r.crossesNgTemplate?Yg(n,t,e,[]):pC(n,t,r,e)}function yC(t,e,n){let r,i=Lu(()=>{r._dirtyCounter();let o=EL(r,t);if(e&&o===void 0)throw new V(-951,!1);return o});return r=i[Lt],r._dirtyCounter=_b(0),r._flatValue=void 0,i}function vL(t){return yC(!0,!1,t)}function _L(t){return yC(!0,!0,t)}function IL(t,e){let n=t[Lt];n._lView=te(),n._queryIndex=e,n._queryList=gC(n._lView,e),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function EL(t,e){let n=t._lView,r=t._queryIndex;if(n===void 0||r===void 0||n[Q]&4)return e?void 0:It;let i=gC(n,r),o=yL(n,r);return i.reset(o,Gk),e?i.first:i._changesDetected||t._flatValue===void 0?t._flatValue=i.toArray():t._flatValue}function QT(t,e){return vL(e)}function wL(t,e){return _L(e)}var $G=(QT.required=wL,QT);var Oo=class{},cy=class{};var Zg=class extends Oo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ul(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=AD(e);this._bootstrapComponents=Ob(o.bootstrap),this._r3Injector=hb(e,n,[{provide:Oo,useValue:this},{provide:hd,useValue:this.componentFactoryResolver},...r],At(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Jg=class extends cy{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Zg(this.moduleType,e,[])}};var Bl=class extends Oo{injector;componentFactoryResolver=new Ul(this);instance=null;constructor(e){super();let n=new Ea([...e.providers,{provide:Oo,useValue:this},{provide:hd,useValue:this.componentFactoryResolver}],e.parent||Em(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function pd(t,e,n=null){return new Bl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var TL=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=RD(!1,n.type),i=r.length>0?pd([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=H({token:t,providedIn:"environment",factory:()=>new t(K(rt))})}return t})();function vC(t){return Na(()=>{let e=_C(t),n=me(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Eb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(TL).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||_n.Emulated,styles:t.styles||It,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Ho("NgStandalone"),IC(n);let r=t.dependencies;return n.directiveDefs=YT(r,!1),n.pipeDefs=YT(r,!0),n.id=AL(n),n})}function DL(t){return Co(t)||Fx(t)}function bL(t){return t!==null}function qo(t){return Na(()=>({type:t.type,bootstrap:t.bootstrap||It,declarations:t.declarations||It,imports:t.imports||It,exports:t.exports||It,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function CL(t,e){if(t==null)return Ei;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=sd.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function SL(t){if(t==null)return Ei;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Ur(t){return Na(()=>{let e=_C(t);return IC(e),e})}function uy(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function _C(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Ei,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||It,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:CL(t.inputs,e),outputs:SL(t.outputs),debugInfo:null}}function IC(t){t.features?.forEach(e=>e(t))}function YT(t,e){if(!t)return null;let n=e?Vx:DL;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(bL)}function AL(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function RL(t){return Object.getPrototypeOf(t.prototype).constructor}function NL(t){let e=RL(t.type),n=!0,r=[t];for(;e;){let i;if(gn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=ug(t.inputs),s.declaredInputs=ug(t.declaredInputs),s.outputs=ug(t.outputs);let a=i.hostBindings;a&&OL(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&xL(t,u),l&&kL(t,l),ML(t,i),px(t.outputs,i.outputs),gn(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===NL&&(n=!1)}}e=Object.getPrototypeOf(e)}PL(r)}function ML(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function PL(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Mo(i.hostAttrs,n=Mo(n,i.hostAttrs))}}function ug(t){return t===Ei?{}:t===It?[]:t}function xL(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function kL(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function OL(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function EC(t){return FL(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function LL(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function FL(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function ly(t,e,n){return t[e]=n}function VL(t,e){return t[e]}function In(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function wC(t,e,n,r){let i=In(t,e,n);return In(t,e+1,r)||i}function jL(t,e,n,r,i,o,s,a,u){let l=e.consts,h=zo(e,t,4,s||null,a||null);Rm()&&ay(e,n,h,Or(l,u),Xm),h.mergedAttrs=Mo(h.mergedAttrs,h.attrs),Lm(e,h);let p=h.tView=Qm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function $l(t,e,n,r,i,o,s,a,u,l){let h=n+Le,p=e.firstCreatePass?jL(h,e,t,r,i,o,s,a,u):e.data[h];Fr(p,!1);let g=BL(e,t,p,n);nd()&&ud(e,t,g,p),$o(g,t);let m=iC(g,t,g,p);return t[h]=m,Zm(t,m),aL(m,p,t),Xl(p)&&ad(e,t,p),u!=null&&Jm(t,p,l),p}function UL(t,e,n,r,i,o,s,a){let u=te(),l=je(),h=Or(l.consts,o);return $l(u,l,t,e,n,r,i,h,s,a),UL}var BL=$L;function $L(t,e,n,r){return rd(!0),e[Ve].createComment("")}var TC=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var DC=new $("");var bC=(()=>{class t{static \u0275prov=H({token:t,providedIn:"root",factory:()=>new Xg})}return t})(),Xg=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function ja(t){return!!t&&typeof t.then=="function"}function CC(t){return!!t&&typeof t.subscribe=="function"}var HL=new $("");var SC=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=x(HL,{optional:!0})??[];injector=x(Et);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=it(this.injector,i);if(ja(o))n.push(o);else if(CC(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),dy=new $("");function zL(){Np(()=>{throw new V(600,!1)})}function qL(t){return t.isBoundToModule}var WL=10;var Ni=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(zk);afterRenderManager=x(oO);zonelessEnabled=x(Um);rootEffectScheduler=x(bC);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new We;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=x(Jn).hasPendingTasks.pipe(se(n=>!n));constructor(){x(od,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=x(rt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Et.NULL){Te(10);let o=n instanceof cC;if(!this._injector.get(SC).done){let m="";throw new V(405,m)}let a;o?a=n:a=this._injector.get(hd).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let u=qL(a)?void 0:this._injector.get(Oo),l=r||a.selector,h=a.create(i,[],l,u),p=h.location.nativeElement,g=h.injector.get(DC,null);return g?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Il(this.components,h),g?.unregisterApplication(p)}),this._loadComponent(h),Te(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Te(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Ab.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new V(101,!1);let n=ee(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ee(n),this.afterTick.next(),Te(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ko,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<WL;)Te(14),this.synchronizeOnce(),Te(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)GL(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>td(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Il(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(dy,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Il(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new V(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Il(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function GL(t,e,n,r){if(!n&&!td(t))return;eC(t,e,n&&!r?0:1)}function hy(t,e,n,r){let i=te(),o=Oa();if(In(i,o,e)){let s=je(),a=XD();YO(a,i,t,e,n,r)}return hy}function KL(t,e,n,r){return In(t,Oa(),n)?e+bo(n)+r:Bt}function QL(t,e,n,r,i,o){let s=dk(),a=wC(t,s,n,i);return Pm(2),a?e+bo(n)+r+bo(i)+o:Bt}function gl(t,e){return t<<17|e<<2}function Mi(t){return t>>17&32767}function YL(t){return(t&2)==2}function ZL(t,e){return t&131071|e<<17}function em(t){return t|2}function Lo(t){return(t&131068)>>2}function lg(t,e){return t&-131069|e<<2}function JL(t){return(t&1)===1}function tm(t){return t|1}function XL(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Mi(s),u=Lo(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Ma(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let g=Mi(t[a+1]);t[r+1]=gl(g,a),g!==0&&(t[g+1]=lg(t[g+1],r)),t[a+1]=ZL(t[a+1],r)}else t[r+1]=gl(a,0),a!==0&&(t[a+1]=lg(t[a+1],r)),a=r;else t[r+1]=gl(u,0),a===0?a=r:t[u+1]=lg(t[u+1],r),u=r;l&&(t[r+1]=em(t[r+1])),ZT(t,h,r,!0),ZT(t,h,r,!1),eF(e,h,t,r,o),s=gl(a,u),o?e.classBindings=s:e.styleBindings=s}function eF(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ma(o,e)>=0&&(n[r+1]=tm(n[r+1]))}function ZT(t,e,n,r){let i=t[n+1],o=e===null,s=r?Mi(i):Lo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];tF(u,e)&&(a=!0,t[s+1]=r?tm(l):em(l)),s=r?Mi(l):Lo(l)}a&&(t[n+1]=r?em(i):tm(i))}function tF(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ma(t,e)>=0:!1}var vt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function nF(t){return t.substring(vt.key,vt.keyEnd)}function rF(t){return t.substring(vt.value,vt.valueEnd)}function iF(t){return oF(t),AC(t,Hl(t,0,vt.textEnd))}function AC(t,e){let n=vt.textEnd,r=vt.key=Hl(t,e,n);return n===r?-1:(r=vt.keyEnd=sF(t,r,n),r=JT(t,r,n,58),r=vt.value=Hl(t,r,n),r=vt.valueEnd=aF(t,r,n),JT(t,r,n,59))}function oF(t){vt.key=0,vt.keyEnd=0,vt.value=0,vt.valueEnd=0,vt.textEnd=t.length}function Hl(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function sF(t,e,n){let r;for(;e<n&&((r=t.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function JT(t,e,n,r){return e=Hl(t,e,n),e<n&&e++,e}function aF(t,e,n){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<n;){let u=t.charCodeAt(s++);if(u===59)return a;u===34||u===39?a=s=XT(t,u,s,n):e===s-4&&o===85&&i===82&&r===76&&u===40?a=s=XT(t,41,s,n):u>32&&(a=s),o=i,i=r,r=u&-33}return a}function XT(t,e,n,r){let i=-1,o=n;for(;o<r;){let s=t.charCodeAt(o++);if(s==e&&i!==92)return o;s==92&&i===92?i=0:i=s}throw new Error}function cF(t,e,n){let r=te(),i=Oa();if(In(r,i,e)){let o=je(),s=XD();qO(o,s,r,t,e,r[Ve],n,!1)}return cF}function nm(t,e,n,r,i){ey(e,t,n,i?"class":"style",r)}function uF(t,e,n){return RC(t,e,n,!1),uF}function lF(t,e){return RC(t,e,null,!0),lF}function qG(t){hF(PC,dF,t,!1)}function dF(t,e){for(let n=iF(e);n>=0;n=AC(e,n))PC(t,nF(e),rF(e))}function RC(t,e,n,r){let i=te(),o=je(),s=Pm(2);if(o.firstUpdatePass&&MC(o,t,s,r),e!==Bt&&In(i,s,e)){let a=o.data[wn()];xC(o,a,i,i[Ve],t,i[s+1]=_F(e,n),r,s)}}function hF(t,e,n,r){let i=je(),o=Pm(2);i.firstUpdatePass&&MC(i,null,o,r);let s=te();if(n!==Bt&&In(s,o,n)){let a=i.data[wn()];if(kC(a,r)&&!NC(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(n=mg(u,n||"")),nm(i,a,s,n,r)}else vF(i,a,s,s[Ve],s[o+1],s[o+1]=yF(t,e,n),r,o)}}function NC(t,e){return e>=t.expandoStartIndex}function MC(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[wn()],s=NC(t,n);kC(o,r)&&e===null&&!s&&(e=!1),e=fF(i,o,e,r),XL(i,o,e,n,s,r)}}function fF(t,e,n,r){let i=mk(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=dg(null,t,e,n,r),n=Aa(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=dg(i,t,e,n,r),o===null){let u=pF(t,e,r);u!==void 0&&Array.isArray(u)&&(u=dg(null,t,e,u[1],r),u=Aa(u,e.attrs,r),gF(t,e,r,u))}else o=mF(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function pF(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Lo(r)!==0)return t[Mi(r)]}function gF(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Mi(i)]=r}function mF(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Aa(r,s,n)}return Aa(r,e.attrs,n)}function dg(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Aa(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Aa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),bD(t,s,n?!0:e[++o]))}return t===void 0?null:t}function yF(t,e,n){if(n==null||n==="")return It;let r=[],i=La(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function PC(t,e,n){bD(t,e,La(n))}function vF(t,e,n,r,i,o,s,a){i===Bt&&(i=It);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let g=u<i.length?i[u+1]:void 0,m=l<o.length?o[l+1]:void 0,w=null,A;h===p?(u+=2,l+=2,g!==m&&(w=p,A=m)):p===null||h!==null&&h<p?(u+=2,w=h):(l+=2,w=p,A=m),w!==null&&xC(t,e,n,r,w,A,s,a),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function xC(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=JL(l)?eD(u,e,n,i,Lo(l),s):void 0;if(!zl(h)){zl(o)||YL(l)&&(o=eD(u,null,n,i,a,s));let p=UD(wn(),n);p1(r,s,p,i,o)}}function eD(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=n[i+1];g===Bt&&(g=p?It:void 0);let m=p?eg(g,r):h===r?g:void 0;if(l&&!zl(m)&&(m=eg(u,r)),zl(m)&&(a=m,s))return a;let w=t[i+1];i=s?Mi(w):Lo(w)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=eg(u,r))}return a}function zl(t){return t!==void 0}function _F(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=At(La(t)))),t}function kC(t,e){return(t.flags&(e?8:16))!==0}var rm=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function hg(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function IF(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=t.at(o),h=e[o],p=hg(o,l,o,h,n);if(p!==0){p<0&&t.updateValue(o,h),o++;continue}let g=t.at(s),m=e[u],w=hg(s,g,u,m,n);if(w!==0){w<0&&t.updateValue(s,m),s--,u--;continue}let A=n(o,l),R=n(s,g),k=n(o,h);if(Object.is(k,R)){let U=n(u,m);Object.is(U,A)?(t.swap(o,s),t.updateValue(s,m),u--,s--):t.move(s,o),t.updateValue(o,h),o++;continue}if(r??=new ql,i??=nD(t,o,s,n),im(t,r,o,k))t.updateValue(o,h),o++,s++;else if(i.has(k))r.set(A,t.detach(o)),s--;else{let U=t.create(o,e[o]);t.attach(o,U),o++,s++}}for(;o<=u;)tD(t,r,n,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let h=t.at(o),p=l.value,g=hg(o,h,o,p,n);if(g!==0)g<0&&t.updateValue(o,p),o++,l=u.next();else{r??=new ql,i??=nD(t,o,s,n);let m=n(o,p);if(im(t,r,o,m))t.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(m))t.attach(o,t.create(o,p)),o++,s++,l=u.next();else{let w=n(o,h);r.set(w,t.detach(o)),s--}}}for(;!l.done;)tD(t,r,n,t.length,l.value),l=u.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(u=>{t.destroy(u)})}function im(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function tD(t,e,n,r,i){if(im(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function nD(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var ql=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function WG(t,e){Ho("NgControlFlow");let n=te(),r=Oa(),i=n[r]!==Bt?n[r]:-1,o=i!==-1?Wl(n,Le+i):void 0,s=0;if(In(n,r,t)){let a=ee(null);try{if(o!==void 0&&sC(o,s),t!==-1){let u=Le+t,l=Wl(n,u),h=cm(n[J],u),p=xo(l,h.tView.ssrId),g=Fa(n,h,e,{dehydratedView:p});Va(l,g,s,Po(h,p))}}finally{ee(a)}}else if(o!==void 0){let a=oC(o,s);a!==void 0&&(a[Ke]=e)}}var om=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-lt}};function GG(t,e){return e}var sm=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function KG(t,e,n,r,i,o,s,a,u,l,h,p,g){Ho("NgControlFlow");let m=te(),w=je(),A=u!==void 0,R=te(),k=a?s.bind(R[Ut][Ke]):s,U=new sm(A,k);R[Le+t]=U,$l(m,w,t+1,e,n,r,i,Or(w.consts,o)),A&&$l(m,w,t+2,u,l,h,p,Or(w.consts,g))}var am=class extends rm{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-lt}at(e){return this.getLView(e)[Ke].$implicit}attach(e,n){let r=n[Ao];this.needsIndexUpdate||=e!==this.length,Va(this.lContainer,n,e,Po(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,EF(this.lContainer,e)}create(e,n){let r=xo(this.lContainer,this.templateTNode.tView.ssrId),i=Fa(this.hostLView,this.templateTNode,new om(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){cd(e[J],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Ke].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ke].$index=e}getLView(e){return wF(this.lContainer,e)}};function QG(t){let e=ee(null),n=wn();try{let r=te(),i=r[J],o=r[n],s=n+1,a=Wl(r,s);if(o.liveCollection===void 0){let l=cm(i,s);o.liveCollection=new am(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(IF(u,t,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=Oa(),h=u.length===0;if(In(r,l,h)){let p=n+2,g=Wl(r,p);if(h){let m=cm(i,p),w=xo(g,m.tView.ssrId),A=Fa(r,m,void 0,{dehydratedView:w});Va(g,A,0,Po(m,w))}else sC(g,0)}}}finally{ee(e)}}function Wl(t,e){return t[e]}function EF(t,e){return ba(t,e)}function wF(t,e){return oC(t,e)}function cm(t,e){return Dm(t,e)}function OC(t,e,n,r){let i=te(),o=je(),s=Le+t,a=i[Ve],u=o.firstCreatePass?lC(s,o,i,e,Xm,Rm(),n,r):o.data[s],l=TF(o,i,u,a,e,t);i[s]=l;let h=Xl(u);return Fr(u,!0),Ub(a,l,u),!ry(u)&&nd()&&ud(o,i,l,u),(ok()===0||h)&&$o(l,i),sk(),h&&(ad(o,i,u),Wm(o,u,i)),r!==null&&Jm(i,u),OC}function LC(){let t=Nt();Nm()?Mm():(t=t.parent,Fr(t,!1));let e=t;ck(e)&&uk(),ak();let n=je();return n.firstCreatePass&&dC(n,e),e.classesWithoutHost!=null&&Tk(e)&&nm(n,e,te(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Dk(e)&&nm(n,e,te(),e.stylesWithoutHost,!1),LC}function fy(t,e,n,r){return OC(t,e,n,r),LC(),fy}var TF=(t,e,n,r,i,o)=>(rd(!0),Vb(r,i,Ik()));function DF(t,e,n,r,i){let o=e.consts,s=Or(o,r),a=zo(e,t,8,"ng-container",s);s!==null&&Hg(a,s,!0);let u=Or(o,i);return Rm()&&ay(e,n,a,u,Xm),a.mergedAttrs=Mo(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function bF(t,e,n){let r=te(),i=je(),o=t+Le,s=i.firstCreatePass?DF(o,i,r,e,n):i.data[o];Fr(s,!0);let a=SF(i,r,s,t);return r[o]=a,nd()&&ud(i,r,a,s),$o(a,r),Xl(s)&&(ad(i,r,s),Wm(i,s,r)),n!=null&&Jm(r,s),bF}function CF(){let t=Nt(),e=je();return Nm()?Mm():(t=t.parent,Fr(t,!1)),e.firstCreatePass&&(Lm(e,t),Tm(t)&&e.queries.elementEnd(t)),CF}var SF=(t,e,n,r)=>(rd(!0),kO(e[Ve],""));function YG(){return te()}var mi=void 0;function AF(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var RF=["en",[["a","p"],["AM","PM"],mi],[["AM","PM"],mi,mi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mi,"{1} 'at' {0}",mi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",AF],fg={};function $t(t){let e=NF(t),n=rD(e);if(n)return n;let r=e.split("-")[0];if(n=rD(r),n)return n;if(r==="en")return RF;throw new V(701,!1)}function rD(t){return t in fg||(fg[t]=yi.ng&&yi.ng.common&&yi.ng.common.locales&&yi.ng.common.locales[t]),fg[t]}var ke=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ke||{});function NF(t){return t.toLowerCase().replace(/_/g,"-")}var Gl="en-US";var MF=Gl;function PF(t){typeof t=="string"&&(MF=t.toLowerCase().replace(/_/g,"-"))}function iD(t,e,n){return function r(i){if(i===Function)return n;let o=jo(t)?yn(t.index,e):e;sy(o,5);let s=e[Ke],a=oD(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=oD(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function oD(t,e,n,r){let i=ee(null);try{return Te(6,e,n),n(r)!==!1}catch(o){return xF(t,o),!1}finally{Te(7,e,n),ee(i)}}function xF(t,e){let n=t[Ro],r=n?n.get(vn,null):null;r&&r.handleError(e)}function sD(t,e,n,r,i,o){let s=e[n],a=e[J],l=a.data[n].outputs[r],h=s[l],p=a.firstCreatePass?Am(a):null,g=Sm(e),m=h.subscribe(o),w=g.length;g.push(o,m),p&&p.push(i,t.index,w,-(w+1))}function py(t,e,n,r){let i=te(),o=je(),s=Nt();return OF(o,i,i[Ve],s,t,e,r),py}function kF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Sl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function OF(t,e,n,r,i,o,s){let a=Xl(r),l=t.firstCreatePass?Am(t):null,h=Sm(e),p=!0;if(r.type&3||s){let g=En(r,e),m=s?s(g):g,w=h.length,A=s?k=>s(mn(k[r.index])):r.index,R=null;if(!s&&a&&(R=kF(t,e,i,r.index)),R!==null){let k=R.__ngLastListenerFn__||R;k.__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,p=!1}else{o=iD(r,e,o),aO(e,m,i,o);let k=n.listen(m,i,o);h.push(o,k),l&&l.push(i,A,w,w+1)}}else o=iD(r,e,o);if(p){let g=r.outputs?.[i],m=r.hostDirectiveOutputs?.[i];if(m&&m.length)for(let w=0;w<m.length;w+=2){let A=m[w],R=m[w+1];sD(r,e,A,R,i,o)}if(g&&g.length)for(let w of g)sD(r,e,w,i,i,o)}}function ZG(t=1){return _k(t)}function LF(t,e){let n=null,r=bO(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?Fb(t,o,!0):AO(r,o))return i}return n}function JG(t){let e=te()[Ut][Rt];if(!e.projection){let n=t?t.length:1,r=e.projection=kx(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?LF(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function XG(t,e=0,n,r,i,o){let s=te(),a=je(),u=r?t+1:null;u!==null&&$l(s,a,u,r,i,o,null,n);let l=zo(a,Le+t,16,null,n||null);l.projection===null&&(l.projection=e),Mm();let p=!s[Ao]||zD();s[Ut][Rt].projection[l.projection]===null&&u!==null?FF(s,a,u):p&&!ry(l)&&h1(a,s,l)}function FF(t,e,n){let r=Le+n,i=e.data[r],o=t[r],s=xo(o,i.tView.ssrId),a=Fa(t,i,void 0,{dehydratedView:s});Va(o,a,0,Po(i,s))}function e7(t,e,n,r){IL(t,pL(e,n,r))}function t7(t=1){xm(yk()+t)}function n7(t){let e=WD();return ed(e,Le+t)}function r7(t,e=""){let n=te(),r=je(),i=t+Le,o=r.firstCreatePass?zo(r,i,1,e,null):r.data[i],s=VF(r,n,o,e,t);n[i]=s,nd()&&ud(r,n,s,o),Fr(o,!1)}var VF=(t,e,n,r,i)=>(rd(!0),PO(e[Ve],r));function jF(t){return FC("",t,""),jF}function FC(t,e,n){let r=te(),i=KL(r,t,e,n);return i!==Bt&&VC(r,wn(),i),FC}function UF(t,e,n,r,i){let o=te(),s=QL(o,t,e,n,r,i);return s!==Bt&&VC(o,wn(),s),UF}function VC(t,e,n){let r=UD(e,t);xO(t[Ve],r,n)}var jC={};function BF(t){let e=je(),n=te(),r=t+Le,i=zo(e,r,128,null,null);return Fr(i,!1),bm(e,n,r,jC),BF}function i7(t){Ho("NgLet");let e=je(),n=te(),r=wn();return bm(e,n,r,t),t}function o7(t){let e=WD(),n=ed(e,Le+t);if(n===jC)throw new V(314,!1);return n}function $F(t,e,n){let r=je();if(r.firstCreatePass){let i=gn(t);um(n,r.data,r.blueprint,i,!0),um(e,r.data,r.blueprint,i,!1)}}function um(t,e,n,r,i){if(t=_t(t),Array.isArray(t))for(let o=0;o<t.length;o++)um(t[o],e,n,r,i);else{let o=je(),s=te(),a=Nt(),u=So(t)?t:_t(t.provide),l=PD(t),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(So(t)||!t.multi){let m=new Si(l,i,xe),w=gg(u,e,i?h:h+g,p);w===-1?(Ag(kl(a,s),o,u),pg(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(m),s.push(m)):(n[w]=m,s[w]=m)}else{let m=gg(u,e,h+g,p),w=gg(u,e,h,h+g),A=m>=0&&n[m],R=w>=0&&n[w];if(i&&!R||!i&&!A){Ag(kl(a,s),o,u);let k=qF(i?zF:HF,n.length,i,r,l);!i&&R&&(n[w].providerFactory=k),pg(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(k),s.push(k)}else{let k=UC(n[i?w:m],l,!i&&r);pg(o,t,m>-1?m:w,k)}!i&&r&&R&&n[w].componentProviders++}}}function pg(t,e,n,r){let i=So(e),o=Hx(e);if(i||o){let u=(o?_t(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function UC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function gg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function HF(t,e,n,r,i){return lm(this.multi,[])}function zF(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=Ta(r,r[J],this.providerFactory.index,i);s=u.slice(0,a),lm(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],lm(o,s);return s}function lm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function qF(t,e,n,r,i){let o=new Si(t,n,xe);return o.multi=[],o.index=e,o.componentProviders=0,UC(o,i,r&&!n),o}function s7(t,e=[]){return n=>{n.providersResolver=(r,i)=>$F(r,i?i(t):t,e)}}function a7(t,e,n){let r=ka()+t,i=te();return i[r]===Bt?ly(i,r,n?e.call(n):e()):VL(i,r)}function c7(t,e,n,r){return $C(te(),ka(),t,e,n,r)}function u7(t,e,n,r,i){return HC(te(),ka(),t,e,n,r,i)}function BC(t,e){let n=t[e];return n===Bt?void 0:n}function $C(t,e,n,r,i,o){let s=e+n;return In(t,s,i)?ly(t,s+1,o?r.call(o,i):r(i)):BC(t,s+1)}function HC(t,e,n,r,i,o,s){let a=e+n;return wC(t,a,i,o)?ly(t,a+2,s?r.call(s,i,o):r(i,o)):BC(t,a+2)}function l7(t,e){let n=je(),r,i=t+Le;n.firstCreatePass?(r=WF(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Ii(r.type,!0)),s,a=Ct(xe);try{let u=xl(!1),l=o();return xl(u),bm(n,te(),i,l),l}finally{Ct(a)}}function WF(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function d7(t,e,n){let r=t+Le,i=te(),o=ed(i,r);return zC(i,r)?$C(i,ka(),e,o.transform,n,o):o.transform(n)}function h7(t,e,n,r){let i=t+Le,o=te(),s=ed(o,i);return zC(o,i)?HC(o,ka(),e,s.transform,n,r,s):s.transform(n,r)}function zC(t,e){return t[J].data[e].pure}function f7(t,e){return dd(t,e)}var Ra=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},qC=new Ra("19.2.14"),dm=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},WC=(()=>{class t{compileModuleSync(n){return new Jg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=AD(n),o=Ob(i.declarations).reduce((s,a)=>{let u=Co(a);return u&&s.push(new Sa(u)),s},[]);return new dm(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var GF=(()=>{class t{zone=x(_e);changeDetectionScheduler=x(Ai);applicationRef=x(Ni);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),KF=new $("",{factory:()=>!1});function GC({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new _e(me(F({},KC()),{scheduleInRootZone:n})),[{provide:_e,useFactory:t},{provide:Ia,multi:!0,useFactory:()=>{let r=x(GF,{optional:!0});return()=>r.initialize()}},{provide:Ia,multi:!0,useFactory:()=>{let r=x(QF);return()=>{r.initialize()}}},e===!0?{provide:pb,useValue:!0}:[],{provide:gb,useValue:n??fb}]}function p7(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=GC({ngZoneFactory:()=>{let i=KC(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Ho("NgZone_CoalesceEvent"),new _e(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Kn([{provide:KF,useValue:!0},{provide:Um,useValue:!1},r])}function KC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var QF=(()=>{class t{subscription=new Pe;initialized=!1;zone=x(_e);pendingTasks=x(Jn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var YF=(()=>{class t{appRef=x(Ni);taskService=x(Jn);ngZone=x(_e);zonelessEnabled=x(Um);tracing=x(od,{optional:!0});disableScheduling=x(pb,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Pe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ll):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(gb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Pg||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?OT:mb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ll+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,OT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ZF(){return typeof $localize<"u"&&$localize.locale||Gl}var Ua=new $("",{providedIn:"root",factory:()=>x(Ua,ie.Optional|ie.SkipSelf)||ZF()});var hm=new $(""),JF=new $("");function ma(t){return!t.moduleRef}function XF(t){let e=ma(t)?t.r3Injector:t.moduleRef.injector,n=e.get(_e);return n.run(()=>{ma(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(vn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),ma(t)){let o=()=>e.destroy(),s=t.platformInjector.get(hm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(hm);s.add(o),t.moduleRef.onDestroy(()=>{Il(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return tV(r,n,()=>{let o=e.get(SC);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Ua,Gl);if(PF(s||Gl),!e.get(JF,!0))return ma(t)?e.get(Ni):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(ma(t)){let u=e.get(Ni);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return eV(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function eV(t,e){let n=t.injector.get(Ni);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new V(-403,!1);e.push(t)}function tV(t,e,n){try{let r=n();return ja(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var El=null;function nV(t=[],e){return Et.create({name:e,providers:[{provide:Zl,useValue:"platform"},{provide:hm,useValue:new Set([()=>El=null])},...t]})}function rV(t=[]){if(El)return El;let e=nV(t);return El=e,zL(),iV(e),e}function iV(t){let e=t.get(zm,null);it(t,()=>{e?.forEach(n=>n())})}function gy(){return!1}var gd=(()=>{class t{static __NG_ELEMENT_ID__=oV}return t})();function oV(t){return sV(Nt(),te(),(t&16)===16)}function sV(t,e,n){if(jo(t)&&!n){let r=yn(t.index,e);return new Ca(r,r)}else if(t.type&175){let r=e[Ut];return new Ca(r,e)}return null}var fm=class{constructor(){}supports(e){return EC(e)}create(e){return new pm(e)}},aV=(t,e)=>e,pm=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||aV}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<aD(r,i,o)?n:r,a=aD(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let m=g<o.length?o[g]:o[g]=0,w=m+g;h<=w&&w<l&&(o[g]=m+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!EC(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,LL(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new gm(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Kl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Kl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},gm=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},mm=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Kl=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new mm,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function aD(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function cD(){return new my([new fm])}var my=(()=>{class t{factories;static \u0275prov=H({token:t,providedIn:"root",factory:cD});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||cD()),deps:[[t,new Mx,new Lr]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new V(901,!1)}}return t})();function QC(t){Te(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=rV(r),o=[GC({}),{provide:Ai,useExisting:YF},...n||[]],s=new Bl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return XF({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Te(9)}}function md(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function g7(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}function YC(t){return xp(t)}function cV(t,e){return Lu(t,e?.equal)}var ym=class{[Lt];constructor(e){this[Lt]=e}destroy(){this[Lt].destroy()}};function ZC(t,e){!e?.injector&&wm(ZC);let n=e?.injector??x(Et),r=e?.manualCleanup!==!0?n.get(Zn):null,i,o=n.get(Rb,null,{optional:!0}),s=n.get(Ai);return o!==null&&!e?.forceRoot?(i=dV(o.view,s,t),r instanceof Ol&&r._lView===o.view&&(r=null)):i=hV(t,n.get(bC),s),i.injector=n,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new ym(i)}var JC=me(F({},co),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Da,run(){if(this.dirty=!1,this.hasRun&&!xu(this))return;this.hasRun=!0;let t=r=>(this.cleanupFns??=[]).push(r),e=ua(this),n=Nl(!1);try{this.maybeCleanup(),this.fn(t)}finally{Nl(n),Pu(this,e)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),uV=me(F({},JC),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){la(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),lV=me(F({},JC),{consumerMarkedDirty(){this.view[Q]|=8192,xa(this.view),this.notifier.notify(13)},destroy(){la(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Ti]?.delete(this)}});function dV(t,e,n){let r=Object.create(lV);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=n,t[Ti]??=new Set,t[Ti].add(r),r.consumerMarkedDirty(r),r}function hV(t,e,n){let r=Object.create(uV);return r.fn=t,r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(12),r}var Qe=new $("");var tS=null;function er(){return tS}function yy(t){tS??=t}var Ba=class{},vy=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>x(nS),providedIn:"platform"})}return t})();var nS=(()=>{class t extends vy{_location;_history;_doc=x(Qe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return er().getBaseHref(this._doc)}onPopState(n){let r=er().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=er().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function rS(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function XC(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Br(t){return t&&t[0]!=="?"?`?${t}`:t}var Wo=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>x(oS),providedIn:"root"})}return t})(),iS=new $(""),oS=(()=>{class t extends Wo{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(Qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return rS(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Br(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Br(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Br(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(K(vy),K(iS,8))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Go=(()=>{class t{_subject=new We;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=gV(XC(eS(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Br(r))}normalize(n){return t.stripTrailingSlash(pV(this._basePath,eS(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Br(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Br(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Br;static joinWithSlash=rS;static stripTrailingSlash=XC;static \u0275fac=function(r){return new(r||t)(K(Wo))};static \u0275prov=H({token:t,factory:()=>fV(),providedIn:"root"})}return t})();function fV(){return new Go(K(Wo))}function pV(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function eS(t){return t.replace(/\/index.html$/,"")}function gV(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var by=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(by||{});var ht=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(ht||{}),Ie=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ie||{}),Mt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Mt||{}),Pt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function dS(t){return $t(t)[ke.LocaleId]}function hS(t,e,n){let r=$t(t),i=[r[ke.DayPeriodsFormat],r[ke.DayPeriodsStandalone]],o=Qt(i,e);return Qt(o,n)}function fS(t,e,n){let r=$t(t),i=[r[ke.DaysFormat],r[ke.DaysStandalone]],o=Qt(i,e);return Qt(o,n)}function pS(t,e,n){let r=$t(t),i=[r[ke.MonthsFormat],r[ke.MonthsStandalone]],o=Qt(i,e);return Qt(o,n)}function gS(t,e){let r=$t(t)[ke.Eras];return Qt(r,e)}function $a(t,e){let n=$t(t);return Qt(n[ke.DateFormat],e)}function Ha(t,e){let n=$t(t);return Qt(n[ke.TimeFormat],e)}function za(t,e){let r=$t(t)[ke.DateTimeFormat];return Qt(r,e)}function Tn(t,e){let n=$t(t),r=n[ke.NumberSymbols][e];if(typeof r>"u"){if(e===Pt.CurrencyDecimal)return n[ke.NumberSymbols][Pt.Decimal];if(e===Pt.CurrencyGroup)return n[ke.NumberSymbols][Pt.Group]}return r}function mS(t,e){return $t(t)[ke.NumberFormats][e]}function yS(t){if(!t[ke.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[ke.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function vS(t){let e=$t(t);return yS(e),(e[ke.ExtraData][2]||[]).map(r=>typeof r=="string"?_y(r):[_y(r[0]),_y(r[1])])}function _S(t,e,n){let r=$t(t);yS(r);let i=[r[ke.ExtraData][0],r[ke.ExtraData][1]],o=Qt(i,e)||[];return Qt(o,n)||[]}function Qt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function _y(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var mV=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yd={},yV=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function IS(t,e,n,r){let i=CV(t);e=tr(n,e)||e;let s=[],a;for(;e;)if(a=yV.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=wS(r,u),i=bV(i,r));let l="";return s.forEach(h=>{let p=TV(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function wd(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function tr(t,e){let n=dS(t);if(yd[n]??={},yd[n][e])return yd[n][e];let r="";switch(e){case"shortDate":r=$a(t,Mt.Short);break;case"mediumDate":r=$a(t,Mt.Medium);break;case"longDate":r=$a(t,Mt.Long);break;case"fullDate":r=$a(t,Mt.Full);break;case"shortTime":r=Ha(t,Mt.Short);break;case"mediumTime":r=Ha(t,Mt.Medium);break;case"longTime":r=Ha(t,Mt.Long);break;case"fullTime":r=Ha(t,Mt.Full);break;case"short":let i=tr(t,"shortTime"),o=tr(t,"shortDate");r=vd(za(t,Mt.Short),[i,o]);break;case"medium":let s=tr(t,"mediumTime"),a=tr(t,"mediumDate");r=vd(za(t,Mt.Medium),[s,a]);break;case"long":let u=tr(t,"longTime"),l=tr(t,"longDate");r=vd(za(t,Mt.Long),[u,l]);break;case"full":let h=tr(t,"fullTime"),p=tr(t,"fullDate");r=vd(za(t,Mt.Full),[h,p]);break}return r&&(yd[n][e]=r),r}function vd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function rn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function vV(t,e){return rn(t,3).substring(0,e)}function Ue(t,e,n=0,r=!1,i=!1){return function(o,s){let a=_V(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return vV(a,e);let u=Tn(s,Pt.MinusSign);return rn(a,e,u,r,i)}}function _V(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function De(t,e,n=ht.Format,r=!1){return function(i,o){return IV(i,o,t,e,n,r)}}function IV(t,e,n,r,i,o){switch(n){case 2:return pS(e,i,r)[t.getMonth()];case 1:return fS(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let l=vS(e),h=_S(e,i,r),p=l.findIndex(g=>{if(Array.isArray(g)){let[m,w]=g,A=s>=m.hours&&a>=m.minutes,R=s<w.hours||s===w.hours&&a<w.minutes;if(m.hours<w.hours){if(A&&R)return!0}else if(A||R)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return hS(e,i,r)[s<12?0:1];case 3:return gS(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function _d(t){return function(e,n,r){let i=-1*r,o=Tn(n,Pt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+rn(s,2,o)+rn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+rn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+rn(s,2,o)+":"+rn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+rn(s,2,o)+":"+rn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var EV=0,Ed=4;function wV(t){let e=wd(t,EV,1).getDay();return wd(t,0,1+(e<=Ed?Ed:Ed+7)-e)}function ES(t){let e=t.getDay(),n=e===0?-3:Ed-e;return wd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Iy(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=ES(n),s=wV(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return rn(i,t,Tn(r,Pt.MinusSign))}}function Id(t,e=!1){return function(n,r){let o=ES(n).getFullYear();return rn(o,t,Tn(r,Pt.MinusSign),e)}}var Ey={};function TV(t){if(Ey[t])return Ey[t];let e;switch(t){case"G":case"GG":case"GGG":e=De(3,Ie.Abbreviated);break;case"GGGG":e=De(3,Ie.Wide);break;case"GGGGG":e=De(3,Ie.Narrow);break;case"y":e=Ue(0,1,0,!1,!0);break;case"yy":e=Ue(0,2,0,!0,!0);break;case"yyy":e=Ue(0,3,0,!1,!0);break;case"yyyy":e=Ue(0,4,0,!1,!0);break;case"Y":e=Id(1);break;case"YY":e=Id(2,!0);break;case"YYY":e=Id(3);break;case"YYYY":e=Id(4);break;case"M":case"L":e=Ue(1,1,1);break;case"MM":case"LL":e=Ue(1,2,1);break;case"MMM":e=De(2,Ie.Abbreviated);break;case"MMMM":e=De(2,Ie.Wide);break;case"MMMMM":e=De(2,Ie.Narrow);break;case"LLL":e=De(2,Ie.Abbreviated,ht.Standalone);break;case"LLLL":e=De(2,Ie.Wide,ht.Standalone);break;case"LLLLL":e=De(2,Ie.Narrow,ht.Standalone);break;case"w":e=Iy(1);break;case"ww":e=Iy(2);break;case"W":e=Iy(1,!0);break;case"d":e=Ue(2,1);break;case"dd":e=Ue(2,2);break;case"c":case"cc":e=Ue(7,1);break;case"ccc":e=De(1,Ie.Abbreviated,ht.Standalone);break;case"cccc":e=De(1,Ie.Wide,ht.Standalone);break;case"ccccc":e=De(1,Ie.Narrow,ht.Standalone);break;case"cccccc":e=De(1,Ie.Short,ht.Standalone);break;case"E":case"EE":case"EEE":e=De(1,Ie.Abbreviated);break;case"EEEE":e=De(1,Ie.Wide);break;case"EEEEE":e=De(1,Ie.Narrow);break;case"EEEEEE":e=De(1,Ie.Short);break;case"a":case"aa":case"aaa":e=De(0,Ie.Abbreviated);break;case"aaaa":e=De(0,Ie.Wide);break;case"aaaaa":e=De(0,Ie.Narrow);break;case"b":case"bb":case"bbb":e=De(0,Ie.Abbreviated,ht.Standalone,!0);break;case"bbbb":e=De(0,Ie.Wide,ht.Standalone,!0);break;case"bbbbb":e=De(0,Ie.Narrow,ht.Standalone,!0);break;case"B":case"BB":case"BBB":e=De(0,Ie.Abbreviated,ht.Format,!0);break;case"BBBB":e=De(0,Ie.Wide,ht.Format,!0);break;case"BBBBB":e=De(0,Ie.Narrow,ht.Format,!0);break;case"h":e=Ue(3,1,-12);break;case"hh":e=Ue(3,2,-12);break;case"H":e=Ue(3,1);break;case"HH":e=Ue(3,2);break;case"m":e=Ue(4,1);break;case"mm":e=Ue(4,2);break;case"s":e=Ue(5,1);break;case"ss":e=Ue(5,2);break;case"S":e=Ue(6,1);break;case"SS":e=Ue(6,2);break;case"SSS":e=Ue(6,3);break;case"Z":case"ZZ":case"ZZZ":e=_d(0);break;case"ZZZZZ":e=_d(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=_d(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=_d(2);break;default:return null}return Ey[t]=e,e}function wS(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function DV(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function bV(t,e,n){let i=t.getTimezoneOffset(),o=wS(e,i);return DV(t,-1*(o-i))}function CV(t){if(sS(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return wd(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(mV))return SV(r)}let e=new Date(t);if(!sS(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function SV(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function sS(t){return t instanceof Date&&!isNaN(t.valueOf())}var AV=/^(\d+)?\.((\d+)(-(\d+))?)?$/,aS=22,Td=".",qa="0",RV=";",NV=",",wy="#";function MV(t,e,n,r,i,o,s=!1){let a="",u=!1;if(!isFinite(t))a=Tn(n,Pt.Infinity);else{let l=kV(t);s&&(l=xV(l));let h=e.minInt,p=e.minFrac,g=e.maxFrac;if(o){let U=o.match(AV);if(U===null)throw new Error(`${o} is not a valid digit info`);let B=U[1],ce=U[3],Ne=U[5];B!=null&&(h=Ty(B)),ce!=null&&(p=Ty(ce)),Ne!=null?g=Ty(Ne):ce!=null&&p>g&&(g=p)}OV(l,p,g);let m=l.digits,w=l.integerLen,A=l.exponent,R=[];for(u=m.every(U=>!U);w<h;w++)m.unshift(0);for(;w<0;w++)m.unshift(0);w>0?R=m.splice(w,m.length):(R=m,m=[0]);let k=[];for(m.length>=e.lgSize&&k.unshift(m.splice(-e.lgSize,m.length).join(""));m.length>e.gSize;)k.unshift(m.splice(-e.gSize,m.length).join(""));m.length&&k.unshift(m.join("")),a=k.join(Tn(n,r)),R.length&&(a+=Tn(n,i)+R.join("")),A&&(a+=Tn(n,Pt.Exponential)+"+"+A)}return t<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function TS(t,e,n){let r=mS(e,by.Decimal),i=PV(r,Tn(e,Pt.MinusSign));return MV(t,i,e,Pt.Group,Pt.Decimal,n)}function PV(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(RV),i=r[0],o=r[1],s=i.indexOf(Td)!==-1?i.split(Td):[i.substring(0,i.lastIndexOf(qa)+1),i.substring(i.lastIndexOf(qa)+1)],a=s[0],u=s[1]||"";n.posPre=a.substring(0,a.indexOf(wy));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===qa?n.minFrac=n.maxFrac=h+1:p===wy?n.maxFrac=h+1:n.posSuf+=p}let l=a.split(NV);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(wy);n.negPre=o.substring(0,p).replace(/'/g,""),n.negSuf=o.slice(p+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function xV(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function kV(t){let e=Math.abs(t)+"",n=0,r,i,o,s,a;for((i=e.indexOf(Td))>-1&&(e=e.replace(Td,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===qa;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===qa;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>aS&&(r=r.splice(0,aS-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function OV(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+t.integerLen,h=r.reduceRight(function(p,g,m,w){return g=g+p,w[m]=g<10?g:g-10,u&&(w[m]===0&&m>=l?w.pop():u=!1),g>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}function Ty(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var Dy=/\s+/,cS=[],LV=(()=>{class t{_ngEl;_renderer;initialClasses=cS;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Dy):cS}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Dy):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Dy).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(xe(Vr),xe(fd))};static \u0275dir=Ur({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var Dd=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},DS=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Dd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),uS(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);uS(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(xe(jr),xe(Ri),xe(my))};static \u0275dir=Ur({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function uS(t,e){t.context.$implicit=e.item}var FV=(()=>{class t{_viewContainer;_context=new bd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){lS(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){lS(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(xe(jr),xe(Ri))};static \u0275dir=Ur({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),bd=class{$implicit=null;ngIf=null};function lS(t,e){if(t&&!t.createEmbeddedView)throw new V(2020,!1)}function bS(t,e){return new V(2100,!1)}var VV="mediumDate",CS=new $(""),SS=new $(""),jV=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??VV,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return IS(n,s,o||this.locale,a)}catch(s){throw bS(t,s.message)}}static \u0275fac=function(r){return new(r||t)(xe(Ua,16),xe(CS,24),xe(SS,24))};static \u0275pipe=uy({name:"date",type:t,pure:!0})}return t})();var UV=(()=>{class t{_locale;constructor(n){this._locale=n}transform(n,r,i){if(!BV(n))return null;i||=this._locale;try{let o=$V(n);return TS(o,i,r)}catch(o){throw bS(t,o.message)}}static \u0275fac=function(r){return new(r||t)(xe(Ua,16))};static \u0275pipe=uy({name:"number",type:t,pure:!0})}return t})();function BV(t){return!(t==null||t===""||t!==t)}function $V(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var AS=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=qo({type:t});static \u0275inj=Fo({})}return t})();function Wa(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Cd="browser",RS="server";function HV(t){return t===Cd}function Sd(t){return t===RS}var xi=class{};var Nd=new $(""),Ry=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(K(Nd),K(_e))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),Ga=class{_doc;constructor(e){this._doc=e}manager},Ad="ng-app-id";function NS(t){for(let e of t)e.remove()}function MS(t,e){let n=e.createElement("style");return n.textContent=t,n}function qV(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Ad}="${e}"],link[${Ad}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Ad),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Sy(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Ny=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Sd(o),qV(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,MS);r?.forEach(i=>this.addUsage(i,this.external,Sy))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(NS(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])NS(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,MS(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Sy(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Ad,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(K(Qe),K(Hm),K(qm,8),K(Pi))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),Cy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},My=/%COMP%/g;var xS="%COMP%",WV=`_nghost-${xS}`,GV=`_ngcontent-${xS}`,KV=!0,QV=new $("",{providedIn:"root",factory:()=>KV});function YV(t){return GV.replace(My,t)}function ZV(t){return WV.replace(My,t)}function kS(t,e){return e.map(n=>n.replace(My,t))}var Py=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,u,l=null,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=Sd(a),this.defaultRenderer=new Ka(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===_n.ShadowDom&&(r=me(F({},r),{encapsulation:_n.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Rd?i.applyToHost(n):i instanceof Qa&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case _n.Emulated:o=new Rd(u,l,r,this.appId,h,s,a,p,g);break;case _n.ShadowDom:return new Ay(u,l,n,r,s,a,this.nonce,p,g);default:o=new Qa(u,l,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(K(Ry),K(Ny),K(Hm),K(QV),K(Qe),K(Pi),K(_e),K(qm),K(od,8))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),Ka=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Cy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(PS(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(PS(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Cy[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Cy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Gn.DashCase|Gn.Important)?e.style.setProperty(n,r,i&Gn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Gn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=er().getGlobalEventTarget(this.doc,e),!e))throw new V(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function PS(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Ay=class extends Ka{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=kS(i.id,h);for(let g of h){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=g,this.shadowRoot.appendChild(m)}let p=i.getExternalStyles?.();if(p)for(let g of p){let m=Sy(g,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Qa=class extends Ka{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?kS(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Rd=class extends Qa{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,n,r,o,s,a,u,l,h),this.contentAttr=YV(h),this.hostAttr=ZV(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Md=class t extends Ba{supportsDOMEvents=!0;static makeCurrent(){yy(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=JV();return n==null?null:XV(n)}resetBaseElement(){Ya=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Wa(document.cookie,e)}},Ya=null;function JV(){return Ya=Ya||document.head.querySelector("base"),Ya?Ya.getAttribute("href"):null}function XV(t){return new URL(t,document.baseURI).pathname}var e2=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),LS=(()=>{class t extends Ga{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(K(Qe))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),OS=["alt","control","meta","shift"],t2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},n2={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},FS=(()=>{class t extends Ga{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>er().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),OS.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=t2[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),OS.forEach(s=>{if(s!==i){let a=n2[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(K(Qe))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})();function r2(t,e){return QC(F({rootComponent:t},i2(e)))}function i2(t){return{appProviders:[...u2,...t?.providers??[]],platformProviders:c2}}function o2(){Md.makeCurrent()}function s2(){return new vn}function a2(){return Cb(document),document}var c2=[{provide:Pi,useValue:Cd},{provide:zm,useValue:o2,multi:!0},{provide:Qe,useFactory:a2}];var u2=[{provide:Zl,useValue:"root"},{provide:vn,useFactory:s2},{provide:Nd,useClass:LS,multi:!0,deps:[Qe]},{provide:Nd,useClass:FS,multi:!0,deps:[Qe]},Py,Ny,Ry,{provide:ko,useExisting:Py},{provide:xi,useClass:e2},[]];var Ko=class{},Qo=class{},nr=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var kd=class{encodeKey(e){return VS(e)}encodeValue(e){return VS(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function l2(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var d2=/%(\d[a-f0-9])/gi,h2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function VS(t){return encodeURIComponent(t).replace(d2,(e,n)=>h2[n]??e)}function Pd(t){return`${t}`}var Hr=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new kd,e.fromString){if(e.fromObject)throw new V(2805,!1);this.map=l2(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Pd):[Pd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Pd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Pd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Od=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function f2(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function jS(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function US(t){return typeof Blob<"u"&&t instanceof Blob}function BS(t){return typeof FormData<"u"&&t instanceof FormData}function p2(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Za="Content-Type",Ld="Accept",Fy="X-Request-URL",HS="text/plain",zS="application/json",qS=`${zS}, ${HS}, */*`,Ja=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let o;if(f2(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new nr,this.context??=new Od,!this.params)this.params=new Hr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||jS(this.body)||US(this.body)||BS(this.body)||p2(this.body)?this.body:this.body instanceof Hr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||BS(this.body)?null:US(this.body)?this.body.type||null:jS(this.body)?null:typeof this.body=="string"?HS:this.body instanceof Hr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?zS:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((g,m)=>g.set(m,e.setHeaders[m]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,m)=>g.set(m,e.setParams[m]),h)),new t(n,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},zr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(zr||{}),Yo=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new nr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Xa=class t extends Yo{constructor(e={}){super(e)}type=zr.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ec=class t extends Yo{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=zr.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},$r=class extends Yo{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},WS=200,g2=204;function xy(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var m2=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Ja)o=n;else{let u;i.headers instanceof nr?u=i.headers:u=new nr(i.headers);let l;i.params&&(i.params instanceof Hr?l=i.params:l=new Hr({fromObject:i.params})),o=new Ja(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=G(o).pipe(Mr(u=>this.handler.handle(u)));if(n instanceof Ja||i.observe==="events")return s;let a=s.pipe(Vt(u=>u instanceof ec));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(se(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new V(2806,!1);return u.body}));case"blob":return a.pipe(se(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new V(2807,!1);return u.body}));case"text":return a.pipe(se(u=>{if(u.body!==null&&typeof u.body!="string")throw new V(2808,!1);return u.body}));case"json":default:return a.pipe(se(u=>u.body))}case"response":return a;default:throw new V(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Hr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,xy(i,r))}post(n,r,i={}){return this.request("POST",n,xy(i,r))}put(n,r,i={}){return this.request("PUT",n,xy(i,r))}static \u0275fac=function(r){return new(r||t)(K(Ko))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),y2=/^\)\]\}',?\n/;function $S(t){if(t.url)return t.url;let e=Fy.toLocaleLowerCase();return t.headers.get(e)}var GS=new $(""),xd=(()=>{class t{fetchImpl=x(ky,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n));ngZone=x(_e);destroyRef=x(Zn);destroyed=!1;constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0})}handle(n){return new re(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(Oy,o=>r.error(new $r({error:o}))),()=>i.abort()})}doRequest(n,r,i){return _(this,null,function*(){let o=this.createRequestInit(n),s;try{let m=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,F({signal:r},o)));v2(m),i.next({type:zr.Sent}),s=yield m}catch(m){i.error(new $r({error:m,status:m.status??0,statusText:m.statusText,url:n.urlWithParams,headers:m.headers}));return}let a=new nr(s.headers),u=s.statusText,l=$S(s)??n.urlWithParams,h=s.status,p=null;if(n.reportProgress&&i.next(new Xa({headers:a,status:h,statusText:u,url:l})),s.body){let m=s.headers.get("content-length"),w=[],A=s.body.getReader(),R=0,k,U,B=typeof Zone<"u"&&Zone.current,ce=!1;if(yield this.ngZone.runOutsideAngular(()=>_(this,null,function*(){for(;;){if(this.destroyed){yield A.cancel(),ce=!0;break}let{done:ue,value:D}=yield A.read();if(ue)break;if(w.push(D),R+=D.length,n.reportProgress){U=n.responseType==="text"?(U??"")+(k??=new TextDecoder).decode(D,{stream:!0}):void 0;let v=()=>i.next({type:zr.DownloadProgress,total:m?+m:void 0,loaded:R,partialText:U});B?B.run(v):v()}}})),ce){i.complete();return}let Ne=this.concatChunks(w,R);try{let ue=s.headers.get(Za)??"";p=this.parseBody(n,Ne,ue)}catch(ue){i.error(new $r({error:ue,headers:new nr(s.headers),status:s.status,statusText:s.statusText,url:$S(s)??n.urlWithParams}));return}}h===0&&(h=p?WS:0),h>=200&&h<300?(i.next(new ec({body:p,headers:a,status:h,statusText:u,url:l})),i.complete()):i.error(new $r({error:p,headers:a,status:h,statusText:u,url:l}))})}parseBody(n,r,i){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace(y2,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((o,s)=>r[o]=s.join(",")),n.headers.has(Ld)||(r[Ld]=qS),!n.headers.has(Za)){let o=n.detectContentTypeHeader();o!==null&&(r[Za]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),o=0;for(let s of n)i.set(s,o),o+=s.length;return i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),ky=class{};function Oy(){}function v2(t){t.then(Oy,Oy)}function _2(t,e){return e(t)}function I2(t,e,n){return(r,i)=>it(n,()=>e(r,o=>t(o,i)))}var KS=new $(""),E2=new $(""),QS=new $("",{providedIn:"root",factory:()=>!0});var Fd=(()=>{class t extends Ko{backend;injector;chain=null;pendingTasks=x(Jn);contributeToStability=x(QS);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(KS),...this.injector.get(E2,[])]));this.chain=r.reduceRight((i,o)=>I2(i,o,this.injector),_2)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(gi(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(K(Qo),K(rt))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})();var w2=/^\)\]\}',?\n/,T2=RegExp(`^${Fy}:`,"m");function D2(t){return"responseURL"in t&&t.responseURL?t.responseURL:T2.test(t.getAllResponseHeaders())?t.getResponseHeader(Fy):null}var Ly=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new V(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Se(r.\u0275loadImpl()):G(null)).pipe(jt(()=>new re(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((A,R)=>s.setRequestHeader(A,R.join(","))),n.headers.has(Ld)||s.setRequestHeader(Ld,qS),!n.headers.has(Za)){let A=n.detectContentTypeHeader();A!==null&&s.setRequestHeader(Za,A)}if(n.responseType){let A=n.responseType.toLowerCase();s.responseType=A!=="json"?A:"text"}let a=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let A=s.statusText||"OK",R=new nr(s.getAllResponseHeaders()),k=D2(s)||n.url;return u=new Xa({headers:R,status:s.status,statusText:A,url:k}),u},h=()=>{let{headers:A,status:R,statusText:k,url:U}=l(),B=null;R!==g2&&(B=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=B?WS:0);let ce=R>=200&&R<300;if(n.responseType==="json"&&typeof B=="string"){let Ne=B;B=B.replace(w2,"");try{B=B!==""?JSON.parse(B):null}catch(ue){B=Ne,ce&&(ce=!1,B={error:ue,text:B})}}ce?(o.next(new ec({body:B,headers:A,status:R,statusText:k,url:U||void 0})),o.complete()):o.error(new $r({error:B,headers:A,status:R,statusText:k,url:U||void 0}))},p=A=>{let{url:R}=l(),k=new $r({error:A,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(k)},g=!1,m=A=>{g||(o.next(l()),g=!0);let R={type:zr.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(R.total=A.total),n.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},w=A=>{let R={type:zr.UploadProgress,loaded:A.loaded};A.lengthComputable&&(R.total=A.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),n.reportProgress&&(s.addEventListener("progress",m),a!==null&&s.upload&&s.upload.addEventListener("progress",w)),s.send(a),o.next({type:zr.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),n.reportProgress&&(s.removeEventListener("progress",m),a!==null&&s.upload&&s.upload.removeEventListener("progress",w)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(K(xi))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),YS=new $(""),b2="XSRF-TOKEN",C2=new $("",{providedIn:"root",factory:()=>b2}),S2="X-XSRF-TOKEN",A2=new $("",{providedIn:"root",factory:()=>S2}),tc=class{},R2=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Wa(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(K(Qe),K(C2))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})();function N2(t,e){let n=t.url.toLowerCase();if(!x(YS)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=x(tc).getToken(),i=x(A2);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Vy=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Vy||{});function M2(t,e){return{\u0275kind:t,\u0275providers:e}}function P2(...t){let e=[m2,Ly,Fd,{provide:Ko,useExisting:Fd},{provide:Qo,useFactory:()=>x(GS,{optional:!0})??x(Ly)},{provide:KS,useValue:N2,multi:!0},{provide:YS,useValue:!0},{provide:tc,useClass:R2}];for(let n of t)e.push(...n.\u0275providers);return Kn(e)}function x2(){return M2(Vy.Fetch,[xd,{provide:GS,useExisting:xd},{provide:Qo,useExisting:xd}])}var ZS=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(K(Qe))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ne="primary",gc=Symbol("RouteTitle"),Hy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Li(t){return new Hy(t)}function o0(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function O2(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Dn(t[n],e[n]))return!1;return!0}function Dn(t,e){let n=t?zy(t):void 0,r=e?zy(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!s0(t[i],e[i]))return!1;return!0}function zy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function s0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function a0(t){return t.length>0?t[t.length-1]:null}function Gr(t){return Qp(t)?t:ja(t)?Se(Promise.resolve(t)):G(t)}var L2={exact:u0,subset:l0},c0={exact:F2,subset:V2,ignored:()=>!0};function JS(t,e,n){return L2[n.paths](t.root,e.root,n.matrixParams)&&c0[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function F2(t,e){return Dn(t,e)}function u0(t,e,n){if(!ki(t.segments,e.segments)||!Ud(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!u0(t.children[r],e.children[r],n))return!1;return!0}function V2(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>s0(t[n],e[n]))}function l0(t,e,n){return d0(t,e,e.segments,n)}function d0(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ki(i,n)||e.hasChildren()||!Ud(i,n,r))}else if(t.segments.length===n.length){if(!ki(t.segments,n)||!Ud(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!l0(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!ki(t.segments,i)||!Ud(t.segments,i,r)||!t.children[ne]?!1:d0(t.children[ne],e,o,r)}}function Ud(t,e,n){return e.every((r,i)=>c0[n](t[i].parameters,r.parameters))}var Cn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ye([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Li(this.queryParams),this._queryParamMap}toString(){return B2.serialize(this)}},ye=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bd(this)}},qr=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Li(this.parameters),this._parameterMap}toString(){return f0(this)}};function j2(t,e){return ki(t,e)&&t.every((n,r)=>Dn(n.parameters,e[r].parameters))}function ki(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function U2(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ne&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ne&&(n=n.concat(e(i,r)))}),n}var mc=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>new Fi,providedIn:"root"})}return t})(),Fi=class{parse(e){let n=new Wy(e);return new Cn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${nc(e.root,!0)}`,r=z2(e.queryParams),i=typeof e.fragment=="string"?`#${$2(e.fragment)}`:"";return`${n}${r}${i}`}},B2=new Fi;function Bd(t){return t.segments.map(e=>f0(e)).join("/")}function nc(t,e){if(!t.hasChildren())return Bd(t);if(e){let n=t.children[ne]?nc(t.children[ne],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ne&&r.push(`${i}:${nc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=U2(t,(r,i)=>i===ne?[nc(t.children[ne],!1)]:[`${i}:${nc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ne]!=null?`${Bd(t)}/${n[0]}`:`${Bd(t)}/(${n.join("//")})`}}function h0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vd(t){return h0(t).replace(/%3B/gi,";")}function $2(t){return encodeURI(t)}function qy(t){return h0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $d(t){return decodeURIComponent(t)}function XS(t){return $d(t.replace(/\+/g,"%20"))}function f0(t){return`${qy(t.path)}${H2(t.parameters)}`}function H2(t){return Object.entries(t).map(([e,n])=>`;${qy(e)}=${qy(n)}`).join("")}function z2(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Vd(n)}=${Vd(i)}`).join("&"):`${Vd(n)}=${Vd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var q2=/^[^\/()?;#]+/;function jy(t){let e=t.match(q2);return e?e[0]:""}var W2=/^[^\/()?;=#]+/;function G2(t){let e=t.match(W2);return e?e[0]:""}var K2=/^[^=?&#]+/;function Q2(t){let e=t.match(K2);return e?e[0]:""}var Y2=/^[^&#]+/;function Z2(t){let e=t.match(Y2);return e?e[0]:""}var Wy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ne]=new ye(e,n)),r}parseSegment(){let e=jy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new qr($d(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=G2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=jy(this.remaining);i&&(r=i,this.capture(r))}e[$d(n)]=$d(r)}parseQueryParam(e){let n=Q2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=Z2(this.remaining);s&&(r=s,this.capture(r))}let i=XS(n),o=XS(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=jy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new V(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ne);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ne]:new ye([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}};function p0(t){return t.segments.length>0?new ye([],{[ne]:t}):t}function g0(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=g0(i);if(r===ne&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ye(t.segments,e);return J2(n)}function J2(t){if(t.numberOfChildren===1&&t.children[ne]){let e=t.children[ne];return new ye(t.segments.concat(e.segments),e.children)}return t}function Wr(t){return t instanceof Cn}function m0(t,e,n=null,r=null){let i=y0(t);return v0(i,e,n,r)}function y0(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new ye(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=p0(r);return e??i}function v0(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Uy(i,i,i,n,r);let o=X2(e);if(o.toRoot())return Uy(i,i,new ye([],{}),n,r);let s=ej(o,i,t),a=s.processChildren?ic(s.segmentGroup,s.index,o.commands):I0(s.segmentGroup,s.index,o.commands);return Uy(i,s.segmentGroup,a,n,r)}function zd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function sc(t){return typeof t=="object"&&t!=null&&t.outlets}function Uy(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=_0(t,e,n);let a=p0(g0(s));return new Cn(a,o,i)}function _0(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=_0(o,e,n)}),new ye(t.segments,r)}var qd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&zd(r[0]))throw new V(4003,!1);let i=r.find(sc);if(i&&i!==a0(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function X2(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new qd(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new qd(n,e,r)}var Xo=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function ej(t,e,n){if(t.isAbsolute)return new Xo(e,!0,0);if(!n)return new Xo(e,!1,NaN);if(n.parent===null)return new Xo(n,!0,0);let r=zd(t.commands[0])?0:1,i=n.segments.length-1+r;return tj(n,i,t.numberOfDoubleDots)}function tj(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new Xo(r,!1,i-o)}function nj(t){return sc(t[0])?t[0].outlets:{[ne]:t}}function I0(t,e,n){if(t??=new ye([],{}),t.segments.length===0&&t.hasChildren())return ic(t,e,n);let r=rj(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ye(t.segments.slice(0,r.pathIndex),{});return o.children[ne]=new ye(t.segments.slice(r.pathIndex),t.children),ic(o,0,i)}else return r.match&&i.length===0?new ye(t.segments,{}):r.match&&!t.hasChildren()?Gy(t,e,n):r.match?ic(t,0,i):Gy(t,e,n)}function ic(t,e,n){if(n.length===0)return new ye(t.segments,{});{let r=nj(n),i={};if(Object.keys(r).some(o=>o!==ne)&&t.children[ne]&&t.numberOfChildren===1&&t.children[ne].segments.length===0){let o=ic(t.children[ne],e,n);return new ye(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=I0(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ye(t.segments,i)}}function rj(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(sc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!t0(u,l,s))return o;r+=2}else{if(!t0(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Gy(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(sc(o)){let u=ij(o.outlets);return new ye(r,u)}if(i===0&&zd(n[0])){let u=t.segments[e];r.push(new qr(u.path,e0(n[0]))),i++;continue}let s=sc(o)?o.outlets[ne]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&zd(a)?(r.push(new qr(s,e0(a))),i+=2):(r.push(new qr(s,{})),i++)}return new ye(r,{})}function ij(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Gy(new ye([],{}),0,r))}),e}function e0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function t0(t,e,n){return t==n.path&&Dn(e,n.parameters)}var Hd="imperative",Ye=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ye||{}),zt=class{id;url;constructor(e,n){this.id=e,this.url=n}},Vi=class extends zt{type=Ye.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Sn=class extends zt{urlAfterRedirects;type=Ye.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(xt||{}),ac=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ac||{}),bn=class extends zt{reason;code;type=Ye.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},rr=class extends zt{reason;code;type=Ye.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},ts=class extends zt{error;target;type=Ye.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},cc=class extends zt{urlAfterRedirects;state;type=Ye.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wd=class extends zt{urlAfterRedirects;state;type=Ye.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gd=class extends zt{urlAfterRedirects;state;shouldActivate;type=Ye.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Kd=class extends zt{urlAfterRedirects;state;type=Ye.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qd=class extends zt{urlAfterRedirects;state;type=Ye.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yd=class{route;type=Ye.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Zd=class{route;type=Ye.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Jd=class{snapshot;type=Ye.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xd=class{snapshot;type=Ye.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},eh=class{snapshot;type=Ye.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},th=class{snapshot;type=Ye.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var uc=class{},ns=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function oj(t,e){return t.providers&&!t._injector&&(t._injector=pd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function on(t){return t.outlet||ne}function sj(t,e){let n=t.filter(r=>on(r)===e);return n.push(...t.filter(r=>on(r)!==e)),n}function yc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var nh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return yc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new os(this.rootInjector)}},os=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new nh(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(K(rt))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Ky(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Ky(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Qy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Qy(e,this._root).map(n=>n.value)}};function Ky(t,e){if(t===e.value)return e;for(let n of e.children){let r=Ky(t,n);if(r)return r}return null}function Qy(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Qy(t,n);if(r.length)return r.unshift(e),r}return[]}var Ht=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Jo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var lc=class extends rh{snapshot;constructor(e,n){super(e),this.snapshot=n,rv(this,e)}toString(){return this.snapshot.toString()}};function E0(t){let e=aj(t),n=new tt([new qr("",{})]),r=new tt({}),i=new tt({}),o=new tt({}),s=new tt(""),a=new ir(n,r,o,s,i,ne,t,e.root);return a.snapshot=e.root,new lc(new Ht(a,[]),e)}function aj(t){let e={},n={},r={},i="",o=new Oi([],e,r,i,n,ne,t,null,{});return new dc("",new Ht(o,[]))}var ir=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(se(l=>l[gc]))??G(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(e=>Li(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(e=>Li(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ih(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&T0(i)&&(r.resolve[gc]=i.title),r}var Oi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[gc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Li(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Li(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},dc=class extends rh{url;constructor(e,n){super(n),this.url=e,rv(this,n)}toString(){return w0(this._root)}};function rv(t,e){e.value._routerState=t,e.children.forEach(n=>rv(t,n))}function w0(t){let e=t.children.length>0?` { ${t.children.map(w0).join(", ")} } `:"";return`${t.value}${e}`}function By(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Dn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Dn(e.params,n.params)||t.paramsSubject.next(n.params),O2(e.url,n.url)||t.urlSubject.next(n.url),Dn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Yy(t,e){let n=Dn(t.params,e.params)&&j2(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Yy(t.parent,e.parent))}function T0(t){return typeof t.title=="string"||t.title===null}var D0=new $(""),iv=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ne;activateEvents=new St;deactivateEvents=new St;attachEvents=new St;detachEvents=new St;routerOutletData=vb(void 0);parentContexts=x(os);location=x(jr);changeDetector=x(gd);inputBinder=x(ch,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Zy(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ur({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Pa]})}return t})(),Zy=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===ir?this.route:e===os?this.childContexts:e===D0?this.outletData:this.parent.get(e,n)}},ch=new $("");var ov=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=vC({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&fy(0,"router-outlet")},dependencies:[iv],encapsulation:2})}return t})();function sv(t){let e=t.children&&t.children.map(sv),n=e?me(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ne&&(n.component=ov),n}function cj(t,e,n){let r=hc(t,e._root,n?n._root:void 0);return new lc(r,e)}function hc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=uj(t,e,n);return new Ht(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>hc(t,a)),s}}let r=lj(e.value),i=e.children.map(o=>hc(t,o));return new Ht(r,i)}}function uj(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return hc(t,r,i);return hc(t,r)})}function lj(t){return new ir(new tt(t.url),new tt(t.params),new tt(t.queryParams),new tt(t.fragment),new tt(t.data),t.outlet,t.component,t)}var rs=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},b0="ngNavigationCancelingError";function oh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Wr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=C0(!1,xt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function C0(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[b0]=!0,n.cancellationCode=e,n}function dj(t){return S0(t)&&Wr(t.url)}function S0(t){return!!t&&t[b0]}var hj=(t,e,n,r)=>se(i=>(new Jy(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Jy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),By(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Jo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Jo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Jo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Jo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new th(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Xd(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(By(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),By(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},sh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},es=class{component;route;constructor(e,n){this.component=e,this.route=n}};function fj(t,e,n){let r=t._root,i=e?e._root:null;return rc(r,i,n,[r.value])}function pj(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ss(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!mD(t)?t:e.get(t):r}function rc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Jo(e);return t.children.forEach(s=>{gj(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>oc(a,n.getContext(s),i)),i}function gj(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=mj(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new sh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?rc(t,e,a?a.children:null,r,i):rc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new es(a.outlet.component,s))}else s&&oc(e,a,i),i.canActivateChecks.push(new sh(r)),o.component?rc(t,null,a?a.children:null,r,i):rc(t,null,n,r,i);return i}function mj(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ki(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ki(t.url,e.url)||!Dn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yy(t,e)||!Dn(t.queryParams,e.queryParams);case"paramsChange":default:return!Yy(t,e)}}function oc(t,e,n){let r=Jo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?oc(s,e.children.getContext(o),n):oc(s,null,n):oc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new es(e.outlet.component,i)):n.canDeactivateChecks.push(new es(null,i)):n.canDeactivateChecks.push(new es(null,i))}function vc(t){return typeof t=="function"}function yj(t){return typeof t=="boolean"}function vj(t){return t&&vc(t.canLoad)}function _j(t){return t&&vc(t.canActivate)}function Ij(t){return t&&vc(t.canActivateChild)}function Ej(t){return t&&vc(t.canDeactivate)}function wj(t){return t&&vc(t.canMatch)}function A0(t){return t instanceof $n||t?.name==="EmptyError"}var jd=Symbol("INITIAL_VALUE");function is(){return jt(t=>ll(t.map(e=>e.pipe(Hn(1),Jp(jd)))).pipe(se(e=>{for(let n of e)if(n!==!0){if(n===jd)return jd;if(n===!1||Tj(n))return n}return!0}),Vt(e=>e!==jd),Hn(1)))}function Tj(t){return Wr(t)||t instanceof rs}function Dj(t,e){return Ge(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?G(me(F({},n),{guardsResult:!0})):bj(s,r,i,t).pipe(Ge(a=>a&&yj(a)?Cj(r,o,t,e):G(a)),se(a=>me(F({},n),{guardsResult:a})))})}function bj(t,e,n,r){return Se(t).pipe(Ge(i=>Mj(i.component,i.route,n,e,r)),zn(i=>i!==!0,!0))}function Cj(t,e,n,r){return Se(e).pipe(Mr(i=>_o(Aj(i.route.parent,r),Sj(i.route,r),Nj(t,i.path,n),Rj(t,i.route,n))),zn(i=>i!==!0,!0))}function Sj(t,e){return t!==null&&e&&e(new eh(t)),G(!0)}function Aj(t,e){return t!==null&&e&&e(new Jd(t)),G(!0)}function Rj(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return G(!0);let i=r.map(o=>dl(()=>{let s=yc(e)??n,a=ss(o,s),u=_j(a)?a.canActivate(e,t):it(s,()=>a(e,t));return Gr(u).pipe(zn())}));return G(i).pipe(is())}function Nj(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>pj(s)).filter(s=>s!==null).map(s=>dl(()=>{let a=s.guards.map(u=>{let l=yc(s.node)??n,h=ss(u,l),p=Ij(h)?h.canActivateChild(r,t):it(l,()=>h(r,t));return Gr(p).pipe(zn())});return G(a).pipe(is())}));return G(o).pipe(is())}function Mj(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return G(!0);let s=o.map(a=>{let u=yc(e)??i,l=ss(a,u),h=Ej(l)?l.canDeactivate(t,e,n,r):it(u,()=>l(t,e,n,r));return Gr(h).pipe(zn())});return G(s).pipe(is())}function Pj(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return G(!0);let o=i.map(s=>{let a=ss(s,t),u=vj(a)?a.canLoad(e,n):it(t,()=>a(e,n));return Gr(u)});return G(o).pipe(is(),R0(r))}function R0(t){return Up(nt(e=>{if(typeof e!="boolean")throw oh(t,e)}),se(e=>e===!0))}function xj(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return G(!0);let o=i.map(s=>{let a=ss(s,t),u=wj(a)?a.canMatch(e,n):it(t,()=>a(e,n));return Gr(u)});return G(o).pipe(is(),R0(r))}var fc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},pc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Zo(t){return vo(new fc(t))}function kj(t){return vo(new V(4e3,!1))}function Oj(t){return vo(C0(!1,xt.GuardRejected))}var Xy=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return G(r);if(i.numberOfChildren>1||!i.children[ne])return kj(`${e.redirectTo}`);i=i.children[ne]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,params:m,data:w,title:A}=i,R=it(o,()=>a({params:m,data:w,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,title:A}));if(R instanceof Cn)throw new pc(R);n=R}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new pc(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Cn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ye(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},ev={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Lj(t,e,n,r,i){let o=N0(t,e,n);return o.matched?(r=oj(e,r),xj(r,e,n,i).pipe(se(s=>s===!0?o:F({},ev)))):G(o)}function N0(t,e,n){if(e.path==="**")return Fj(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},ev):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||o0)(n,t,e);if(!i)return F({},ev);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Fj(t){return{matched:!0,parameters:t.length>0?a0(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function n0(t,e,n,r){return n.length>0&&Uj(t,n,r)?{segmentGroup:new ye(e,jj(r,new ye(n,t.children))),slicedSegments:[]}:n.length===0&&Bj(t,n,r)?{segmentGroup:new ye(t.segments,Vj(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ye(t.segments,t.children),slicedSegments:n}}function Vj(t,e,n,r){let i={};for(let o of n)if(uh(t,e,o)&&!r[on(o)]){let s=new ye([],{});i[on(o)]=s}return F(F({},r),i)}function jj(t,e){let n={};n[ne]=e;for(let r of t)if(r.path===""&&on(r)!==ne){let i=new ye([],{});n[on(r)]=i}return n}function Uj(t,e,n){return n.some(r=>uh(t,e,r)&&on(r)!==ne)}function Bj(t,e,n){return n.some(r=>uh(t,e,r))}function uh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function $j(t,e,n){return e.length===0&&!t.children[n]}var tv=class{};function Hj(t,e,n,r,i,o,s="emptyOnly"){return new nv(t,e,n,r,i,s,o).recognize()}var zj=31,nv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Xy(this.urlSerializer,this.urlTree)}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}recognize(){let e=n0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(se(({children:n,rootSnapshot:r})=>{let i=new Ht(r,n),o=new dc("",i),s=m0(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Oi([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ne,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ne,n).pipe(se(r=>({children:r,rootSnapshot:n})),Nr(r=>{if(r instanceof pc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof fc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(se(s=>s instanceof Ht?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Se(o).pipe(Mr(s=>{let a=r.children[s],u=sj(n,s);return this.processSegmentGroup(e,u,a,s,i)}),Zp((s,a)=>(s.push(...a),s)),Pr(null),Yp(),Ge(s=>{if(s===null)return Zo(r);let a=M0(s);return qj(a),G(a)}))}processSegment(e,n,r,i,o,s,a){return Se(n).pipe(Mr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(Nr(l=>{if(l instanceof fc)return G(null);throw l}))),zn(u=>!!u),Nr(u=>{if(A0(u))return $j(r,i,o)?G(new tv):Zo(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return on(r)!==s&&(s===ne||!uh(i,o,r))?Zo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Zo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=N0(n,i,o);if(!u)return Zo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>zj&&(this.allowRedirects=!1));let m=new Oi(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,r0(i),on(i),i.component??i._loadedComponent??null,i,i0(i)),w=ih(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(w.params),m.data=Object.freeze(w.data);let A=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,m,e);return this.applyRedirects.lineralizeSegments(i,A).pipe(Ge(R=>this.processSegment(e,r,n,R.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=Lj(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(jt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(jt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:m}=u,w=new Oi(g,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,r0(r),on(r),r.component??r._loadedComponent??null,r,i0(r)),A=ih(w,s,this.paramsInheritanceStrategy);w.params=Object.freeze(A.params),w.data=Object.freeze(A.data);let{segmentGroup:R,slicedSegments:k}=n0(n,g,m,l);if(k.length===0&&R.hasChildren())return this.processChildren(h,l,R,w).pipe(se(B=>new Ht(w,B)));if(l.length===0&&k.length===0)return G(new Ht(w,[]));let U=on(r)===o;return this.processSegment(h,l,R,k,U?ne:o,!0,w).pipe(se(B=>new Ht(w,B instanceof Ht?[B]:[])))}))):Zo(n)))}getChildConfig(e,n,r){return n.children?G({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?G({routes:n._loadedRoutes,injector:n._loadedInjector}):Pj(e,n,r,this.urlSerializer).pipe(Ge(i=>i?this.configLoader.loadChildren(e,n).pipe(nt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Oj(n))):G({routes:[],injector:e})}};function qj(t){t.sort((e,n)=>e.value.outlet===ne?-1:n.value.outlet===ne?1:e.value.outlet.localeCompare(n.value.outlet))}function Wj(t){let e=t.value.routeConfig;return e&&e.path===""}function M0(t){let e=[],n=new Set;for(let r of t){if(!Wj(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=M0(r.children);e.push(new Ht(r.value,i))}return e.filter(r=>!n.has(r))}function r0(t){return t.data||{}}function i0(t){return t.resolve||{}}function Gj(t,e,n,r,i,o){return Ge(s=>Hj(t,e,n,r,s.extractedUrl,i,o).pipe(se(({state:a,tree:u})=>me(F({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function Kj(t,e){return Ge(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return G(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of P0(u))s.add(l);let a=0;return Se(s).pipe(Mr(u=>o.has(u)?Qj(u,r,t,e):(u.data=ih(u,u.parent,t).resolve,G(void 0))),nt(()=>a++),Io(1),Ge(u=>a===s.size?G(n):Dt))})}function P0(t){let e=t.children.map(n=>P0(n)).flat();return[t,...e]}function Qj(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!T0(i)&&(o[gc]=i.title),Yj(o,t,e,r).pipe(se(s=>(t._resolvedData=s,t.data=ih(t,t.parent,n).resolve,null)))}function Yj(t,e,n,r){let i=zy(t);if(i.length===0)return G({});let o={};return Se(i).pipe(Ge(s=>Zj(t[s],e,n,r).pipe(zn(),nt(a=>{if(a instanceof rs)throw oh(new Fi,a);o[s]=a}))),Io(1),se(()=>o),Nr(s=>A0(s)?Dt:vo(s)))}function Zj(t,e,n,r){let i=yc(e)??r,o=ss(t,i),s=o.resolve?o.resolve(e,n):it(i,()=>o(e,n));return Gr(s)}function $y(t){return jt(e=>{let n=t(e);return n?Se(n).pipe(se(()=>e)):G(e)})}var av=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ne);return r}getResolvedTitleForRoute(n){return n.data[gc]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>x(x0),providedIn:"root"})}return t})(),x0=(()=>{class t extends av{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(K(ZS))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_c=new $("",{providedIn:"root",factory:()=>({})}),Ic=new $(""),k0=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(WC);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return G(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Gr(n.loadComponent()).pipe(se(L0),nt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),gi(()=>{this.componentLoaders.delete(n)})),i=new mo(r,()=>new We).pipe(go());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=O0(r,this.compiler,n,this.onLoadEndListener).pipe(gi(()=>{this.childrenLoaders.delete(r)})),s=new mo(o,()=>new We).pipe(go());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function O0(t,e,n,r){return Gr(t.loadChildren()).pipe(se(L0),Ge(i=>i instanceof cy||Array.isArray(i)?G(i):Se(e.compileModuleAsync(i))),se(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Ic,[],{optional:!0,self:!0}).flat()),{routes:s.map(sv),injector:o}}))}function Jj(t){return t&&typeof t=="object"&&"default"in t}function L0(t){return Jj(t)?t.default:t}var lh=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>x(Xj),providedIn:"root"})}return t})(),Xj=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),F0=new $("");var V0=new $(""),j0=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new We;transitionAbortSubject=new We;configLoader=x(k0);environmentInjector=x(rt);destroyRef=x(Zn);urlSerializer=x(mc);rootContexts=x(os);location=x(Go);inputBindingEnabled=x(ch,{optional:!0})!==null;titleStrategy=x(av);options=x(_c,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(lh);createViewTransition=x(F0,{optional:!0});navigationErrorHandler=x(V0,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>G(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Yd(i)),r=i=>this.events.next(new Zd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(me(F({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new tt(null),this.transitions.pipe(Vt(r=>r!==null),jt(r=>{let i=!1,o=!1;return G(r).pipe(jt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",xt.SupersededByNewNavigation),Dt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?me(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&u!=="reload"){let l="";return this.events.next(new rr(s.id,this.urlSerializer.serialize(s.rawUrl),l,ac.IgnoredSameUrlNavigation)),s.resolve(!1),Dt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return G(s).pipe(jt(l=>(this.events.next(new Vi(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Dt:Promise.resolve(l))),Gj(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),nt(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=me(F({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new cc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:g,extras:m}=s,w=new Vi(l,this.urlSerializer.serialize(h),p,g);this.events.next(w);let A=E0(this.rootComponentType).snapshot;return this.currentTransition=r=me(F({},s),{targetSnapshot:A,urlAfterRedirects:h,extras:me(F({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,G(r)}else{let l="";return this.events.next(new rr(s.id,this.urlSerializer.serialize(s.extractedUrl),l,ac.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Dt}}),nt(s=>{let a=new Wd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),se(s=>(this.currentTransition=r=me(F({},s),{guards:fj(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),Dj(this.environmentInjector,s=>this.events.next(s)),nt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw oh(this.urlSerializer,s.guardsResult);let a=new Gd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Vt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",xt.GuardRejected),!1)),$y(s=>{if(s.guards.canActivateChecks.length!==0)return G(s).pipe(nt(a=>{let u=new Kd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),jt(a=>{let u=!1;return G(a).pipe(Kj(this.paramsInheritanceStrategy,this.environmentInjector),nt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",xt.NoDataFromResolver)}}))}),nt(a=>{let u=new Qd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),$y(s=>{let a=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(nt(h=>{u.component=h}),se(()=>{})));for(let h of u.children)l.push(...a(h));return l};return ll(a(s.targetSnapshot.root)).pipe(Pr(null),Hn(1))}),$y(()=>this.afterPreactivation()),jt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?Se(u).pipe(se(()=>r)):G(r)}),se(s=>{let a=cj(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=me(F({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),nt(()=>{this.events.next(new uc)}),hj(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Hn(1),nt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Sn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Xp(this.transitionAbortSubject.pipe(nt(s=>{throw s}))),gi(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",xt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Nr(s=>{if(this.destroyed)return r.resolve(!1),Dt;if(o=!0,S0(s))this.events.next(new bn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),dj(s)?this.events.next(new ns(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new ts(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=it(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof rs){let{message:l,cancellationCode:h}=oh(this.urlSerializer,u);this.events.next(new bn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new ns(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Dt}))}))}cancelNavigationTransition(n,r,i){let o=new bn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function eU(t){return t!==Hd}var U0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>x(tU),providedIn:"root"})}return t})(),ah=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},tU=(()=>{class t extends ah{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Vm(t)))(i||t)}})();static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),B0=(()=>{class t{urlSerializer=x(mc);options=x(_c,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x(Go);urlHandlingStrategy=x(lh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Cn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Cn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=E0(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>x(nU),providedIn:"root"})}return t})(),nU=(()=>{class t extends B0{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Vi?this.updateStateMemento():n instanceof rr?this.commitTransition(r):n instanceof cc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof uc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof bn&&(n.code===xt.GuardRejected||n.code===xt.NoDataFromResolver)?this.restoreHistory(r):n instanceof ts?this.restoreHistory(r,!0):n instanceof Sn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,u=F(F({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",u)}else{let a=F(F({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Vm(t)))(i||t)}})();static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cv(t,e){t.events.pipe(Vt(n=>n instanceof Sn||n instanceof bn||n instanceof ts||n instanceof rr),se(n=>n instanceof Sn||n instanceof rr?0:(n instanceof bn?n.code===xt.Redirect||n.code===xt.SupersededByNewNavigation:!1)?2:1),Vt(n=>n!==2),Hn(1)).subscribe(()=>{e()})}var rU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ec=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x(TC);stateManager=x(B0);options=x(_c,{optional:!0})||{};pendingTasks=x(Jn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(j0);urlSerializer=x(mc);location=x(Go);urlHandlingStrategy=x(lh);_events=new We;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(U0);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(Ic,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(ch,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Pe;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof bn&&r.code!==xt.Redirect&&r.code!==xt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Sn)this.navigated=!0;else if(r instanceof ns){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||eU(i.source)},s);this.scheduleNavigation(a,Hd,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}sU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Hd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=F({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(sv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=y0(g)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return v0(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Wr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Hd,null,r)}navigate(n,r={skipLocationChange:!1}){return oU(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=F({},rU):r===!1?i=F({},iU):i=r,Wr(n))return JS(this.currentUrlTree,n,i);let o=this.parseUrl(n);return JS(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return cv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function oU(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new V(4008,!1)}function sU(t){return!(t instanceof uc)&&!(t instanceof ns)}var $0=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new We;constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof Sn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Wr(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:xb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Wr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(xe(Ec),xe(ir),jm("tabindex"),xe(fd),xe(Vr),xe(Wo))};static \u0275dir=Ur({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&py("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&hy("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",md],skipLocationChange:[2,"skipLocationChange","skipLocationChange",md],replaceUrl:[2,"replaceUrl","replaceUrl",md],routerLink:"routerLink"},features:[Pa]})}return t})();var cU=new $("");function uU(t,...e){return Kn([{provide:Ic,multi:!0,useValue:t},[],{provide:ir,useFactory:lU,deps:[Ec]},{provide:dy,multi:!0,useFactory:dU},e.map(n=>n.\u0275providers)])}function lU(t){return t.routerState.root}function dU(){let t=x(Et);return e=>{let n=t.get(Ni);if(e!==n.components[0])return;let r=t.get(Ec),i=t.get(hU);t.get(fU)===1&&r.initialNavigation(),t.get(pU,null,ie.Optional)?.setUpPreloading(),t.get(cU,null,ie.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var hU=new $("",{factory:()=>new We}),fU=new $("",{providedIn:"root",factory:()=>1});var pU=new $("");var H0=()=>{};var W0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},gU=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},dh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,m=l&63;u||(m=64,s||(g=64)),r.push(n[h],n[p],n[g],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(W0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new lv;let g=o<<2|a>>4;if(r.push(g),l!==64){let m=a<<4&240|l>>2;if(r.push(m),p!==64){let w=l<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},lv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},mU=function(t){let e=W0(t);return dh.encodeByteArray(e,!0)},Tc=function(t){return mU(t).replace(/\./g,"")},hh=function(t){try{return dh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var yU=()=>hv().__FIREBASE_DEFAULTS__,vU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_U=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&hh(t[1]);return e&&JSON.parse(e)},fh=()=>{try{return H0()||yU()||vU()||_U()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fv=t=>{var e,n;return(n=(e=fh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},G0=t=>{let e=fv(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},pv=()=>{var t;return(t=fh())===null||t===void 0?void 0:t.config},gv=t=>{var e;return(e=fh())===null||e===void 0?void 0:e[`_${t}`]};var ji=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Kr(t){return t.endsWith(".cloudworkstations.dev")}function ph(t){return _(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function K0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Tc(JSON.stringify(n)),Tc(JSON.stringify(s)),""].join(".")}var wc={};function IU(){let t={prod:[],emulator:[]};for(let e of Object.keys(wc))wc[e]?t.emulator.push(e):t.prod.push(e);return t}function EU(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var z0=!1;function gh(t,e){if(typeof window>"u"||typeof document>"u"||!Kr(window.location.host)||wc[t]===e||wc[t]||z0)return;wc[t]=e;function n(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=IU().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{z0=!0,s()},g}function h(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=EU(r),m=n("text"),w=document.getElementById(m)||document.createElement("span"),A=n("learnmore"),R=document.getElementById(A)||document.createElement("a"),k=n("preprendIcon"),U=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let B=g.element;a(B),h(R,A);let ce=l();u(U,k),B.append(U,w,R,ce),document.body.appendChild(B)}o?(w.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function wU(){var t;let e=(t=fh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Y0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Z0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function J0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function X0(){let t=Ze();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function eA(){return!wU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dc(){try{return typeof indexedDB=="object"}catch{return!1}}function tA(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var TU="FirebaseError",qt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TU,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sn.prototype.create)}},sn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?DU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new qt(i,a,r)}};function DU(t,e){return t.replace(bU,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var bU=/\{\$([^}]+)}/g;function nA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function An(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(q0(o)&&q0(s)){if(!An(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function q0(t){return t!==null&&typeof t=="object"}function as(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function cs(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function us(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function rA(t,e){let n=new dv(t,e);return n.subscribe.bind(n)}var dv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");CU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=uv),i.error===void 0&&(i.error=uv),i.complete===void 0&&(i.complete=uv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function CU(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function uv(){}var QY=4*60*60*1e3;function Ae(t){return t&&t._delegate?t._delegate:t}var wt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ui="[DEFAULT]";var mv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new ji;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AU(e))try{this.getOrInitializeService({instanceIdentifier:Ui})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ui){return this.instances.has(e)}getOptions(e=Ui){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ui){return this.component?this.component.multipleInstances?e:Ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function SU(t){return t===Ui?void 0:t}function AU(t){return t.instantiationMode==="EAGER"}var mh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new mv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var RU=[],le=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(le||{}),NU={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},MU=le.INFO,PU={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},xU=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=PU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Rn=class{constructor(e){this.name=e,this._logLevel=MU,this._logHandler=xU,this._userLogHandler=null,RU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}};var kU=(t,e)=>e.some(n=>t instanceof n),iA,oA;function OU(){return iA||(iA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LU(){return oA||(oA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var sA=new WeakMap,vv=new WeakMap,aA=new WeakMap,yv=new WeakMap,Iv=new WeakMap;function FU(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Nn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&sA.set(n,t)}).catch(()=>{}),Iv.set(e,t),e}function VU(t){if(vv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});vv.set(t,e)}var _v={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||aA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cA(t){_v=t(_v)}function jU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(yh(this),e,...n);return aA.set(r,e.sort?e.sort():[e]),Nn(r)}:LU().includes(t)?function(...e){return t.apply(yh(this),e),Nn(sA.get(this))}:function(...e){return Nn(t.apply(yh(this),e))}}function UU(t){return typeof t=="function"?jU(t):(t instanceof IDBTransaction&&VU(t),kU(t,OU())?new Proxy(t,_v):t)}function Nn(t){if(t instanceof IDBRequest)return FU(t);if(yv.has(t))return yv.get(t);let e=UU(t);return e!==t&&(yv.set(t,e),Iv.set(e,t)),e}var yh=t=>Iv.get(t);function lA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Nn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Nn(s.result),u.oldVersion,u.newVersion,Nn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var BU=["get","getKey","getAll","getAllKeys","count"],$U=["put","add","delete","clear"],Ev=new Map;function uA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ev.get(e))return Ev.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=$U.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||BU.includes(n)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Ev.set(e,o),o}cA(t=>me(F({},t),{get:(e,n,r)=>uA(e,n)||t.get(e,n,r),has:(e,n)=>!!uA(e,n)||t.has(e,n)}));var Tv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HU(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function HU(t){let e=t.getComponent();return e?.type==="VERSION"}var Dv="@firebase/app",dA="0.13.1";var or=new Rn("@firebase/app"),zU="@firebase/app-compat",qU="@firebase/analytics-compat",WU="@firebase/analytics",GU="@firebase/app-check-compat",KU="@firebase/app-check",QU="@firebase/auth",YU="@firebase/auth-compat",ZU="@firebase/database",JU="@firebase/data-connect",XU="@firebase/database-compat",eB="@firebase/functions",tB="@firebase/functions-compat",nB="@firebase/installations",rB="@firebase/installations-compat",iB="@firebase/messaging",oB="@firebase/messaging-compat",sB="@firebase/performance",aB="@firebase/performance-compat",cB="@firebase/remote-config",uB="@firebase/remote-config-compat",lB="@firebase/storage",dB="@firebase/storage-compat",hB="@firebase/firestore",fB="@firebase/ai",pB="@firebase/firestore-compat",gB="firebase",mB="11.9.0";var bv="[DEFAULT]",yB={[Dv]:"fire-core",[zU]:"fire-core-compat",[WU]:"fire-analytics",[qU]:"fire-analytics-compat",[KU]:"fire-app-check",[GU]:"fire-app-check-compat",[QU]:"fire-auth",[YU]:"fire-auth-compat",[ZU]:"fire-rtdb",[JU]:"fire-data-connect",[XU]:"fire-rtdb-compat",[eB]:"fire-fn",[tB]:"fire-fn-compat",[nB]:"fire-iid",[rB]:"fire-iid-compat",[iB]:"fire-fcm",[oB]:"fire-fcm-compat",[sB]:"fire-perf",[aB]:"fire-perf-compat",[cB]:"fire-rc",[uB]:"fire-rc-compat",[lB]:"fire-gcs",[dB]:"fire-gcs-compat",[hB]:"fire-fst",[pB]:"fire-fst-compat",[fB]:"fire-vertex","fire-js":"fire-js",[gB]:"fire-js-all"};var bc=new Map,vB=new Map,Cv=new Map;function hA(t,e){try{t.container.addComponent(e)}catch(n){or.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function an(t){let e=t.name;if(Cv.has(e))return or.debug(`There were multiple attempts to register component ${e}.`),!1;Cv.set(e,t);for(let n of bc.values())hA(n,t);for(let n of vB.values())hA(n,t);return!0}function ls(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tt(t){return t==null?!1:t.settings!==void 0}var _B={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new sn("app","Firebase",_B);var Sv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}};var Yr=mB;function Nv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:bv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Qr.create("bad-app-name",{appName:String(i)});if(n||(n=pv()),!n)throw Qr.create("no-options");let o=bc.get(i);if(o){if(An(n,o.options)&&An(r,o.config))return o;throw Qr.create("duplicate-app",{appName:i})}let s=new mh(i);for(let u of Cv.values())s.addComponent(u);let a=new Sv(n,r,s);return bc.set(i,a),a}function Bi(t=bv){let e=bc.get(t);if(!e&&t===bv&&pv())return Nv();if(!e)throw Qr.create("no-app",{appName:t});return e}function vh(){return Array.from(bc.values())}function Be(t,e,n){var r;let i=(r=yB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),or.warn(a.join(" "));return}an(new wt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var IB="firebase-heartbeat-database",EB=1,Cc="firebase-heartbeat-store",wv=null;function mA(){return wv||(wv=lA(IB,EB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qr.create("idb-open",{originalErrorMessage:t.message})})),wv}function wB(t){return _(this,null,function*(){try{let n=(yield mA()).transaction(Cc),r=yield n.objectStore(Cc).get(yA(t));return yield n.done,r}catch(e){if(e instanceof qt)or.warn(e.message);else{let n=Qr.create("idb-get",{originalErrorMessage:e?.message});or.warn(n.message)}}})}function fA(t,e){return _(this,null,function*(){try{let r=(yield mA()).transaction(Cc,"readwrite");yield r.objectStore(Cc).put(e,yA(t)),yield r.done}catch(n){if(n instanceof qt)or.warn(n.message);else{let r=Qr.create("idb-set",{originalErrorMessage:n?.message});or.warn(r.message)}}})}function yA(t){return`${t.name}!${t.options.appId}`}var TB=1024,DB=30,Av=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Rv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=pA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>DB){let s=CB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){or.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=pA(),{heartbeatsToSend:r,unsentEntries:i}=bB(this._heartbeatsCache.heartbeats),o=Tc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return or.warn(n),""}})}};function pA(){return new Date().toISOString().substring(0,10)}function bB(t,e=TB){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),gA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Rv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return Dc()?tA().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield wB(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return fA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return fA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function gA(t){return Tc(JSON.stringify({version:2,heartbeats:t})).length}function CB(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function SB(t){an(new wt("platform-logger",e=>new Tv(e),"PRIVATE")),an(new wt("heartbeat",e=>new Av(e),"PRIVATE")),Be(Dv,dA,t),Be(Dv,dA,"esm2017"),Be("fire-js","")}SB("");var AB="firebase",RB="11.9.1";Be(AB,RB,"app");function xA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var kA=xA,OA=new sn("auth","Firebase",xA());var Dh=new Rn("@firebase/auth");function NB(t,...e){Dh.logLevel<=le.WARN&&Dh.warn(`Auth (${Yr}): ${t}`,...e)}function Ih(t,...e){Dh.logLevel<=le.ERROR&&Dh.error(`Auth (${Yr}): ${t}`,...e)}function Yt(t,...e){throw Jv(t,...e)}function cn(t,...e){return Jv(t,...e)}function Zv(t,e,n){let r=Object.assign(Object.assign({},kA()),{[e]:n});return new sn("auth","Firebase",r).create(e,{appName:t.name})}function cr(t){return Zv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function MB(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Yt(t,"argument-error"),Zv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jv(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return OA.create(t,...e)}function W(t,e,...n){if(!t)throw Jv(e,...n)}function sr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ih(e),new Error(e)}function ur(t,e){t||sr(e)}function bh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function LA(){return vA()==="http:"||vA()==="https:"}function vA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function PB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LA()||Z0()||"connection"in navigator)?navigator.onLine:!0}function xB(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var $i=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ur(n>e,"Short delay should be less than long delay!"),this.isMobile=Q0()||J0()}get(){return PB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Xv(t,e){ur(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Ch=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var kB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var OB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LB=new $i(3e4,6e4);function lr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function dr(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){return FA(t,i,()=>_(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=as(Object.assign({key:t.config.apiKey},h)).slice(1),g=yield t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);let m=Object.assign({method:e,headers:g},l);return Y0()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Kr(t.emulatorConfig.host)&&(m.credentials="include"),Ch.fetch()(yield VA(t,t.config.apiHost,n,p),m)}))})}function FA(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},kB),e);try{let i=new xv(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw _h(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw _h(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw _h(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw _h(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Zv(t,h,l);Yt(t,h)}}catch(i){if(i instanceof qt)throw i;Yt(t,"network-request-failed",{message:String(i)})}})}function Oc(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield dr(t,e,n,r,i);return"mfaPendingCredential"in l&&Yt(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function VA(t,e,n,r){return _(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?Xv(t.config,i):`${t.config.apiScheme}://${i}`;return OB.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function FB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var xv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cn(this.auth,"network-request-failed")),LB.get())})}};function _h(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=cn(t,e,r);return i.customData._tokenResponse=n,i}function _A(t){return t!==void 0&&t.enterprise!==void 0}var kv=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return FB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function VB(t,e){return _(this,null,function*(){return dr(t,"GET","/v2/recaptchaConfig",lr(t,e))})}function jB(t,e){return _(this,null,function*(){return dr(t,"POST","/v1/accounts:delete",e)})}function Sh(t,e){return _(this,null,function*(){return dr(t,"POST","/v1/accounts:lookup",e)})}function Ac(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function e_(t,e=!1){return _(this,null,function*(){let n=Ae(t),r=yield n.getIdToken(e),i=t_(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ac(Mv(i.auth_time)),issuedAtTime:Ac(Mv(i.iat)),expirationTime:Ac(Mv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Mv(t){return Number(t)*1e3}function t_(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{let i=hh(n);return i?JSON.parse(i):(Ih("Failed to decode base64 JWT payload"),null)}catch(i){return Ih("Caught error parsing JWT payload as JSON",i?.toString()),null}}function IA(t){let e=t_(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Nc(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof qt&&UB(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function UB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Ov=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Mc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ac(this.lastLoginAt),this.creationTime=Ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ah(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Nc(t,Sh(n,{idToken:r}));W(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?jA(o.providerUserInfo):[],a=BB(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Mc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function n_(t){return _(this,null,function*(){let e=Ae(t);yield Ah(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function BB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function jA(t){return t.map(e=>{var{providerId:n}=e,r=Yu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function $B(t,e){return _(this,null,function*(){let n=yield FA(t,{},()=>_(null,null,function*(){let r=as({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield VA(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return t.emulatorConfig&&Kr(t.emulatorConfig.host)&&(u.credentials="include"),Ch.fetch()(s,u)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function HB(t,e){return _(this,null,function*(){return dr(t,"POST","/v2/accounts:revokeToken",lr(t,e))})}var Rc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):IA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){W(e.length!==0,"internal-error");let n=IA(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield $B(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(W(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(W(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return sr("not implemented")}};function Zr(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Jr=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Yu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ov(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Mc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield Nc(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return e_(this,e)}reload(){return n_(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Ah(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(Tt(this.auth.app))return Promise.reject(cr(this.auth));let e=yield this.getIdToken();return yield Nc(this,jB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=n.photoURL)!==null&&s!==void 0?s:void 0,A=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=n.createdAt)!==null&&l!==void 0?l:void 0,U=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:B,emailVerified:ce,isAnonymous:Ne,providerData:ue,stsTokenManager:D}=n;W(B&&D,e,"internal-error");let v=Rc.fromJSON(this.name,D);W(typeof B=="string",e,"internal-error"),Zr(p,e.name),Zr(g,e.name),W(typeof ce=="boolean",e,"internal-error"),W(typeof Ne=="boolean",e,"internal-error"),Zr(m,e.name),Zr(w,e.name),Zr(A,e.name),Zr(R,e.name),Zr(k,e.name),Zr(U,e.name);let E=new t({uid:B,auth:e,email:g,emailVerified:ce,displayName:p,isAnonymous:Ne,photoURL:w,phoneNumber:m,tenantId:A,stsTokenManager:v,createdAt:k,lastLoginAt:U});return ue&&Array.isArray(ue)&&(E.providerData=ue.map(T=>Object.assign({},T))),R&&(E._redirectEventId=R),E}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new Rc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ah(o),o})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];W(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?jA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Rc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Mc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var EA=new Map;function ar(t){ur(t instanceof Function,"Expected a class definition");let e=EA.get(t);return e?(ur(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,EA.set(t,e),e)}var zB=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Lv=zB;function Eh(t,e,n){return`firebase:${t}:${e}:${n}`}var Rh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Eh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Eh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Sh(this.auth,{idToken:e}).catch(()=>{});return n?Jr._fromGetAccountInfoResponse(this.auth,n,e):null}return Jr._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(ar(Lv),e,r);let i=(yield Promise.all(n.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||ar(Lv),s=Eh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let g=yield Sh(e,{idToken:h}).catch(()=>{});if(!g)break;p=yield Jr._fromGetAccountInfoResponse(e,g,h)}else p=Jr._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function wA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qA(e))return"Blackberry";if(WA(e))return"Webos";if(BA(e))return"Safari";if((e.includes("chrome/")||$A(e))&&!e.includes("edge/"))return"Chrome";if(zA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function UA(t=Ze()){return/firefox\//i.test(t)}function BA(t=Ze()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $A(t=Ze()){return/crios\//i.test(t)}function HA(t=Ze()){return/iemobile/i.test(t)}function zA(t=Ze()){return/android/i.test(t)}function qA(t=Ze()){return/blackberry/i.test(t)}function WA(t=Ze()){return/webos/i.test(t)}function r_(t=Ze()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qB(t=Ze()){var e;return r_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function WB(){return X0()&&document.documentMode===10}function GA(t=Ze()){return r_(t)||zA(t)||WA(t)||qA(t)||/windows phone/i.test(t)||HA(t)}function KA(t,e=[]){let n;switch(t){case"Browser":n=wA(Ze());break;case"Worker":n=`${wA(Ze())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yr}/${r}`}var Fv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function GB(n){return _(this,arguments,function*(t,e={}){return dr(t,"GET","/v2/passwordPolicy",lr(t,e))})}var KB=6,Vv=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:KB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var jv=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nh(this),this.idTokenSubscription=new Nh(this),this.beforeStateQueue=new Fv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Rh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield Sh(this,{idToken:e}),r=yield Jr._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(Tt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Ah(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=xB()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(Tt(this.app))return Promise.reject(cr(this));let n=e?Ae(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return Tt(this.app)?Promise.reject(cr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Tt(this.app)?Promise.reject(cr(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(ar(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield GB(this),n=new Vv(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield HB(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ar(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=yield Rh.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;if(Tt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&NB(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Xr(t){return Ae(t)}var Nh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=rA(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var jh={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QB(t){jh=t}function QA(t){return jh.loadJS(t)}function YB(){return jh.recaptchaEnterpriseScript}function ZB(){return jh.gapiScript}function YA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Uv=class{constructor(){this.enterprise=new Bv}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},Bv=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var JB="recaptcha-enterprise",ZA="NO_RECAPTCHA",$v=class{constructor(e){this.type=JB,this.auth=Xr(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(null,null,function*(){VB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new kv(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;_A(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(ZA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Uv().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&_A(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=YB();u.length!==0&&(u+=a),QA(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function Sc(t,e,n,r=!1,i=!1){return _(this,null,function*(){let o=new $v(t),s;if(i)s=ZA;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Hv(t,e,n,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Sc(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(a=>_(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield Sc(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Sc(t,e,n);return r(t,a).catch(u=>_(null,null,function*(){var l;if(((l=t._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let h=yield Sc(t,e,n,!1,!0);return r(t,h)}return Promise.reject(u)}))}else{let a=yield Sc(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")})}function i_(t,e){let n=ls(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(An(o,e??{}))return i;Yt(i,"already-initialized")}return n.initialize({options:e})}function XB(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ar);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function o_(t,e,n){let r=Xr(t);W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=JA(e),{host:s,port:a}=e$(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){W(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),W(An(l,r.config.emulator)&&An(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Kr(s)?(ph(`${o}//${s}${u}`),gh("Auth",!0)):i||t$()}function JA(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function e$(t){let e=JA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:TA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:TA(s)}}}function TA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function t$(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var hs=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,n){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}};function n$(t,e){return _(this,null,function*(){return dr(t,"POST","/v1/accounts:signUp",e)})}function r$(t,e){return _(this,null,function*(){return Oc(t,"POST","/v1/accounts:signInWithPassword",lr(t,e))})}function i$(t,e){return _(this,null,function*(){return Oc(t,"POST","/v1/accounts:signInWithEmailLink",lr(t,e))})}function o$(t,e){return _(this,null,function*(){return Oc(t,"POST","/v1/accounts:signInWithEmailLink",lr(t,e))})}var Pc=class t extends hs{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hv(e,n,"signInWithPassword",r$,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return i$(e,{email:this._email,oobCode:this._password});default:Yt(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hv(e,r,"signUpPassword",n$,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return o$(e,{idToken:n,email:this._email,oobCode:this._password});default:Yt(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function ds(t,e){return _(this,null,function*(){return Oc(t,"POST","/v1/accounts:signInWithIdp",lr(t,e))})}var s$="http://localhost",Mh=class t extends hs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Yu(n,["providerId","signInMethod"]);if(!r||!i)return null;let s=new t(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let n=this.buildRequest();return ds(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,ds(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,ds(e,n)}buildRequest(){let e={requestUri:s$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=as(n)}return e}};function a$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function c$(t){let e=cs(us(t)).link,n=e?cs(us(e)).deep_link_id:null,r=cs(us(t)).deep_link_id;return(r?cs(us(r)).link:null)||r||n||e||t}var Ph=class t{constructor(e){var n,r,i,o,s,a;let u=cs(us(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=a$((i=u.mode)!==null&&i!==void 0?i:null);W(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=c$(e);try{return new t(n)}catch{return null}}};var XA=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Pc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Ph.parseLink(r);return W(i,"argument-error"),Pc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),xc=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var xh=class extends xc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var u$=(()=>{class t extends xh{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Mh._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();function l$(t,e){return _(this,null,function*(){return Oc(t,"POST","/v1/accounts:signUp",lr(t,e))})}var fs=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let o=yield Jr._fromIdTokenResponse(e,r,i),s=DA(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=DA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function DA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var zv=class t extends qt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function eR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?zv._fromErrorAndOperation(t,o,e,r):o})}function d$(t,e,n=!1){return _(this,null,function*(){let r=yield Nc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return fs._forOperation(t,"link",r)})}function h$(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(Tt(r.app))return Promise.reject(cr(r));let i="reauthenticate";try{let o=yield Nc(t,eR(r,i,e,t),n);W(o.idToken,r,"internal-error");let s=t_(o.idToken);W(s,r,"internal-error");let{sub:a}=s;return W(t.uid===a,r,"user-mismatch"),fs._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Yt(r,"user-mismatch"),o}})}function tR(t,e,n=!1){return _(this,null,function*(){if(Tt(t.app))return Promise.reject(cr(t));let r="signIn",i=yield eR(t,r,e),o=yield fs._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function s_(t,e){return _(this,null,function*(){return tR(Xr(t),e)})}function nR(t){return _(this,null,function*(){let e=Xr(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function rR(t,e,n){return _(this,null,function*(){if(Tt(t.app))return Promise.reject(cr(t));let r=Xr(t),s=yield Hv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",l$,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&nR(t),u}),a=yield fs._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function iR(t,e,n){return Tt(t.app)?Promise.reject(cr(t)):s_(Ae(t),XA.credential(e,n)).catch(r=>_(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&nR(t),r}))}function f$(t,e){return _(this,null,function*(){return dr(t,"POST","/v1/accounts:createAuthUri",lr(t,e))})}function oR(t,e){return _(this,null,function*(){let n=LA()?bh():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=yield f$(Ae(t),r);return i||[]})}function Uh(t,e,n,r){return Ae(t).onIdTokenChanged(e,n,r)}function a_(t,e,n){return Ae(t).beforeAuthStateChanged(e,n)}function Bh(t,e,n,r){return Ae(t).onAuthStateChanged(e,n,r)}function c_(t){return Ae(t).signOut()}var kh="__sak";var Oh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kh,"1"),this.storage.removeItem(kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var p$=1e3,g$=10,m$=(()=>{class t extends Oh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);WB()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,g$):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},p$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield Dr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield Dr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield Dr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),sR=m$;var y$=(()=>{class t extends Oh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),u_=y$;function v$(t){return Promise.all(t.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var _$=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield v$(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function l_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var qv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=l_("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Mn(){return window}function I$(t){Mn().location.href=t}function aR(){return typeof Mn().WorkerGlobalScope<"u"&&typeof Mn().importScripts=="function"}function E$(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function w$(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function T$(){return aR()?self:null}var cR="firebaseLocalStorageDb",D$=1,Lh="firebaseLocalStorage",uR="fbase_key",Hi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function $h(t,e){return t.transaction([Lh],e?"readwrite":"readonly").objectStore(Lh)}function b$(){let t=indexedDB.deleteDatabase(cR);return new Hi(t).toPromise()}function Wv(){let t=indexedDB.open(cR,D$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Lh,{keyPath:uR})}catch(i){n(i)}}),t.addEventListener("success",()=>_(null,null,function*(){let r=t.result;r.objectStoreNames.contains(Lh)?e(r):(r.close(),yield b$(),e(yield Wv()))}))})}function bA(t,e,n){return _(this,null,function*(){let r=$h(t,!0).put({[uR]:e,value:n});return new Hi(r).toPromise()})}function C$(t,e){return _(this,null,function*(){let n=$h(t,!1).get(e),r=yield new Hi(n).toPromise();return r===void 0?null:r.value})}function CA(t,e){let n=$h(t,!0).delete(e);return new Hi(n).toPromise()}var S$=800,A$=3,R$=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield Wv(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>A$)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return aR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=_$._getInstance(T$()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield E$(),!this.activeServiceWorker)return;this.sender=new qv(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||w$()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Wv();return yield bA(n,kh,"1"),yield CA(n,kh),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>bA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>C$(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>CA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(o=>{let s=$h(o,!1).getAll();return new Hi(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),S$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),lR=R$;var CZ=YA("rcb"),SZ=new $i(3e4,6e4);function dR(t,e){return e?ar(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var kc=class extends hs{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ds(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ds(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ds(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function N$(t){return tR(t.auth,new kc(t),t.bypassAuthState)}function M$(t){let{auth:e,user:n}=t;return W(n,e,"internal-error"),h$(n,new kc(t),t.bypassAuthState)}function P$(t){return _(this,null,function*(){let{auth:e,user:n}=t;return W(n,e,"internal-error"),d$(n,new kc(t),t.bypassAuthState)})}var Fh=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N$;case"linkViaPopup":case"linkViaRedirect":return P$;case"reauthViaPopup":case"reauthViaRedirect":return M$;default:Yt(this.auth,"internal-error")}}resolve(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var x$=new $i(2e3,1e4);function d_(t,e,n){return _(this,null,function*(){if(Tt(t.app))return Promise.reject(cn(t,"operation-not-supported-in-this-environment"));let r=Xr(t);MB(t,e,xc);let i=dR(r,n);return new k$(r,"signInViaPopup",e,i).executeNotNull()})}var k$=(()=>{class t extends Fh{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return _(this,null,function*(){let n=yield this.execute();return W(n,this.auth,"internal-error"),n})}onExecution(){return _(this,null,function*(){ur(this.filter.length===1,"Popup operations only handle one event");let n=l_();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,x$.get())};n()}}t.currentPopupAction=null;return t})(),O$="pendingRedirect",wh=new Map,Gv=class t extends Fh{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=wh.get(this.auth._key());if(!e){try{let r=(yield L$(this.resolver,this.auth))?yield Dr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wh.set(this.auth._key(),e)}return this.bypassAuthState||wh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return Dr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Dr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function L$(t,e){return _(this,null,function*(){let n=j$(e),r=V$(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function F$(t,e){wh.set(t._key(),e)}function V$(t){return ar(t._redirectPersistence)}function j$(t){return Eh(O$,t.config.apiKey,t.name)}function U$(t,e,n=!1){return _(this,null,function*(){if(Tt(t.app))return Promise.reject(cr(t));let r=Xr(t),i=dR(r,e),s=yield new Gv(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var B$=10*60*1e3,Kv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!hR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(cn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=B$&&this.cachedEventUids.clear(),this.cachedEventUids.has(SA(e))}saveEventToCache(e){this.cachedEventUids.add(SA(e)),this.lastProcessedEventTime=Date.now()}};function SA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function $$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hR(t);default:return!1}}function H$(n){return _(this,arguments,function*(t,e={}){return dr(t,"GET","/v1/projects",e)})}var z$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,q$=/^https?/;function W$(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield H$(t);for(let n of e)try{if(G$(n))return}catch{}Yt(t,"unauthorized-domain")})}function G$(t){let e=bh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!q$.test(n))return!1;if(z$.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var K$=new $i(3e4,6e4);function AA(){let t=Mn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Q$(t){return new Promise((e,n)=>{var r,i,o;function s(){AA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{AA(),n(cn(t,"network-request-failed"))},timeout:K$.get()})}if(!((i=(r=Mn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Mn().gapi)===null||o===void 0)&&o.load)s();else{let a=YA("iframefcb");return Mn()[a]=()=>{gapi.load?s():n(cn(t,"network-request-failed"))},QA(`${ZB()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Th=null,e})}var Th=null;function Y$(t){return Th=Th||Q$(t),Th}var Z$=new $i(5e3,15e3),J$="__/auth/iframe",X$="emulator/auth/iframe",eH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nH(t){let e=t.config;W(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Xv(e,X$):`https://${t.config.authDomain}/${J$}`,r={apiKey:e.apiKey,appName:t.name,v:Yr},i=tH.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${as(r).slice(1)}`}function rH(t){return _(this,null,function*(){let e=yield Y$(t),n=Mn().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:nH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eH,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=cn(t,"network-request-failed"),a=Mn().setTimeout(()=>{o(s)},Z$.get());function u(){Mn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var iH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oH=500,sH=600,aH="_blank",cH="http://localhost",Vh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function uH(t,e,n,r=oH,i=sH){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},iH),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ze().toLowerCase();n&&(a=$A(l)?aH:n),UA(l)&&(e=e||cH,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[m,w])=>`${g}${m}=${w},`,"");if(qB(l)&&a!=="_self")return lH(e||"",a),new Vh(null);let p=window.open(e||"",a,h);W(p,t,"popup-blocked");try{p.focus()}catch{}return new Vh(p)}function lH(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var dH="__/auth/handler",hH="emulator/auth/handler",fH=encodeURIComponent("fac");function RA(t,e,n,r,i,o){return _(this,null,function*(){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Yr,eventId:i};if(e instanceof xc){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",nA(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof xh){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${fH}=${encodeURIComponent(u)}`:"";return`${pH(t)}?${as(a).slice(1)}${l}`})}function pH({config:t}){return t.emulator?Xv(t,hH):`https://${t.authDomain}/${dH}`}var Pv="webStorageSupport",Qv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=u_,this._completeRedirectFn=U$,this._overrideRedirectResult=F$}_openPopup(e,n,r,i){return _(this,null,function*(){var o;ur((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield RA(e,n,r,bh(),i);return uH(e,s,l_())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield RA(e,n,r,bh(),i);return I$(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ur(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield rH(e),r=new Kv(e);return n.register("authEvent",i=>(W(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pv,{type:Pv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Pv];s!==void 0&&n(!!s),Yt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=W$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GA()||BA()||r_()}},fR=Qv;var NA="@firebase/auth",MA="1.10.7";var Yv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function gH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mH(t){an(new wt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;W(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KA(t)},l=new jv(r,i,o,u);return XB(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),an(new wt("auth-internal",e=>{let n=Xr(e.getProvider("auth").getImmediate());return(r=>new Yv(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Be(NA,MA,gH(t)),Be(NA,MA,"esm2017")}var yH=5*60,vH=gv("authIdTokenMaxAge")||yH,PA=null,_H=t=>e=>_(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vH)return;let i=n?.token;PA!==i&&(PA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function pR(t=Bi()){let e=ls(t,"auth");if(e.isInitialized())return e.getImmediate();let n=i_(t,{popupRedirectResolver:fR,persistence:[lR,sR,u_]}),r=gv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=_H(o.toString());a_(n,s,()=>s(n.currentUser)),Uh(n,a=>s(a))}}let i=fv("auth");return i&&o_(n,`http://${i}`),n}function IH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}QB({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=cn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",IH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mH("Browser");function h_(t){t===void 0&&(wm(h_),t=x(Et));let e=t.get(id);return n=>new re(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var gs=new Ra("ANGULARFIRE2_VERSION");function f_(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var zh=(t,e)=>{let n=e?[e]:vh(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ps=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(ps||{}),mR=gy()&&typeof Zone<"u"?ps.WARN:ps.SILENT;var Hh=class{zone;delegate;constructor(e,n=Kp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},ms=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=x(_e);this.outsideAngular=n.runOutsideAngular(()=>new Hh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Hh(typeof Zone>"u"?void 0:Zone.current,Gp))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yR=!1;function o4(t,e){!yR&&(mR>ps.SILENT||gy())&&(yR=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),mR>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function s4(t){let e=x(_e,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function zi(t){let e=x(_e,{optional:!0});return e?e.run(()=>t()):t()}var a4=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),it(n,()=>zi(()=>t.apply(void 0,r)))),qi=(t,e,n)=>(n||=e?ps.WARN:ps.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=x(ms),s=x(id),a=x(rt)}catch{return o4(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=zi(()=>s.add())),i[l]=a4(i[l],r,a));let u=s4(()=>t.apply(this,i));return e?u instanceof re?u.pipe(Rr(o.outsideAngular),Ar(o.insideAngular),h_(a)):u instanceof Promise?zi(()=>{let l=s.add();return new Promise((h,p)=>{u.then(g=>it(a,()=>zi(()=>h(g))),g=>it(a,()=>zi(()=>p(g)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:zi(()=>u):u instanceof re?u.pipe(Rr(o.outsideAngular),Ar(o.insideAngular)):zi(()=>u)});var Wi=class{constructor(e){return e}},Lc=class{constructor(){return vh()}};function c4(t){return t&&t.length===1?t[0]:new Wi(Bi())}var p_=new $("angularfire2._apps"),u4={provide:Wi,useFactory:c4,deps:[[new Lr,p_]]},l4={provide:Lc,deps:[[new Lr,p_]]};function d4(t){return(e,n)=>{let r=n.get(Pi);Be("angularfire",gs.full,"core"),Be("angularfire",gs.full,"app"),Be("angular",qC.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Wi(i)}}function RJ(t,...e){return Kn([u4,l4,{provide:p_,useFactory:d4(t),multi:!0,deps:[_e,Et,ms,...e]}])}var NJ=qi(Nv,!0);var h4=new Map,f4={activated:!1,tokenObservers:[]},p4={initialized:!1,enabled:!1};function un(t){return h4.get(t)||Object.assign({},f4)}function ER(){return p4}var g4="https://content-firebaseappcheck.googleapis.com/v1";var m4="exchangeDebugToken",vR={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},jJ=24*60*60*1e3;var y_=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new ji,this.pending.promise.catch(n=>{}),yield y4(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ji,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function y4(t){return new Promise(e=>{setTimeout(e,t)})}var v4={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ei=new sn("appCheck","AppCheck",v4);function wR(t){if(!un(t).activated)throw ei.create("use-before-activation",{appName:t.name})}function TR(r,i){return _(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(m){throw ei.create("fetch-network-error",{originalErrorMessage:m?.message})}if(u.status!==200)throw ei.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(m){throw ei.create("fetch-parse-error",{originalErrorMessage:m?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw ei.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function DR(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${g4}/projects/${n}/apps/${r}:${m4}?key=${i}`,body:{debug_token:e}}}var _4="firebase-app-check-database",I4=1,v_="firebase-app-check-store";var qh=null;function E4(){return qh||(qh=new Promise((t,e)=>{try{let n=indexedDB.open(_4,I4);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(ei.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(v_,{keyPath:"compositeKey"})}}}catch(n){e(ei.create("storage-open",{originalErrorMessage:n?.message}))}}),qh)}function w4(t,e){return T4(D4(t),e)}function T4(t,e){return _(this,null,function*(){let r=(yield E4()).transaction(v_,"readwrite"),o=r.objectStore(v_).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(ei.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function D4(t){return`${t.options.appId}-${t.name}`}var Fc=new Rn("@firebase/app-check");function g_(t,e){return Dc()?w4(t,e).catch(n=>{Fc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function bR(){return ER().enabled}function CR(){return _(this,null,function*(){let t=ER();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var b4={error:"UNKNOWN_ERROR"};function C4(t){return dh.encodeString(JSON.stringify(t),!1)}function __(t,e=!1,n=!1){return _(this,null,function*(){let r=t.app;wR(r);let i=un(r),o=i.token,s;if(o&&!Vc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Vc(l)?o=l:yield g_(r,void 0))}if(!e&&o&&Vc(o))return{token:o.token};let a=!1;if(bR())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=TR(DR(r,yield CR()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield g_(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Fc.warn(l.message):n&&Fc.error(l),m_(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield un(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Fc.warn(l.message):n&&Fc.error(l),s=l}let u;return o?s?Vc(o)?u={token:o.token,internalError:s}:u=m_(s):(u={token:o.token},i.token=o,yield g_(r,o)):u=m_(s),a&&N4(r,u),u})}function S4(t){return _(this,null,function*(){let e=t.app;wR(e);let{provider:n}=un(e);if(bR()){let r=yield CR(),{token:i}=yield TR(DR(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function A4(t,e,n,r){let{app:i}=t,o=un(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Vc(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),_R(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>_R(t))}function SR(t,e){let n=un(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function _R(t){let{app:e}=t,n=un(e),r=n.tokenRefresher;r||(r=R4(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function R4(t){let{app:e}=t;return new y_(()=>_(null,null,function*(){let n=un(e),r;if(n.token?r=yield __(t,!0):r=yield __(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=un(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},vR.RETRIAL_MIN_WAIT,vR.RETRIAL_MAX_WAIT)}function N4(t,e){let n=un(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Vc(t){return t.expireTimeMillis-Date.now()>0}function m_(t){return{token:C4(b4),error:t}}var I_=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=un(this.app);for(let n of e)SR(this.app,n.next);return Promise.resolve()}};function M4(t,e){return new I_(t,e)}function P4(t){return{getToken:e=>__(t,e),getLimitedUseToken:()=>S4(t),addTokenListener:e=>A4(t,"INTERNAL",e),removeTokenListener:e=>SR(t.app,e)}}var x4="@firebase/app-check",k4="0.10.0";var O4="app-check",IR="app-check-internal";function L4(){an(new wt(O4,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return M4(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(IR).initialize()})),an(new wt(IR,t=>{let e=t.getProvider("app-check").getImmediate();return P4(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Be(x4,k4)}L4();var F4="app-check";var Wh=class{constructor(){return zh(F4)}};var V4=["localhost","0.0.0.0","127.0.0.1"],JJ=typeof window<"u"&&V4.includes(window.location.hostname);function AR(t){return new re(function(e){var n=Bh(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var RR="auth",jc=class{constructor(e){return e}},E_=class{constructor(){return zh(RR)}};var w_=new $("angularfire2.auth-instances");function j4(t,e){let n=f_(RR,t,e);return n&&new jc(n)}function U4(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new jc(r)}}var B4={provide:E_,deps:[[new Lr,w_]]},$4={provide:jc,useFactory:j4,deps:[[new Lr,w_],Wi]};function pX(t,...e){return Be("angularfire",gs.full,"auth"),Kn([$4,B4,{provide:w_,useFactory:U4(t),multi:!0,deps:[_e,Et,ms,Lc,[new Lr,Wh],...e]}])}var gX=qi(AR,!0);var mX=qi(d_,!0,2);var yX=qi(c_,!0,2);var NR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},MR={};var hr,T_;(function(){var t;function e(D,v){function E(){}E.prototype=v.prototype,D.D=v.prototype,D.prototype=new E,D.prototype.constructor=D,D.C=function(T,b,S){for(var I=Array(arguments.length-2),Vn=2;Vn<arguments.length;Vn++)I[Vn-2]=arguments[Vn];return v.prototype[b].apply(T,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,E){E||(E=0);var T=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)T[b]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(b=0;16>b;++b)T[b]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=D.g[0],E=D.g[1],b=D.g[2];var S=D.g[3],I=v+(S^E&(b^S))+T[0]+3614090360&4294967295;v=E+(I<<7&4294967295|I>>>25),I=S+(b^v&(E^b))+T[1]+3905402710&4294967295,S=v+(I<<12&4294967295|I>>>20),I=b+(E^S&(v^E))+T[2]+606105819&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(v^b&(S^v))+T[3]+3250441966&4294967295,E=b+(I<<22&4294967295|I>>>10),I=v+(S^E&(b^S))+T[4]+4118548399&4294967295,v=E+(I<<7&4294967295|I>>>25),I=S+(b^v&(E^b))+T[5]+1200080426&4294967295,S=v+(I<<12&4294967295|I>>>20),I=b+(E^S&(v^E))+T[6]+2821735955&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(v^b&(S^v))+T[7]+4249261313&4294967295,E=b+(I<<22&4294967295|I>>>10),I=v+(S^E&(b^S))+T[8]+1770035416&4294967295,v=E+(I<<7&4294967295|I>>>25),I=S+(b^v&(E^b))+T[9]+2336552879&4294967295,S=v+(I<<12&4294967295|I>>>20),I=b+(E^S&(v^E))+T[10]+4294925233&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(v^b&(S^v))+T[11]+2304563134&4294967295,E=b+(I<<22&4294967295|I>>>10),I=v+(S^E&(b^S))+T[12]+1804603682&4294967295,v=E+(I<<7&4294967295|I>>>25),I=S+(b^v&(E^b))+T[13]+4254626195&4294967295,S=v+(I<<12&4294967295|I>>>20),I=b+(E^S&(v^E))+T[14]+2792965006&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(v^b&(S^v))+T[15]+1236535329&4294967295,E=b+(I<<22&4294967295|I>>>10),I=v+(b^S&(E^b))+T[1]+4129170786&4294967295,v=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(v^E))+T[6]+3225465664&4294967295,S=v+(I<<9&4294967295|I>>>23),I=b+(v^E&(S^v))+T[11]+643717713&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^v&(b^S))+T[0]+3921069994&4294967295,E=b+(I<<20&4294967295|I>>>12),I=v+(b^S&(E^b))+T[5]+3593408605&4294967295,v=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(v^E))+T[10]+38016083&4294967295,S=v+(I<<9&4294967295|I>>>23),I=b+(v^E&(S^v))+T[15]+3634488961&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^v&(b^S))+T[4]+3889429448&4294967295,E=b+(I<<20&4294967295|I>>>12),I=v+(b^S&(E^b))+T[9]+568446438&4294967295,v=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(v^E))+T[14]+3275163606&4294967295,S=v+(I<<9&4294967295|I>>>23),I=b+(v^E&(S^v))+T[3]+4107603335&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^v&(b^S))+T[8]+1163531501&4294967295,E=b+(I<<20&4294967295|I>>>12),I=v+(b^S&(E^b))+T[13]+2850285829&4294967295,v=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(v^E))+T[2]+4243563512&4294967295,S=v+(I<<9&4294967295|I>>>23),I=b+(v^E&(S^v))+T[7]+1735328473&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^v&(b^S))+T[12]+2368359562&4294967295,E=b+(I<<20&4294967295|I>>>12),I=v+(E^b^S)+T[5]+4294588738&4294967295,v=E+(I<<4&4294967295|I>>>28),I=S+(v^E^b)+T[8]+2272392833&4294967295,S=v+(I<<11&4294967295|I>>>21),I=b+(S^v^E)+T[11]+1839030562&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^v)+T[14]+4259657740&4294967295,E=b+(I<<23&4294967295|I>>>9),I=v+(E^b^S)+T[1]+2763975236&4294967295,v=E+(I<<4&4294967295|I>>>28),I=S+(v^E^b)+T[4]+1272893353&4294967295,S=v+(I<<11&4294967295|I>>>21),I=b+(S^v^E)+T[7]+4139469664&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^v)+T[10]+3200236656&4294967295,E=b+(I<<23&4294967295|I>>>9),I=v+(E^b^S)+T[13]+681279174&4294967295,v=E+(I<<4&4294967295|I>>>28),I=S+(v^E^b)+T[0]+3936430074&4294967295,S=v+(I<<11&4294967295|I>>>21),I=b+(S^v^E)+T[3]+3572445317&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^v)+T[6]+76029189&4294967295,E=b+(I<<23&4294967295|I>>>9),I=v+(E^b^S)+T[9]+3654602809&4294967295,v=E+(I<<4&4294967295|I>>>28),I=S+(v^E^b)+T[12]+3873151461&4294967295,S=v+(I<<11&4294967295|I>>>21),I=b+(S^v^E)+T[15]+530742520&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^v)+T[2]+3299628645&4294967295,E=b+(I<<23&4294967295|I>>>9),I=v+(b^(E|~S))+T[0]+4096336452&4294967295,v=E+(I<<6&4294967295|I>>>26),I=S+(E^(v|~b))+T[7]+1126891415&4294967295,S=v+(I<<10&4294967295|I>>>22),I=b+(v^(S|~E))+T[14]+2878612391&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~v))+T[5]+4237533241&4294967295,E=b+(I<<21&4294967295|I>>>11),I=v+(b^(E|~S))+T[12]+1700485571&4294967295,v=E+(I<<6&4294967295|I>>>26),I=S+(E^(v|~b))+T[3]+2399980690&4294967295,S=v+(I<<10&4294967295|I>>>22),I=b+(v^(S|~E))+T[10]+4293915773&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~v))+T[1]+2240044497&4294967295,E=b+(I<<21&4294967295|I>>>11),I=v+(b^(E|~S))+T[8]+1873313359&4294967295,v=E+(I<<6&4294967295|I>>>26),I=S+(E^(v|~b))+T[15]+4264355552&4294967295,S=v+(I<<10&4294967295|I>>>22),I=b+(v^(S|~E))+T[6]+2734768916&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~v))+T[13]+1309151649&4294967295,E=b+(I<<21&4294967295|I>>>11),I=v+(b^(E|~S))+T[4]+4149444226&4294967295,v=E+(I<<6&4294967295|I>>>26),I=S+(E^(v|~b))+T[11]+3174756917&4294967295,S=v+(I<<10&4294967295|I>>>22),I=b+(v^(S|~E))+T[2]+718787259&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~v))+T[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(b+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+S&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var E=v-this.blockSize,T=this.B,b=this.h,S=0;S<v;){if(b==0)for(;S<=E;)i(this,D,S),S+=this.blockSize;if(typeof D=="string"){for(;S<v;)if(T[b++]=D.charCodeAt(S++),b==this.blockSize){i(this,T),b=0;break}}else for(;S<v;)if(T[b++]=D[S++],b==this.blockSize){i(this,T),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var E=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=E&255,E/=256;for(this.u(D),D=Array(16),v=E=0;4>v;++v)for(var T=0;32>T;T+=8)D[E++]=this.g[v]>>>T&255;return D};function o(D,v){var E=a;return Object.prototype.hasOwnProperty.call(E,D)?E[D]:E[D]=v(D)}function s(D,v){this.h=v;for(var E=[],T=!0,b=D.length-1;0<=b;b--){var S=D[b]|0;T&&S==v||(E[b]=S,T=!1)}this.g=E}var a={};function u(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var v=[],E=1,T=0;D>=E;T++)v[T]=D/E|0,E*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return R(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),T=p,b=0;b<D.length;b+=8){var S=Math.min(8,D.length-b),I=parseInt(D.substring(b,b+S),v);8>S?(S=l(Math.pow(v,S)),T=T.j(S).add(l(I))):(T=T.j(E),T=T.add(l(I)))}return T}var p=u(0),g=u(1),m=u(16777216);t=s.prototype,t.m=function(){if(A(this))return-R(this).m();for(var D=0,v=1,E=0;E<this.g.length;E++){var T=this.i(E);D+=(0<=T?T:4294967296+T)*v,v*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(w(this))return"0";if(A(this))return"-"+R(this).toString(D);for(var v=l(Math.pow(D,6)),E=this,T="";;){var b=ce(E,v).g;E=k(E,b.j(v));var S=((0<E.g.length?E.g[0]:E.h)>>>0).toString(D);if(E=b,w(E))return S+T;for(;6>S.length;)S="0"+S;T=S+T}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function w(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function A(D){return D.h==-1}t.l=function(D){return D=k(this,D),A(D)?-1:w(D)?0:1};function R(D){for(var v=D.g.length,E=[],T=0;T<v;T++)E[T]=~D.g[T];return new s(E,~D.h).add(g)}t.abs=function(){return A(this)?R(this):this},t.add=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],T=0,b=0;b<=v;b++){var S=T+(this.i(b)&65535)+(D.i(b)&65535),I=(S>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);T=I>>>16,S&=65535,I&=65535,E[b]=I<<16|S}return new s(E,E[E.length-1]&-2147483648?-1:0)};function k(D,v){return D.add(R(v))}t.j=function(D){if(w(this)||w(D))return p;if(A(this))return A(D)?R(this).j(R(D)):R(R(this).j(D));if(A(D))return R(this.j(R(D)));if(0>this.l(m)&&0>D.l(m))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,E=[],T=0;T<2*v;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(var b=0;b<D.g.length;b++){var S=this.i(T)>>>16,I=this.i(T)&65535,Vn=D.i(b)>>>16,$s=D.i(b)&65535;E[2*T+2*b]+=I*$s,U(E,2*T+2*b),E[2*T+2*b+1]+=S*$s,U(E,2*T+2*b+1),E[2*T+2*b+1]+=I*Vn,U(E,2*T+2*b+1),E[2*T+2*b+2]+=S*Vn,U(E,2*T+2*b+2)}for(T=0;T<v;T++)E[T]=E[2*T+1]<<16|E[2*T];for(T=v;T<2*v;T++)E[T]=0;return new s(E,0)};function U(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function B(D,v){this.g=D,this.h=v}function ce(D,v){if(w(v))throw Error("division by zero");if(w(D))return new B(p,p);if(A(D))return v=ce(R(D),v),new B(R(v.g),R(v.h));if(A(v))return v=ce(D,R(v)),new B(R(v.g),v.h);if(30<D.g.length){if(A(D)||A(v))throw Error("slowDivide_ only works with positive integers.");for(var E=g,T=v;0>=T.l(D);)E=Ne(E),T=Ne(T);var b=ue(E,1),S=ue(T,1);for(T=ue(T,2),E=ue(E,2);!w(T);){var I=S.add(T);0>=I.l(D)&&(b=b.add(E),S=I),T=ue(T,1),E=ue(E,1)}return v=k(D,b.j(v)),new B(b,v)}for(b=p;0<=D.l(v);){for(E=Math.max(1,Math.floor(D.m()/v.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),S=l(E),I=S.j(v);A(I)||0<I.l(D);)E-=T,S=l(E),I=S.j(v);w(S)&&(S=g),b=b.add(S),D=k(D,I)}return new B(b,D)}t.A=function(D){return ce(this,D).h},t.and=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],T=0;T<v;T++)E[T]=this.i(T)&D.i(T);return new s(E,this.h&D.h)},t.or=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],T=0;T<v;T++)E[T]=this.i(T)|D.i(T);return new s(E,this.h|D.h)},t.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],T=0;T<v;T++)E[T]=this.i(T)^D.i(T);return new s(E,this.h^D.h)};function Ne(D){for(var v=D.g.length+1,E=[],T=0;T<v;T++)E[T]=D.i(T)<<1|D.i(T-1)>>>31;return new s(E,D.h)}function ue(D,v){var E=v>>5;v%=32;for(var T=D.g.length-E,b=[],S=0;S<T;S++)b[S]=0<v?D.i(S+E)>>>v|D.i(S+E+1)<<32-v:D.i(S+E);return new s(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,T_=MR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,hr=MR.Integer=s}).apply(typeof NR<"u"?NR:typeof self<"u"?self:typeof window<"u"?window:{});var Gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fr={};var D_,H4,ys,b_,Uc,Kh,C_,S_,A_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gh=="object"&&Gh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var y=0;y<c.length-1;y++){var C=c[y];if(!(C in f))break e;f=f[C]}c=c[c.length-1],y=f[c],d=d(y),d!=y&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,y=!1,C={next:function(){if(!y&&f<c.length){var N=f++;return{value:d(N,c[N]),done:!1}}return y=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,y),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function m(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),c.apply(this,y)}}function w(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(y,C,N){for(var O=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)O[Ee-2]=arguments[Ee];return d.prototype[C].apply(y,O)}}function A(c){let d=c.length;if(0<d){let f=Array(d);for(let y=0;y<d;y++)f[y]=c[y];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let y=arguments[f];if(u(y)){let C=c.length||0,N=y.length||0;c.length=C+N;for(let O=0;O<N;O++)c[C+O]=y[O]}else c.push(y)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function U(c){return/^[\s\xa0]*$/.test(c)}function B(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var Ne=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function ue(c,d,f){for(let y in c)d.call(f,c[y],y,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(c,d){let f,y;for(let C=1;C<arguments.length;C++){y=arguments[C];for(f in y)c[f]=y[f];for(let N=0;N<E.length;N++)f=E[N],Object.prototype.hasOwnProperty.call(y,f)&&(c[f]=y[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Yf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Vn{constructor(){this.h=this.g=null}add(d,f){let y=$s.get();y.set(d,f),this.h?this.h.next=y:this.g=y,this.h=y}}var $s=new k(()=>new ZM,c=>c.reset());class ZM{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Hs,zs=!1,Yf=new Vn,$E=()=>{let c=a.Promise.resolve(void 0);Hs=()=>{c.then(JM)}};var JM=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){S(f)}var d=$s;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}zs=!1};function Ir(){this.s=this.s,this.C=this.C}Ir.prototype.s=!1,Ir.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ir.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var XM=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function qs(c,d){if(st.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,y=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ne){e:{try{ce(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:eP[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&qs.aa.h.call(this)}}w(qs,st);var eP={2:"touch",3:"pen",4:"mouse"};qs.prototype.h=function(){qs.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ws="closure_listenable_"+(1e6*Math.random()|0),tP=0;function nP(c,d,f,y,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!y,this.ha=C,this.key=++tP,this.da=this.fa=!1}function fu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function pu(c){this.src=c,this.g={},this.h=0}pu.prototype.add=function(c,d,f,y,C){var N=c.toString();c=this.g[N],c||(c=this.g[N]=[],this.h++);var O=Jf(c,d,y,C);return-1<O?(d=c[O],f||(d.fa=!1)):(d=new nP(d,this.src,N,!!y,C),d.fa=f,c.push(d)),d};function Zf(c,d){var f=d.type;if(f in c.g){var y=c.g[f],C=Array.prototype.indexOf.call(y,d,void 0),N;(N=0<=C)&&Array.prototype.splice.call(y,C,1),N&&(fu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Jf(c,d,f,y){for(var C=0;C<c.length;++C){var N=c[C];if(!N.da&&N.listener==d&&N.capture==!!f&&N.ha==y)return C}return-1}var Xf="closure_lm_"+(1e6*Math.random()|0),ep={};function HE(c,d,f,y,C){if(y&&y.once)return qE(c,d,f,y,C);if(Array.isArray(d)){for(var N=0;N<d.length;N++)HE(c,d[N],f,y,C);return null}return f=ip(f),c&&c[Ws]?c.K(d,f,l(y)?!!y.capture:!!y,C):zE(c,d,f,!1,y,C)}function zE(c,d,f,y,C,N){if(!d)throw Error("Invalid event type");var O=l(C)?!!C.capture:!!C,Ee=np(c);if(Ee||(c[Xf]=Ee=new pu(c)),f=Ee.add(d,f,y,O,N),f.proxy)return f;if(y=rP(),f.proxy=y,y.src=c,y.listener=f,c.addEventListener)XM||(C=O),C===void 0&&(C=!1),c.addEventListener(d.toString(),y,C);else if(c.attachEvent)c.attachEvent(GE(d.toString()),y);else if(c.addListener&&c.removeListener)c.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function rP(){function c(f){return d.call(c.src,c.listener,f)}let d=iP;return c}function qE(c,d,f,y,C){if(Array.isArray(d)){for(var N=0;N<d.length;N++)qE(c,d[N],f,y,C);return null}return f=ip(f),c&&c[Ws]?c.L(d,f,l(y)?!!y.capture:!!y,C):zE(c,d,f,!0,y,C)}function WE(c,d,f,y,C){if(Array.isArray(d))for(var N=0;N<d.length;N++)WE(c,d[N],f,y,C);else y=l(y)?!!y.capture:!!y,f=ip(f),c&&c[Ws]?(c=c.i,d=String(d).toString(),d in c.g&&(N=c.g[d],f=Jf(N,f,y,C),-1<f&&(fu(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete c.g[d],c.h--)))):c&&(c=np(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Jf(d,f,y,C)),(f=-1<c?d[c]:null)&&tp(f))}function tp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Ws])Zf(d.i,c);else{var f=c.type,y=c.proxy;d.removeEventListener?d.removeEventListener(f,y,c.capture):d.detachEvent?d.detachEvent(GE(f),y):d.addListener&&d.removeListener&&d.removeListener(y),(f=np(d))?(Zf(f,c),f.h==0&&(f.src=null,d[Xf]=null)):fu(c)}}}function GE(c){return c in ep?ep[c]:ep[c]="on"+c}function iP(c,d){if(c.da)c=!0;else{d=new qs(d,this);var f=c.listener,y=c.ha||c.src;c.fa&&tp(c),c=f.call(y,d)}return c}function np(c){return c=c[Xf],c instanceof pu?c:null}var rp="__closure_events_fn_"+(1e9*Math.random()>>>0);function ip(c){return typeof c=="function"?c:(c[rp]||(c[rp]=function(d){return c.handleEvent(d)}),c[rp])}function at(){Ir.call(this),this.i=new pu(this),this.M=this,this.F=null}w(at,Ir),at.prototype[Ws]=!0,at.prototype.removeEventListener=function(c,d,f,y){WE(this,c,d,f,y)};function mt(c,d){var f,y=c.F;if(y)for(f=[];y;y=y.F)f.push(y);if(c=c.M,y=d.type||d,typeof d=="string")d=new st(d,c);else if(d instanceof st)d.target=d.target||c;else{var C=d;d=new st(y,c),T(d,C)}if(C=!0,f)for(var N=f.length-1;0<=N;N--){var O=d.g=f[N];C=gu(O,y,!0,d)&&C}if(O=d.g=c,C=gu(O,y,!0,d)&&C,C=gu(O,y,!1,d)&&C,f)for(N=0;N<f.length;N++)O=d.g=f[N],C=gu(O,y,!1,d)&&C}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],y=0;y<f.length;y++)fu(f[y]);delete c.g[d],c.h--}}this.F=null},at.prototype.K=function(c,d,f,y){return this.i.add(String(c),d,!1,f,y)},at.prototype.L=function(c,d,f,y){return this.i.add(String(c),d,!0,f,y)};function gu(c,d,f,y){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,N=0;N<d.length;++N){var O=d[N];if(O&&!O.da&&O.capture==f){var Ee=O.listener,et=O.ha||O.src;O.fa&&Zf(c.i,O),C=Ee.call(et,y)!==!1&&C}}return C&&!y.defaultPrevented}function KE(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function QE(c){c.g=KE(()=>{c.g=null,c.i&&(c.i=!1,QE(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class oP extends Ir{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:QE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gs(c){Ir.call(this),this.h=c,this.g={}}w(Gs,Ir);var YE=[];function ZE(c){ue(c.g,function(d,f){this.g.hasOwnProperty(f)&&tp(d)},c),c.g={}}Gs.prototype.N=function(){Gs.aa.N.call(this),ZE(this)},Gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var op=a.JSON.stringify,sP=a.JSON.parse,aP=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function sp(){}sp.prototype.h=null;function JE(c){return c.h||(c.h=c.i())}function XE(){}var Ks={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ap(){st.call(this,"d")}w(ap,st);function cp(){st.call(this,"c")}w(cp,st);var ai={},ew=null;function mu(){return ew=ew||new at}ai.La="serverreachability";function tw(c){st.call(this,ai.La,c)}w(tw,st);function Qs(c){let d=mu();mt(d,new tw(d))}ai.STAT_EVENT="statevent";function nw(c,d){st.call(this,ai.STAT_EVENT,c),this.stat=d}w(nw,st);function yt(c){let d=mu();mt(d,new nw(d,c))}ai.Ma="timingevent";function rw(c,d){st.call(this,ai.Ma,c),this.size=d}w(rw,st);function Ys(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Zs(){this.g=!0}Zs.prototype.xa=function(){this.g=!1};function cP(c,d,f,y,C,N){c.info(function(){if(c.g)if(N)for(var O="",Ee=N.split("&"),et=0;et<Ee.length;et++){var ge=Ee[et].split("=");if(1<ge.length){var ct=ge[0];ge=ge[1];var ut=ct.split("_");O=2<=ut.length&&ut[1]=="type"?O+(ct+"="+ge+"&"):O+(ct+"=redacted&")}}else O=null;else O=N;return"XMLHTTP REQ ("+y+") [attempt "+C+"]: "+d+`
`+f+`
`+O})}function uP(c,d,f,y,C,N,O){c.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+C+"]: "+d+`
`+f+`
`+N+" "+O})}function io(c,d,f,y){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+dP(c,f)+(y?" "+y:"")})}function lP(c,d){c.info(function(){return"TIMEOUT: "+d})}Zs.prototype.info=function(){};function dP(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var y=f[c];if(!(2>y.length)){var C=y[1];if(Array.isArray(C)&&!(1>C.length)){var N=C[0];if(N!="noop"&&N!="stop"&&N!="close")for(var O=1;O<C.length;O++)C[O]=""}}}}return op(f)}catch{return d}}var yu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},iw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},up;function vu(){}w(vu,sp),vu.prototype.g=function(){return new XMLHttpRequest},vu.prototype.i=function(){return{}},up=new vu;function Er(c,d,f,y){this.j=c,this.i=d,this.l=f,this.R=y||1,this.U=new Gs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ow}function ow(){this.i=null,this.g="",this.h=!1}var sw={},lp={};function dp(c,d,f){c.L=1,c.v=wu(jn(d)),c.m=f,c.P=!0,aw(c,null)}function aw(c,d){c.F=Date.now(),_u(c),c.A=jn(c.v);var f=c.A,y=c.R;Array.isArray(y)||(y=[String(y)]),Ew(f.i,"t",y),c.C=0,f=c.j.J,c.h=new ow,c.g=jw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new oP(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,y=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(YE[0]=C.toString()),C=YE);for(var N=0;N<C.length;N++){var O=HE(f,C[N],y||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Qs(),cP(c.i,c.u,c.A,c.l,c.R,c.m)}Er.prototype.ca=function(c){c=c.target;let d=this.M;d&&Un(c)==3?d.j():this.Y(c)},Er.prototype.Y=function(c){try{if(c==this.g)e:{let ut=Un(this.g);var d=this.g.Ba();let ao=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||Aw(this.g)))){this.J||ut!=4||d==7||(d==8||0>=ao?Qs(3):Qs(2)),hp(this);var f=this.g.Z();this.X=f;t:if(cw(this)){var y=Aw(this.g);c="";var C=y.length,N=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ci(this),Js(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(y[d],{stream:!(N&&d==C-1)});y.length=0,this.h.g+=c,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=f==200,uP(this.i,this.u,this.A,this.l,this.R,ut,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,et=this.g;if((Ee=et.g?et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Ee)){var ge=Ee;break t}}ge=null}if(f=ge)io(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fp(this,f);else{this.o=!1,this.s=3,yt(12),ci(this),Js(this);break e}}if(this.P){f=!0;let Xt;for(;!this.J&&this.C<O.length;)if(Xt=hP(this,O),Xt==lp){ut==4&&(this.s=4,yt(14),f=!1),io(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==sw){this.s=4,yt(15),io(this.i,this.l,O,"[Invalid Chunk]"),f=!1;break}else io(this.i,this.l,Xt,null),fp(this,Xt);if(cw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||O.length!=0||this.h.h||(this.s=1,yt(16),f=!1),this.o=this.o&&f,!f)io(this.i,this.l,O,"[Invalid Chunked Response]"),ci(this),Js(this);else if(0<O.length&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.ba&&!ct.M&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),_p(ct),ct.M=!0,yt(11))}}else io(this.i,this.l,O,null),fp(this,O);ut==4&&ci(this),this.o&&!this.J&&(ut==4?Ow(this.j,this):(this.o=!1,_u(this)))}else RP(this.g),f==400&&0<O.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),ci(this),Js(this)}}}catch{}finally{}};function cw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function hP(c,d){var f=c.C,y=d.indexOf(`
`,f);return y==-1?lp:(f=Number(d.substring(f,y)),isNaN(f)?sw:(y+=1,y+f>d.length?lp:(d=d.slice(y,y+f),c.C=y+f,d)))}Er.prototype.cancel=function(){this.J=!0,ci(this)};function _u(c){c.S=Date.now()+c.I,uw(c,c.I)}function uw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ys(g(c.ba,c),d)}function hp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Er.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(lP(this.i,this.A),this.L!=2&&(Qs(),yt(17)),ci(this),this.s=2,Js(this)):uw(this,this.S-c)};function Js(c){c.j.G==0||c.J||Ow(c.j,c)}function ci(c){hp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,ZE(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function fp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||pp(f.h,c))){if(!c.K&&pp(f.h,c)&&f.G==3){try{var y=f.Da.g.parse(d)}catch{y=null}if(Array.isArray(y)&&y.length==3){var C=y;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Su(f),bu(f);else break e;vp(f),yt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ys(g(f.Za,f),6e3));if(1>=hw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else li(f,11)}else if((c.K||f.g==c)&&Su(f),!U(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let ge=C[d];if(f.T=ge[0],ge=ge[1],f.G==2)if(ge[0]=="c"){f.K=ge[1],f.ia=ge[2];let ct=ge[3];ct!=null&&(f.la=ct,f.j.info("VER="+f.la));let ut=ge[4];ut!=null&&(f.Aa=ut,f.j.info("SVER="+f.Aa));let ao=ge[5];ao!=null&&typeof ao=="number"&&0<ao&&(y=1.5*ao,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;let Xt=c.g;if(Xt){let Ru=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ru){var N=y.h;N.g||Ru.indexOf("spdy")==-1&&Ru.indexOf("quic")==-1&&Ru.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(gp(N,N.h),N.h=null))}if(y.D){let Ip=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ip&&(y.ya=Ip,be(y.I,y.D,Ip))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var O=c;if(y.qa=Vw(y,y.J?y.ia:null,y.W),O.K){fw(y.h,O);var Ee=O,et=y.L;et&&(Ee.I=et),Ee.B&&(hp(Ee),_u(Ee)),y.g=O}else xw(y);0<f.i.length&&Cu(f)}else ge[0]!="stop"&&ge[0]!="close"||li(f,7);else f.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?li(f,7):yp(f):ge[0]!="noop"&&f.l&&f.l.ta(ge),f.v=0)}}Qs(4)}catch{}}var fP=class{constructor(c,d){this.g=c,this.map=d}};function lw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function hw(c){return c.h?1:c.g?c.g.size:0}function pp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function gp(c,d){c.g?c.g.add(d):c.h=d}function fw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}lw.prototype.cancel=function(){if(this.i=pw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function pw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return A(c.i)}function pP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,y=0;y<f;y++)d.push(c[y]);return d}d=[],f=0;for(y in c)d[f++]=c[y];return d}function gP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let y in c)d[f++]=y;return d}}}function gw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=gP(c),y=pP(c),C=y.length,N=0;N<C;N++)d.call(void 0,y[N],f&&f[N],c)}var mw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mP(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var y=c[f].indexOf("="),C=null;if(0<=y){var N=c[f].substring(0,y);C=c[f].substring(y+1)}else N=c[f];d(N,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function ui(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ui){this.h=c.h,Iu(this,c.j),this.o=c.o,this.g=c.g,Eu(this,c.s),this.l=c.l;var d=c.i,f=new ta;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),yw(this,f),this.m=c.m}else c&&(d=String(c).match(mw))?(this.h=!1,Iu(this,d[1]||"",!0),this.o=Xs(d[2]||""),this.g=Xs(d[3]||"",!0),Eu(this,d[4]),this.l=Xs(d[5]||"",!0),yw(this,d[6]||"",!0),this.m=Xs(d[7]||"")):(this.h=!1,this.i=new ta(null,this.h))}ui.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ea(d,vw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ea(d,vw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ea(f,f.charAt(0)=="/"?_P:vP,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ea(f,EP)),c.join("")};function jn(c){return new ui(c)}function Iu(c,d,f){c.j=f?Xs(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Eu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function yw(c,d,f){d instanceof ta?(c.i=d,wP(c.i,c.h)):(f||(d=ea(d,IP)),c.i=new ta(d,c.h))}function be(c,d,f){c.i.set(d,f)}function wu(c){return be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Xs(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ea(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,yP),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function yP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var vw=/[#\/\?@]/g,vP=/[#\?:]/g,_P=/[#\?]/g,IP=/[#\?@]/g,EP=/#/g;function ta(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function wr(c){c.g||(c.g=new Map,c.h=0,c.i&&mP(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=ta.prototype,t.add=function(c,d){wr(this),this.i=null,c=oo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function _w(c,d){wr(c),d=oo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Iw(c,d){return wr(c),d=oo(c,d),c.g.has(d)}t.forEach=function(c,d){wr(this),this.g.forEach(function(f,y){f.forEach(function(C){c.call(d,C,y,this)},this)},this)},t.na=function(){wr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let y=0;y<d.length;y++){let C=c[y];for(let N=0;N<C.length;N++)f.push(d[y])}return f},t.V=function(c){wr(this);let d=[];if(typeof c=="string")Iw(this,c)&&(d=d.concat(this.g.get(oo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return wr(this),this.i=null,c=oo(this,c),Iw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Ew(c,d,f){_w(c,d),0<f.length&&(c.i=null,c.g.set(oo(c,d),A(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var y=d[f];let N=encodeURIComponent(String(y)),O=this.V(y);for(y=0;y<O.length;y++){var C=N;O[y]!==""&&(C+="="+encodeURIComponent(String(O[y]))),c.push(C)}}return this.i=c.join("&")};function oo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function wP(c,d){d&&!c.j&&(wr(c),c.i=null,c.g.forEach(function(f,y){var C=y.toLowerCase();y!=C&&(_w(this,y),Ew(this,C,f))},c)),c.j=d}function TP(c,d){let f=new Zs;if(a.Image){let y=new Image;y.onload=m(Tr,f,"TestLoadImage: loaded",!0,d,y),y.onerror=m(Tr,f,"TestLoadImage: error",!1,d,y),y.onabort=m(Tr,f,"TestLoadImage: abort",!1,d,y),y.ontimeout=m(Tr,f,"TestLoadImage: timeout",!1,d,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=c}else d(!1)}function DP(c,d){let f=new Zs,y=new AbortController,C=setTimeout(()=>{y.abort(),Tr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:y.signal}).then(N=>{clearTimeout(C),N.ok?Tr(f,"TestPingServer: ok",!0,d):Tr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Tr(f,"TestPingServer: error",!1,d)})}function Tr(c,d,f,y,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),y(f)}catch{}}function bP(){this.g=new aP}function CP(c,d,f){let y=f||"";try{gw(c,function(C,N){let O=C;l(C)&&(O=op(C)),d.push(y+N+"="+encodeURIComponent(O))})}catch(C){throw d.push(y+"type="+encodeURIComponent("_badmap")),C}}function na(c){this.l=c.Ub||null,this.j=c.eb||!1}w(na,sp),na.prototype.g=function(){return new Tu(this.l,this.j)},na.prototype.i=function(c){return function(){return c}}({});function Tu(c,d){at.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Tu,at),t=Tu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ia(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ra(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ia(this)),this.g&&(this.readyState=3,ia(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ww(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ww(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ra(this):ia(this),this.readyState==3&&ww(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ra(this))},t.Qa=function(c){this.g&&(this.response=c,ra(this))},t.ga=function(){this.g&&ra(this)};function ra(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ia(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function ia(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Tu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Tw(c){let d="";return ue(c,function(f,y){d+=y,d+=":",d+=f,d+=`\r
`}),d}function mp(c,d,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=Tw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):be(c,d,f))}function Me(c){at.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Me,at);var SP=/^https?$/i,AP=["POST","PUT"];t=Me.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():up.g(),this.v=this.o?JE(this.o):JE(up),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(N){Dw(this,N);return}if(c=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var C in y)f.set(C,y[C]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let N of y.keys())f.set(N,y.get(N));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(AP,d,void 0))||y||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,O]of f)this.g.setRequestHeader(N,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sw(this),this.u=!0,this.g.send(c),this.u=!1}catch(N){Dw(this,N)}};function Dw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,bw(c),Du(c)}function bw(c){c.A||(c.A=!0,mt(c,"complete"),mt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,mt(this,"complete"),mt(this,"abort"),Du(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Du(this,!0)),Me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Cw(this):this.bb())},t.bb=function(){Cw(this)};function Cw(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Un(c)!=4||c.Z()!=2)){if(c.u&&Un(c)==4)KE(c.Ea,0,c);else if(mt(c,"readystatechange"),Un(c)==4){c.h=!1;try{let O=c.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var y;if(y=O===0){var C=String(c.D).match(mw)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),y=!SP.test(C?C.toLowerCase():"")}f=y}if(f)mt(c,"complete"),mt(c,"success");else{c.m=6;try{var N=2<Un(c)?c.g.statusText:""}catch{N=""}c.l=N+" ["+c.Z()+"]",bw(c)}}finally{Du(c)}}}}function Du(c,d){if(c.g){Sw(c);let f=c.g,y=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||mt(c,"ready");try{f.onreadystatechange=y}catch{}}}function Sw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Un(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),sP(d)}};function Aw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function RP(c){let d={};c=(c.g&&2<=Un(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<c.length;y++){if(U(c[y]))continue;var f=b(c[y]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let N=d[C]||[];d[C]=N,N.push(f)}D(d,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oa(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Rw(c){this.Aa=0,this.i=[],this.j=new Zs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oa("baseRetryDelayMs",5e3,c),this.cb=oa("retryDelaySeedMs",1e4,c),this.Wa=oa("forwardChannelMaxRetries",2,c),this.wa=oa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new lw(c&&c.concurrentRequestLimit),this.Da=new bP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Rw.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,y){yt(0),this.W=c,this.H=d||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=Vw(this,null,this.W),Cu(this)};function yp(c){if(Nw(c),c.G==3){var d=c.U++,f=jn(c.I);if(be(f,"SID",c.K),be(f,"RID",d),be(f,"TYPE","terminate"),sa(c,f),d=new Er(c,c.j,d),d.L=2,d.v=wu(jn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=jw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),_u(d)}Fw(c)}function bu(c){c.g&&(_p(c),c.g.cancel(),c.g=null)}function Nw(c){bu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Su(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Cu(c){if(!dw(c.h)&&!c.s){c.s=!0;var d=c.Ga;Hs||$E(),zs||(Hs(),zs=!0),Yf.add(d,c),c.B=0}}function NP(c,d){return hw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ys(g(c.Ga,c,d),Lw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new Er(this,this.j,c),N=this.o;if(this.S&&(N?(N=v(N),T(N,this.S)):N=this.S),this.m!==null||this.O||(C.H=N,N=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(d+=y,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Pw(this,C,d),f=jn(this.I),be(f,"RID",c),be(f,"CVER",22),this.D&&be(f,"X-HTTP-Session-Id",this.D),sa(this,f),N&&(this.O?d="headers="+encodeURIComponent(String(Tw(N)))+"&"+d:this.m&&mp(f,this.m,N)),gp(this.h,C),this.Ua&&be(f,"TYPE","init"),this.P?(be(f,"$req",d),be(f,"SID","null"),C.T=!0,dp(C,f,null)):dp(C,f,d),this.G=2}}else this.G==3&&(c?Mw(this,c):this.i.length==0||dw(this.h)||Mw(this))};function Mw(c,d){var f;d?f=d.l:f=c.U++;let y=jn(c.I);be(y,"SID",c.K),be(y,"RID",f),be(y,"AID",c.T),sa(c,y),c.m&&c.o&&mp(y,c.m,c.o),f=new Er(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Pw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),gp(c.h,f),dp(f,y,d)}function sa(c,d){c.H&&ue(c.H,function(f,y){be(d,y,f)}),c.l&&gw({},function(f,y){be(d,y,f)})}function Pw(c,d,f){f=Math.min(c.i.length,f);var y=c.l?g(c.l.Na,c.l,c):null;e:{var C=c.i;let N=-1;for(;;){let O=["count="+f];N==-1?0<f?(N=C[0].g,O.push("ofs="+N)):N=0:O.push("ofs="+N);let Ee=!0;for(let et=0;et<f;et++){let ge=C[et].g,ct=C[et].map;if(ge-=N,0>ge)N=Math.max(0,C[et].g-100),Ee=!1;else try{CP(ct,O,"req"+ge+"_")}catch{y&&y(ct)}}if(Ee){y=O.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,y}function xw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Hs||$E(),zs||(Hs(),zs=!0),Yf.add(d,c),c.v=0}}function vp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ys(g(c.Fa,c),Lw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,kw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ys(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),bu(this),kw(this))};function _p(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function kw(c){c.g=new Er(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=jn(c.qa);be(d,"RID","rpc"),be(d,"SID",c.K),be(d,"AID",c.T),be(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&be(d,"TO",c.ja),be(d,"TYPE","xmlhttp"),sa(c,d),c.m&&c.o&&mp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=wu(jn(d)),f.m=null,f.P=!0,aw(f,c)}t.Za=function(){this.C!=null&&(this.C=null,bu(this),vp(this),yt(19))};function Su(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Ow(c,d){var f=null;if(c.g==d){Su(c),_p(c),c.g=null;var y=2}else if(pp(c.h,d))f=d.D,fw(c.h,d),y=1;else return;if(c.G!=0){if(d.o)if(y==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;y=mu(),mt(y,new rw(y,f)),Cu(c)}else xw(c);else if(C=d.s,C==3||C==0&&0<d.X||!(y==1&&NP(c,d)||y==2&&vp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:li(c,5);break;case 4:li(c,10);break;case 3:li(c,6);break;default:li(c,2)}}}function Lw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function li(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),y=c.Xa;let C=!y;y=new ui(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Iu(y,"https"),wu(y),C?TP(y.toString(),f):DP(y.toString(),f)}else yt(2);c.G=0,c.l&&c.l.sa(d),Fw(c),Nw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Fw(c){if(c.G=0,c.ka=[],c.l){let d=pw(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.ra()}}function Vw(c,d,f){var y=f instanceof ui?jn(f):new ui(f);if(y.g!="")d&&(y.g=d+"."+y.g),Eu(y,y.s);else{var C=a.location;y=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var N=new ui(null);y&&Iu(N,y),d&&(N.g=d),C&&Eu(N,C),f&&(N.l=f),y=N}return f=c.D,d=c.ya,f&&d&&be(y,f,d),be(y,"VER",c.la),sa(c,y),y}function jw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Me(new na({eb:f})):new Me(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uw(){}t=Uw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Au(){}Au.prototype.g=function(c,d){return new Ot(c,d)};function Ot(c,d){at.call(this),this.g=new Rw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!U(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!U(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new so(this)}w(Ot,at),Ot.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){yp(this.g)},Ot.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=op(c),c=f);d.i.push(new fP(d.Ya++,c)),d.G==3&&Cu(d)},Ot.prototype.N=function(){this.g.l=null,delete this.j,yp(this.g),delete this.g,Ot.aa.N.call(this)};function Bw(c){ap.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}w(Bw,ap);function $w(){cp.call(this),this.status=1}w($w,cp);function so(c){this.g=c}w(so,Uw),so.prototype.ua=function(){mt(this.g,"a")},so.prototype.ta=function(c){mt(this.g,new Bw(c))},so.prototype.sa=function(c){mt(this.g,new $w)},so.prototype.ra=function(){mt(this.g,"b")},Au.prototype.createWebChannel=Au.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,A_=fr.createWebChannelTransport=function(){return new Au},S_=fr.getStatEventTarget=function(){return mu()},C_=fr.Event=ai,Kh=fr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yu.NO_ERROR=0,yu.TIMEOUT=8,yu.HTTP_ERROR=6,Uc=fr.ErrorCode=yu,iw.COMPLETE="complete",b_=fr.EventType=iw,XE.EventType=Ks,Ks.OPEN="a",Ks.CLOSE="b",Ks.ERROR="c",Ks.MESSAGE="d",at.prototype.listen=at.prototype.K,ys=fr.WebChannel=XE,H4=fr.FetchXmlHttpFactory=na,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,D_=fr.XhrIo=Me}).apply(typeof Gh<"u"?Gh:typeof self<"u"?self:typeof window<"u"?window:{});var PR="@firebase/firestore",xR="4.7.17";var Je=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");var Vs="11.9.0";var Yi=new Rn("@firebase/firestore");function vs(){return Yi.logLevel}function j(t,...e){if(Yi.logLevel<=le.DEBUG){let n=e.map(yE);Yi.debug(`Firestore (${Vs}): ${t}`,...n)}}function pr(t,...e){if(Yi.logLevel<=le.ERROR){let n=e.map(yE);Yi.error(`Firestore (${Vs}): ${t}`,...n)}}function bs(t,...e){if(Yi.logLevel<=le.WARN){let n=e.map(yE);Yi.warn(`Firestore (${Vs}): ${t}`,...n)}}function yE(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function q(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,bN(t,r,n)}function bN(t,e,n){let r=`FIRESTORE (${Vs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw pr(r),new Error(r)}function ve(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||bN(e,i,r)}function Y(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends qt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ln=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var tf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},x_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Je.UNAUTHENTICATED))}shutdown(){}},k_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},O_=class{constructor(e){this.t=e,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ve(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new ln;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ln,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ln)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string",31837,{l:r}),new tf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string",2055,{h:e}),new Je(e)}},L_=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},F_=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new L_(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}},nf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},V_=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ve(this.o===void 0,3512);let r=o=>{o.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,j("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new nf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new nf(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function z4(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function CN(){return new TextEncoder}var rf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=z4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function ae(t,e){return t<e?-1:t>e?1:0}function j_(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ae(r,i);{let o=CN(),s=q4(o.encode(kR(t,n)),o.encode(kR(e,n)));return s!==0?s:ae(r,i)}}n+=r>65535?2:1}return ae(t.length,e.length)}function kR(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function q4(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ae(t[n],e[n]);return ae(t.length,e.length)}function Cs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var OR=-62135596800,LR=1e6,ot=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*LR);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<OR)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LR}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-OR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var X=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new ot(0,0))}static max(){return new t(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var FR="__name__",of=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&q(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&q(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ae(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):j_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hr.fromString(e.substring(4,e.length-2))}},Re=class t extends of{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},W4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Gt=class t extends of{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return W4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FR}static keyField(){return new t([FR])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new L(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var z=class t{constructor(e){this.path=e}static fromPath(e){return new t(Re.fromString(e))}static fromName(e){return new t(Re.fromString(e).popFirst(5))}static empty(){return new t(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Re(e.slice()))}};var Wc=-1,U_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};U_.UNKNOWN_ID=-1;function G4(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new Zi(i,z.empty(),e)}function K4(t){return new Zi(t.readTime,t.key,Wc)}var Zi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(X.min(),z.empty(),Wc)}static max(){return new t(X.max(),z.empty(),Wc)}};function Q4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}var Y4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",B_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function js(t){return _(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==Y4)throw t;j("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function Z4(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Us(t){return t.name==="IndexedDbTransactionError"}var vE=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ce&&this.ce(n),n}}t.le=-1;return t})(),_E=-1;function Vf(t){return t==null}function Gc(t){return t===0&&1/t==-1/0}function J4(t){return typeof t=="number"&&Number.isInteger(t)&&!Gc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var SN="";function X4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=VR(e)),e=ez(t.get(n),e);return VR(e)}function ez(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case SN:n+="";break;default:n+=o}}return n}function VR(t){return t+SN+""}var tz="remoteDocuments",AN="owner";var RN="mutationQueues";var NN="mutations";var MN="documentMutations",nz="remoteDocumentsV14";var PN="remoteDocumentGlobal";var xN="targets";var kN="targetDocuments";var ON="targetGlobal",LN="collectionParents";var FN="clientMetadata";var VN="bundles";var jN="namedQueries";var rz="indexConfiguration";var iz="indexState";var oz="indexEntries";var UN="documentOverlays";var sz="globals";var az=[RN,NN,MN,tz,xN,AN,ON,kN,FN,PN,LN,VN,jN],PX=[...az,UN],cz=[RN,NN,MN,nz,xN,AN,ON,kN,FN,PN,LN,VN,jN,UN],uz=cz,lz=[...uz,rz,iz,oz];var xX=[...lz,sz];function jR(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function si(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BN(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Oe=class t{constructor(e,n){this.comparator=e,this.root=n||Pn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ws(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ws(this.root,e,this.comparator,!1)}getReverseIterator(){return new ws(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ws(this.root,e,this.comparator,!0)}},ws=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Pn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw q(27949);return e+(this.isRed()?0:1)}};Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1;Pn.EMPTY=new class{constructor(){this.size=0}get key(){throw q(57766)}get value(){throw q(16141)}get color(){throw q(16727)}get left(){throw q(29726)}get right(){throw q(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Xe=class t{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sf(this.data.getIterator())}getIteratorFrom(e){return new sf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},sf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Jt=class t{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Xe(Gt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Cs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var af=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var gt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new af("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};gt.EMPTY_BYTE_STRING=new gt("");var dz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(t){if(ve(!!t,39018),typeof t=="string"){let e=0,n=dz.exec(t);if(ve(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ce(t.seconds),nanos:Ce(t.nanos)}}function Ce(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function mr(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}var $N="server_timestamp",HN="__type__",zN="__previous_value__",qN="__local_write_time__";function IE(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[HN])===null||n===void 0?void 0:n.stringValue)===$N}function jf(t){let e=t.mapValue.fields[zN];return IE(e)?jf(e):e}function Kc(t){let e=gr(t.mapValue.fields[qN].timestampValue);return new ot(e.seconds,e.nanos)}var $_=class{constructor(e,n,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},cf="(default)",uf=class t{constructor(e,n){this.projectId=e,this.database=n||cf}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===cf}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var EE="__type__",WN="__max__",Qh={mapValue:{fields:{__type__:{stringValue:WN}}}},wE="__vector__",Ss="value";function ni(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?IE(t)?4:KN(t)?9007199254740991:GN(t)?10:11:q(28295,{value:t})}function Ln(t,e){if(t===e)return!0;let n=ni(t);if(n!==ni(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kc(t).isEqual(Kc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=gr(i.timestampValue),a=gr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return mr(i.bytesValue).isEqual(mr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ce(i.geoPointValue.latitude)===Ce(o.geoPointValue.latitude)&&Ce(i.geoPointValue.longitude)===Ce(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ce(i.integerValue)===Ce(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ce(i.doubleValue),a=Ce(o.doubleValue);return s===a?Gc(s)===Gc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Cs(t.arrayValue.values||[],e.arrayValue.values||[],Ln);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(jR(s)!==jR(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Ln(s[u],a[u])))return!1;return!0}(t,e);default:return q(52216,{left:t})}}function Qc(t,e){return(t.values||[]).find(n=>Ln(n,e))!==void 0}function As(t,e){if(t===e)return 0;let n=ni(t),r=ni(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ce(o.integerValue||o.doubleValue),u=Ce(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return UR(t.timestampValue,e.timestampValue);case 4:return UR(Kc(t),Kc(e));case 5:return j_(t.stringValue,e.stringValue);case 6:return function(o,s){let a=mr(o),u=mr(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ae(a[l],u[l]);if(h!==0)return h}return ae(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ae(Ce(o.latitude),Ce(s.latitude));return a!==0?a:ae(Ce(o.longitude),Ce(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return BR(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},m=(a=p[Ss])===null||a===void 0?void 0:a.arrayValue,w=(u=g[Ss])===null||u===void 0?void 0:u.arrayValue,A=ae(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((h=w?.values)===null||h===void 0?void 0:h.length)||0);return A!==0?A:BR(m,w)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Qh.mapValue&&s===Qh.mapValue)return 0;if(o===Qh.mapValue)return 1;if(s===Qh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=j_(u[p],h[p]);if(g!==0)return g;let m=As(a[u[p]],l[h[p]]);if(m!==0)return m}return ae(u.length,h.length)}(t.mapValue,e.mapValue);default:throw q(23264,{Pe:n})}}function UR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);let n=gr(t),r=gr(e),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function BR(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=As(n[i],r[i]);if(o)return o}return ae(n.length,r.length)}function Rs(t){return H_(t)}function H_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=gr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return mr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=H_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${H_(n.fields[s])}`;return i+"}"}(t.mapValue):q(61005,{value:t})}function Jh(t){switch(ni(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=jf(t);return e?16+Jh(e):16;case 5:return 2*t.stringValue.length;case 6:return mr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Jh(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return si(r.fields,(o,s)=>{i+=o.length+Jh(s)}),i}(t.mapValue);default:throw q(13486,{value:t})}}function $R(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function z_(t){return!!t&&"integerValue"in t}function TE(t){return!!t&&"arrayValue"in t}function HR(t){return!!t&&"nullValue"in t}function zR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xh(t){return!!t&&"mapValue"in t}function GN(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[EE])===null||n===void 0?void 0:n.stringValue)===wE}function $c(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return si(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$c(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$c(t.arrayValue.values[n]);return e}return Object.assign({},t)}function KN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===WN}var OX={mapValue:{fields:{[EE]:{stringValue:wE},[Ss]:{arrayValue:{}}}}};var Wt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$c(n)}setAll(e){let n=Gt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=$c(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Xh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ln(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){si(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t($c(this.value))}};function QN(t){let e=[];return si(t.fields,(n,r)=>{let i=new Gt([n]);if(Xh(r)){let o=QN(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Jt(e)}var dn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,X.min(),X.min(),X.min(),Wt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,X.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,X.min(),X.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,X.min(),X.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ns=class{constructor(e,n){this.position=e,this.inclusive=n}};function qR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=z.comparator(z.fromName(s.referenceValue),n.key):r=As(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function WR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ln(t.position[n],e.position[n]))return!1;return!0}var Ji=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function hz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var lf=class{},ze=class t extends lf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new W_(e,n,r):n==="array-contains"?new Q_(e,r):n==="in"?new Y_(e,r):n==="not-in"?new Z_(e,r):n==="array-contains-any"?new J_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new G_(e,r):new K_(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(As(n,this.value)):n!==null&&ni(this.value)===ni(n)&&this.matchesComparison(As(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},hn=class t extends lf{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new t(e,n)}matches(e){return YN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function YN(t){return t.op==="and"}function ZN(t){return fz(t)&&YN(t)}function fz(t){for(let e of t.filters)if(e instanceof hn)return!1;return!0}function q_(t){if(t instanceof ze)return t.field.canonicalString()+t.op.toString()+Rs(t.value);if(ZN(t))return t.filters.map(e=>q_(e)).join(",");{let e=t.filters.map(n=>q_(n)).join(",");return`${t.op}(${e})`}}function JN(t,e){return t instanceof ze?function(r,i){return i instanceof ze&&r.op===i.op&&r.field.isEqual(i.field)&&Ln(r.value,i.value)}(t,e):t instanceof hn?function(r,i){return i instanceof hn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&JN(s,i.filters[a]),!0):!1}(t,e):void q(19439)}function XN(t){return t instanceof ze?function(n){return`${n.field.canonicalString()} ${n.op} ${Rs(n.value)}`}(t):t instanceof hn?function(n){return n.op.toString()+" {"+n.getFilters().map(XN).join(" ,")+"}"}(t):"Filter"}var W_=class extends ze{constructor(e,n,r){super(e,n,r),this.key=z.fromName(r.referenceValue)}matches(e){let n=z.comparator(e.key,this.key);return this.matchesComparison(n)}},G_=class extends ze{constructor(e,n){super(e,"in",n),this.keys=eM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},K_=class extends ze{constructor(e,n){super(e,"not-in",n),this.keys=eM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function eM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>z.fromName(r.referenceValue))}var Q_=class extends ze{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return TE(n)&&Qc(n.arrayValue,this.value)}},Y_=class extends ze{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Qc(this.value.arrayValue,n)}},Z_=class extends ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Qc(this.value.arrayValue,n)}},J_=class extends ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!TE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qc(this.value.arrayValue,r))}};var X_=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function GR(t,e=null,n=[],r=[],i=null,o=null,s=null){return new X_(t,e,n,r,i,o,s)}function DE(t){let e=Y(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>q_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Vf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Rs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Rs(r)).join(",")),e.Ie=n}return e.Ie}function bE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!JN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!WR(t.startAt,e.startAt)&&WR(t.endAt,e.endAt)}function eI(t){return z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ri=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function pz(t,e,n,r,i,o,s,a){return new ri(t,e,n,r,i,o,s,a)}function Uf(t){return new ri(t)}function KR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function tM(t){return t.collectionGroup!==null}function Hc(t){let e=Y(t);if(e.Ee===null){e.Ee=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Xe(Gt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Ji(o,r))}),n.has(Gt.keyField().canonicalString())||e.Ee.push(new Ji(Gt.keyField(),r))}return e.Ee}function xn(t){let e=Y(t);return e.de||(e.de=gz(e,Hc(t))),e.de}function gz(t,e){if(t.limitType==="F")return GR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ji(i.field,o)});let n=t.endAt?new Ns(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ns(t.startAt.position,t.startAt.inclusive):null;return GR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tI(t,e){let n=t.filters.concat([e]);return new ri(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function df(t,e,n){return new ri(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bf(t,e){return bE(xn(t),xn(e))&&t.limitType===e.limitType}function nM(t){return`${DE(xn(t))}|lt:${t.limitType}`}function _s(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>XN(i)).join(", ")}]`),Vf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Rs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Rs(i)).join(",")),`Target(${r})`}(xn(t))}; limitType=${t.limitType})`}function $f(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Hc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=qR(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Hc(r),i)||r.endAt&&!function(s,a,u){let l=qR(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Hc(r),i))}(t,e)}function mz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rM(t){return(e,n)=>{let r=!1;for(let i of Hc(t)){let o=yz(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function yz(t,e,n){let r=t.field.isKeyField()?z.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?As(u,l):q(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return q(19790,{direction:t.dir})}}var yr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){si(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return BN(this.inner)}size(){return this.innerSize}};var vz=new Oe(z.comparator);function vr(){return vz}var iM=new Oe(z.comparator);function Bc(...t){let e=iM;for(let n of t)e=e.insert(n.key,n);return e}function oM(t){let e=iM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gi(){return zc()}function sM(){return zc()}function zc(){return new yr(t=>t.toString(),(t,e)=>t.isEqual(e))}var _z=new Oe(z.comparator),Iz=new Xe(z.comparator);function he(...t){let e=Iz;for(let n of t)e=e.add(n);return e}var Ez=new Xe(ae);function wz(){return Ez}function CE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(e)?"-0":e}}function aM(t){return{integerValue:""+t}}function Tz(t,e){return J4(e)?aM(e):CE(t,e)}var Ms=class{constructor(){this._=void 0}};function Dz(t,e,n){return t instanceof Ps?function(i,o){let s={fields:{[HN]:{stringValue:$N},[qN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&IE(o)&&(o=jf(o)),o&&(s.fields[zN]=o),{mapValue:s}}(n,e):t instanceof Xi?uM(t,e):t instanceof eo?lM(t,e):function(i,o){let s=cM(i,o),a=QR(s)+QR(i.Re);return z_(s)&&z_(i.Re)?aM(a):CE(i.serializer,a)}(t,e)}function bz(t,e,n){return t instanceof Xi?uM(t,e):t instanceof eo?lM(t,e):n}function cM(t,e){return t instanceof xs?function(r){return z_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ps=class extends Ms{},Xi=class extends Ms{constructor(e){super(),this.elements=e}};function uM(t,e){let n=dM(e);for(let r of t.elements)n.some(i=>Ln(i,r))||n.push(r);return{arrayValue:{values:n}}}var eo=class extends Ms{constructor(e){super(),this.elements=e}};function lM(t,e){let n=dM(e);for(let r of t.elements)n=n.filter(i=>!Ln(i,r));return{arrayValue:{values:n}}}var xs=class extends Ms{constructor(e,n){super(),this.serializer=e,this.Re=n}};function QR(t){return Ce(t.integerValue||t.doubleValue)}function dM(t){return TE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Cz(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Xi&&i instanceof Xi||r instanceof eo&&i instanceof eo?Cs(r.elements,i.elements,Ln):r instanceof xs&&i instanceof xs?Ln(r.Re,i.Re):r instanceof Ps&&i instanceof Ps}(t.transform,e.transform)}var nI=class{constructor(e,n){this.version=e,this.transformResults=n}},kn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ef(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ks=class{};function hM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Yc(t.key,kn.none()):new to(t.key,t.data,kn.none());{let n=t.data,r=Wt.empty(),i=new Xe(Gt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Fn(t.key,r,new Jt(i.toArray()),kn.none())}}function Sz(t,e,n){t instanceof to?function(i,o,s){let a=i.value.clone(),u=ZR(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Fn?function(i,o,s){if(!ef(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=ZR(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(fM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function qc(t,e,n,r){return t instanceof to?function(o,s,a,u){if(!ef(o.precondition,s))return a;let l=o.value.clone(),h=JR(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fn?function(o,s,a,u){if(!ef(o.precondition,s))return a;let l=JR(o.fieldTransforms,u,s),h=s.data;return h.setAll(fM(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return ef(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function Az(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=cM(r.transform,i||null);o!=null&&(n===null&&(n=Wt.empty()),n.set(r.field,o))}return n||null}function YR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Cs(r,i,(o,s)=>Cz(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var to=class extends ks{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Fn=class extends ks{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function fM(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function ZR(t,e,n){let r=new Map;ve(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,bz(s,a,n[i]))}return r}function JR(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,Dz(o,s,e))}return r}var Yc=class extends ks{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},rI=class extends ks{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var iI=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Sz(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=qc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=qc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=sM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=hM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),he())}isEqual(e){return this.batchId===e.batchId&&Cs(this.mutations,e.mutations,(n,r)=>YR(n,r))&&Cs(this.baseMutations,e.baseMutations,(n,r)=>YR(n,r))}},oI=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ve(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return _z}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var sI=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var aI=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var $e,pe;function Rz(t){switch(t){case M.OK:return q(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return q(15467,{code:t})}}function pM(t){if(t===void 0)return pr("GRPC error has no .code"),M.UNKNOWN;switch(t){case $e.OK:return M.OK;case $e.CANCELLED:return M.CANCELLED;case $e.UNKNOWN:return M.UNKNOWN;case $e.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case $e.INTERNAL:return M.INTERNAL;case $e.UNAVAILABLE:return M.UNAVAILABLE;case $e.UNAUTHENTICATED:return M.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case $e.NOT_FOUND:return M.NOT_FOUND;case $e.ALREADY_EXISTS:return M.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return M.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case $e.ABORTED:return M.ABORTED;case $e.OUT_OF_RANGE:return M.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return M.UNIMPLEMENTED;case $e.DATA_LOSS:return M.DATA_LOSS;default:return q(39323,{code:t})}}(pe=$e||($e={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";var XR=null;var Nz=new hr([4294967295,4294967295],0);function eN(t){let e=CN().encode(t),n=new T_;return n.update(e),new Uint8Array(n.digest())}function tN(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new hr([n,r],0),new hr([i,o],0)]}var cI=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ki(`Invalid padding: ${n}`);if(r<0)throw new Ki(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ki(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ki(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=hr.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(hr.fromNumber(r)));return i.compare(Nz)===1&&(i=new hr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let n=eN(e),[r,i]=tN(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let n=eN(e),[r,i]=tN(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ki=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var hf=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Zc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(X.min(),i,new Oe(ae),vr(),he())}},Zc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,he(),he(),he())}};var Ts=class{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}},ff=class{constructor(e,n){this.targetId=e,this.Ce=n}},pf=class{constructor(e,n,r=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},gf=class{constructor(){this.Fe=0,this.Me=nN(),this.xe=gt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=he(),n=he(),r=he();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:q(38017,{changeType:o})}}),new Zc(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=nN()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ve(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},uI=class{constructor(e){this.ze=e,this.je=new Map,this.He=vr(),this.Je=Yh(),this.Ye=Yh(),this.Ze=new Oe(ae)}Xe(e){for(let n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(let n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{let r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){let n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){let o=i.target;if(eI(o))if(r===0){let s=new z(o.path);this.tt(n,s,dn.newNoDocument(s,X.min()))}else ve(r===1,20013,{expectedCount:r});else{let s=this.ut(n);if(s!==r){let a=this.ct(e),u=a?this.lt(a,e,s):1;if(u!==0){this.st(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,l)}XR?.ht(function(h,p,g,m,w){var A,R,k,U,B,ce;let Ne={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},ue=p.unchangedNames;return ue&&(Ne.bloomFilter={applied:w===0,hashCount:(A=ue?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(U=(k=(R=ue?.bits)===null||R===void 0?void 0:R.bitmap)===null||k===void 0?void 0:k.length)!==null&&U!==void 0?U:0,padding:(ce=(B=ue?.bits)===null||B===void 0?void 0:B.padding)!==null&&ce!==void 0?ce:0,mightContain:D=>{var v;return(v=m?.mightContain(D))!==null&&v!==void 0&&v}}),Ne}(s,e.Ce,this.ze.Pt(),a,u))}}}}ct(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=mr(r).toUint8Array()}catch(u){if(u instanceof af)return bs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new cI(s,i,o)}catch(u){return bs(u instanceof Ki?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){let r=this.ze.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,o,null),i++)}),i}It(e){let n=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&eI(a.target)){let u=new z(a.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,dn.newNoDocument(u,e))}o.Le&&(n.set(s,o.qe()),o.Qe())}});let r=he();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this._t(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new hf(e,n,this.Ze,this.He,r);return this.He=vr(),this.Je=Yh(),this.Ye=Yh(),this.Ze=new Oe(ae),i}et(e,n){if(!this.it(e))return;let r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){let n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new gf,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Xe(ae),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Xe(ae),this.Je=this.Je.insert(e,n)),n}it(e){let n=this._t(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}_t(e){let n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new gf),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}};function Yh(){return new Oe(z.comparator)}function nN(){return new Oe(z.comparator)}var Mz={asc:"ASCENDING",desc:"DESCENDING"},Pz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xz={and:"AND",or:"OR"},lI=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function dI(t,e){return t.useProto3Json||Vf(e)?e:{value:e}}function mf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kz(t,e){return mf(t,e.toTimestamp())}function On(t){return ve(!!t,49232),X.fromTimestamp(function(n){let r=gr(n);return new ot(r.seconds,r.nanos)}(t))}function SE(t,e){return hI(t,e).canonicalString()}function hI(t,e){let n=function(i){return new Re(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function mM(t){let e=Re.fromString(t);return ve(EM(e),10190,{key:e.toString()}),e}function fI(t,e){return SE(t.databaseId,e.path)}function R_(t,e){let n=mM(e);if(n.get(1)!==t.databaseId.projectId)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z(vM(n))}function yM(t,e){return SE(t.databaseId,e)}function Oz(t){let e=mM(t);return e.length===4?Re.emptyPath():vM(e)}function pI(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vM(t){return ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function rN(t,e,n){return{name:fI(t,e),fields:n.value.mapValue.fields}}function Lz(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:q(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(ve(h===void 0||typeof h=="string",58123),gt.fromBase64String(h||"")):(ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),gt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?M.UNKNOWN:pM(l.code);return new L(h,l.message||"")}(s);n=new pf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=R_(t,r.document.name),o=On(r.document.updateTime),s=r.document.createTime?On(r.document.createTime):X.min(),a=new Wt({mapValue:{fields:r.document.fields}}),u=dn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Ts(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=R_(t,r.document),o=r.readTime?On(r.readTime):X.min(),s=dn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ts([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=R_(t,r.document),o=r.removedTargetIds||[];n=new Ts([],o,i,null)}else{if(!("filter"in e))return q(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new aI(i,o),a=r.targetId;n=new ff(a,s)}}return n}function Fz(t,e){let n;if(e instanceof to)n={update:rN(t,e.key,e.value)};else if(e instanceof Yc)n={delete:fI(t,e.key)};else if(e instanceof Fn)n={update:rN(t,e.key,e.data),updateMask:Wz(e.fieldMask)};else{if(!(e instanceof rI))return q(16599,{ft:e.type});n={verify:fI(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Ps)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof eo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xs)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw q(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:kz(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:q(27497)}(t,e.precondition)),n}function Vz(t,e){return t&&t.length>0?(ve(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?On(i.updateTime):On(o);return s.isEqual(X.min())&&(s=On(o)),new nI(s,i.transformResults||[])}(n,e))):[]}function jz(t,e){return{documents:[yM(t,e.path)]}}function Uz(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=yM(t,i);let o=function(l){if(l.length!==0)return IM(hn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:Is(g.field),direction:Hz(g.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=dI(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:n,parent:i}}function Bz(t){let e=Oz(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ve(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let g=_M(p);return g instanceof hn&&ZN(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(g=>function(w){return new Ji(Es(w.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,Vf(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){let g=!!p.before,m=p.values||[];return new Ns(m,g)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let g=!p.before,m=p.values||[];return new Ns(m,g)}(n.endAt)),pz(e,i,s,o,a,"F",u,l)}function $z(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _M(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Es(n.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Es(n.unaryFilter.field);return ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Es(n.unaryFilter.field);return ze.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Es(n.unaryFilter.field);return ze.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return q(61313);default:return q(60726)}}(t):t.fieldFilter!==void 0?function(n){return ze.create(Es(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return q(58110);default:return q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hn.create(n.compositeFilter.filters.map(r=>_M(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q(1026)}}(n.compositeFilter.op))}(t):q(30097,{filter:t})}function Hz(t){return Mz[t]}function zz(t){return Pz[t]}function qz(t){return xz[t]}function Is(t){return{fieldPath:t.canonicalString()}}function Es(t){return Gt.fromServerFormat(t.fieldPath)}function IM(t){return t instanceof ze?function(n){if(n.op==="=="){if(zR(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NAN"}};if(HR(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zR(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NOT_NAN"}};if(HR(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Is(n.field),op:zz(n.op),value:n.value}}}(t):t instanceof hn?function(n){let r=n.getFilters().map(i=>IM(i));return r.length===1?r[0]:{compositeFilter:{op:qz(n.op),filters:r}}}(t):q(54877,{filter:t})}function Wz(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function EM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Jc=class t{constructor(e,n,r,i,o=X.min(),s=X.min(),a=gt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var gI=class{constructor(e){this.wt=e}};function Gz(t){let e=Bz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?df(e,e.limit,"L"):e}var yf=class{constructor(){}vt(e,n){this.Ct(e,n),n.Ft()}Ct(e,n){if("nullValue"in e)this.Mt(n,5);else if("booleanValue"in e)this.Mt(n,10),n.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(n,15),n.xt(Ce(e.integerValue));else if("doubleValue"in e){let r=Ce(e.doubleValue);isNaN(r)?this.Mt(n,13):(this.Mt(n,15),Gc(r)?n.xt(0):n.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(n,20),typeof r=="string"&&(r=gr(r)),n.Ot(`${r.seconds||""}`),n.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,n),this.Bt(n);else if("bytesValue"in e)this.Mt(n,30),n.Lt(mr(e.bytesValue)),this.Bt(n);else if("referenceValue"in e)this.kt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(n,45),n.xt(r.latitude||0),n.xt(r.longitude||0)}else"mapValue"in e?KN(e)?this.Mt(n,Number.MAX_SAFE_INTEGER):GN(e)?this.qt(e.mapValue,n):(this.Qt(e.mapValue,n),this.Bt(n)):"arrayValue"in e?(this.$t(e.arrayValue,n),this.Bt(n)):q(19022,{Ut:e})}Nt(e,n){this.Mt(n,25),this.Kt(e,n)}Kt(e,n){n.Ot(e)}Qt(e,n){let r=e.fields||{};this.Mt(n,55);for(let i of Object.keys(r))this.Nt(i,n),this.Ct(r[i],n)}qt(e,n){var r,i;let o=e.fields||{};this.Mt(n,53);let s=Ss,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(n,15),n.xt(Ce(a)),this.Nt(s,n),this.Ct(o[s],n)}$t(e,n){let r=e.values||[];this.Mt(n,50);for(let i of r)this.Ct(i,n)}kt(e,n){this.Mt(n,37),z.fromName(e).path.forEach(r=>{this.Mt(n,60),this.Kt(r,n)})}Mt(e,n){e.xt(n)}Bt(e){e.xt(2)}};yf.Wt=new yf;var mI=class{constructor(){this.Cn=new yI}addToCollectionParentIndex(e,n){return this.Cn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Zi.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Zi.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},yI=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xe(Re.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xe(Re.comparator)).toArray()}};var LX=new Uint8Array(0);var iN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wM=41943040,Zt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Zt.DEFAULT_COLLECTION_PERCENTILE=10,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zt.DEFAULT=new Zt(wM,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zt.DISABLED=new Zt(-1,0,0);var Xc=class t{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new t(0)}static lr(){return new t(-1)}};var oN="LruGarbageCollector",Kz=1048576;function sN([t,e],[n,r]){let i=ae(t,n);return i===0?ae(e,r):i}var vI=class{constructor(e){this.Er=e,this.buffer=new Xe(sN),this.dr=0}Ar(){return++this.dr}Rr(e){let n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();sN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},_I=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){j(oN,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Us(n)?j(oN,"Ignoring IndexedDB error during garbage collection: ",n):yield js(n)}yield this.mr(3e5)}))}},II=class{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(vE.le);let r=new vI(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(j("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(iN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iN):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(j("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),vs()<=le.DEBUG&&j("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function Qz(t,e){return new II(t,e)}var EI=class{constructor(){this.changes=new yr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var wI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var TI=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&qc(r.mutation,i,Jt.empty(),ot.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,n,r=he()){let i=Gi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Bc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Gi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,he()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=vr(),s=zc(),a=function(){return zc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Fn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),qc(h.mutation,l,h.mutation.getFieldMask(),ot.now())):s.set(l.key,Jt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new wI(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=zc(),i=new Oe((s,a)=>s-a),o=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Jt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||he()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=sM();h.forEach(g=>{if(!o.has(g)){let m=hM(n.get(g),r.get(g));m!==null&&p.set(g,m),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(Gi()),a=Wc,u=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,he())).next(h=>({batchId:a,changes:oM(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(r=>{let i=Bc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Bc();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{let l=function(p,g){return new ri(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,dn.newInvalidDocument(h)))});let a=Bc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&qc(h.mutation,l,Jt.empty(),ot.now()),$f(n,l)&&(a=a.insert(u,l))}),a})}};var DI=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return P.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:On(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:Gz(i.bundledQuery),readTime:On(i.readTime)}}(n)),P.resolve()}};var bI=class{constructor(){this.overlays=new Oe(z.comparator),this.Qr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Gi();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=Gi(),o=n.length+1,s=new z(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Oe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Gi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Gi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}St(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new sI(n,r));let o=this.Qr.get(n);o===void 0&&(o=he(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}};var CI=class{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var eu=class{constructor(){this.$r=new Xe(He.Ur),this.Kr=new Xe(He.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){let r=new He(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new He(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){let n=new z(new Re([])),r=new He(n,e),i=new He(n,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let n=new z(new Re([])),r=new He(n,e),i=new He(n,e+1),o=he();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new He(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},He=class{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return z.comparator(e.key,n.key)||ae(e.Zr,n.Zr)}static Wr(e,n){return ae(e.Zr,n.Zr)||z.comparator(e.key,n.key)}};var SI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Xe(He.Ur)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new iI(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new He(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.ti(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?_E:this.nr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new He(n,0),i=new He(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xe(ae);return n.forEach(i=>{let o=new He(i,0),s=new He(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),P.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;z.isDocumentKey(o)||(o=o.child(""));let s=new He(new z(o),0),a=new Xe(ae);return this.Xr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Zr)),!0)},s),P.resolve(this.ni(a))}ni(e){let n=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ve(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return P.forEach(n.mutations,i=>{let o=new He(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){let r=new He(n,0),i=this.Xr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var AI=class{constructor(e){this.ii=e,this.docs=function(){return new Oe(z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let r=vr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():dn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=vr(),s=n.path,a=new z(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||Q4(K4(h),r)<=0||(i.has(h.key)||$f(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){q(9500)}si(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new RI(this)}getSize(e){return P.resolve(this.size)}},RI=class extends EI{constructor(e){super(),this.Br=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}};var NI=class{constructor(e){this.persistence=e,this.oi=new yr(n=>DE(n),bE),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this._i=0,this.ai=new eu,this.targetCount=0,this.ui=Xc.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),P.resolve()}Tr(e){this.oi.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ui=new Xc(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Tr(n),P.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.oi.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.ai.Yr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.ai.containsKey(n))}};var vf=class{constructor(e,n){this.ci={},this.overlays={},this.li=new vE(0),this.hi=!1,this.hi=!0,this.Pi=new CI,this.referenceDelegate=e(this),this.Ti=new NI(this),this.indexManager=new mI,this.remoteDocumentCache=function(i){return new AI(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new gI(n),this.Ei=new DI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new SI(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);let i=new MI(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,n){return P.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}},MI=class extends B_{constructor(e){super(),this.currentSequenceNumber=e}},PI=class t{constructor(e){this.persistence=e,this.Vi=new eu,this.mi=null}static fi(e){return new t(e)}get gi(){if(this.mi)return this.mi;throw q(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),P.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.gi,r=>{let i=z.fromPath(r);return this.pi(e,i).next(o=>{o||n.removeEntry(i,X.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return P.or([()=>P.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}},_f=class t{constructor(e,n){this.persistence=e,this.yi=new yr(r=>X4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Qz(this,n)}static fi(e,n){return new t(e,n)}di(){}Ai(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){let n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return P.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?P.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,X.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),P.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jh(e.data.value)),n}Dr(e,n,r){return P.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.yi.get(n);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var xI=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=he(),i=he();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var kI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var OI=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return eA()?8:Z4(Ze())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ws(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.bs(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new kI;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,n,s,a.size)})}).next(()=>o.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(vs()<=le.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",_s(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),P.resolve()):(vs()<=le.DEBUG&&j("QueryEngine","Query:",_s(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(vs()<=le.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",_s(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xn(n))):P.resolve())}ws(e,n){if(KR(n))return P.resolve(null);let r=xn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=df(n,null,"F"),r=xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=he(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.vs(n,a);return this.Cs(n,l,s,u.readTime)?this.ws(e,df(n,null,"F")):this.Fs(e,l,n,u)}))})))}bs(e,n,r,i){return KR(n)||i.isEqual(X.min())?P.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(n,o);return this.Cs(n,s,r,i)?P.resolve(null):(vs()<=le.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_s(n)),this.Fs(e,s,n,G4(i,Wc)).next(a=>a))})}vs(e,n){let r=new Xe(rM(e));return n.forEach((i,o)=>{$f(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return vs()<=le.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",_s(n)),this.ys.getDocumentsMatchingQuery(e,n,Zi.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var AE="LocalStore",Yz=3e8,LI=class{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Oe(ae),this.Os=new yr(o=>DE(o),bE),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TI(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}};function Zz(t,e,n,r){return new LI(t,e,n,r)}function TM(t,e){return _(this,null,function*(){let n=Y(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=he();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({ks:l,removedBatchIds:s,addedBatchIds:a}))})})})}function Jz(t,e){let n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,g=p.keys(),m=P.resolve();return g.forEach(w=>{m=m.next(()=>h.getEntry(u,w)).next(A=>{let R=l.docVersions.get(w);ve(R!==null,48541),A.version.compareTo(R)<0&&(p.applyToRemoteDocument(A,l),A.isValidDocument()&&(A.setReadTime(l.commitVersion),h.addEntry(A)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=he();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function DM(t){let e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function Xz(t,e){let n=Y(t),r=e.snapshotVersion,i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(n.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(o,h.addedDocuments,p)));let m=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(gt.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(p,m),function(A,R,k){return A.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=Yz?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(g,m,h)&&a.push(n.Ti.updateTargetData(o,m))});let u=vr(),l=he();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(eq(o,s,e.documentUpdates).next(h=>{u=h.qs,l=h.Qs})),!r.isEqual(X.min())){let h=n.Ti.getLastRemoteSnapshotVersion(o).next(p=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.xs=i,o))}function eq(t,e,n){let r=he(),i=he();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=vr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(X.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):j(AE,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{qs:s,Qs:i}})}function tq(t,e){let n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=_E),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nq(t,e){let n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.Ti.allocateTargetId(r).next(s=>(i=new Jc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}function FI(t,e,n){return _(this,null,function*(){let r=Y(t),i=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Us(s))throw s;j(AE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function aN(t,e,n){let r=Y(t),i=X.min(),o=he();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=Y(u),g=p.Os.get(h);return g!==void 0?P.resolve(p.xs.get(g)):p.Ti.getTargetData(l,h)}(r,s,xn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,n?i:X.min(),n?o:he())).next(a=>(rq(r,mz(e),a),{documents:a,$s:o})))}function rq(t,e,n){let r=t.Ns.get(e)||X.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}var If=class{constructor(){this.activeTargetIds=wz()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var VI=class{constructor(){this.xo=new If,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new If,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var jI=class{No(e){}shutdown(){}};var cN="ConnectivityMonitor",Ef=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){j(cN,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){j(cN,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Zh=null;function UI(){return Zh===null?Zh=function(){return 268435456+Math.round(2147483648*Math.random())}():Zh++,"0x"+Zh.toString(16)}var N_="RestConnection",iq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},BI=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===cf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,o){let s=UI(),a=this.jo(e,n.toUriEncodedString());j(N_,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,o);let{host:l}=new URL(a),h=Kr(l);return this.Jo(e,a,u,r,h).then(p=>(j(N_,`Received RPC '${e}' ${s}: `,p),p),p=>{throw bs(N_,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,n,r,i,o,s){return this.zo(e,n,r,i,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,n){let r=iq[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}};var $I=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var ft="WebChannelConnection",HI=class extends BI{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){let s=UI();return new Promise((a,u)=>{let l=new D_;l.setWithCredentials(!0),l.listenOnce(b_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Uc.NO_ERROR:let p=l.getResponseJson();j(ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Uc.TIMEOUT:j(ft,`RPC '${e}' ${s} timed out`),u(new L(M.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:let g=l.getStatus();if(j(ft,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let w=m?.error;if(w&&w.status&&w.message){let A=function(k){let U=k.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(U)>=0?U:M.UNKNOWN}(w.status);u(new L(A,w.message))}else u(new L(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new L(M.UNAVAILABLE,"Connection failed."));break;default:q(9055,{h_:e,streamId:s,P_:l.getLastErrorCode(),T_:l.getLastError()})}}finally{j(ft,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);j(ft,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}I_(e,n,r){let i=UI(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=A_(),a=S_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");j(ft,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.E_(p);let g=!1,m=!1,w=new $I({Zo:R=>{m?j(ft,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(g||(j(ft,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),j(ft,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Xo:()=>p.close()}),A=(R,k,U)=>{R.listen(k,B=>{try{U(B)}catch(ce){setTimeout(()=>{throw ce},0)}})};return A(p,ys.EventType.OPEN,()=>{m||(j(ft,`RPC '${e}' stream ${i} transport opened.`),w.__())}),A(p,ys.EventType.CLOSE,()=>{m||(m=!0,j(ft,`RPC '${e}' stream ${i} transport closed`),w.u_(),this.d_(p))}),A(p,ys.EventType.ERROR,R=>{m||(m=!0,bs(ft,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),w.u_(new L(M.UNAVAILABLE,"The operation could not be completed")))}),A(p,ys.EventType.MESSAGE,R=>{var k;if(!m){let U=R.data[0];ve(!!U,16349);let B=U,ce=B?.error||((k=B[0])===null||k===void 0?void 0:k.error);if(ce){j(ft,`RPC '${e}' stream ${i} received error:`,ce);let Ne=ce.status,ue=function(E){let T=$e[E];if(T!==void 0)return pM(T)}(Ne),D=ce.message;ue===void 0&&(ue=M.INTERNAL,D="Unknown error status: "+Ne+" with message "+ce.message),m=!0,w.u_(new L(ue,D)),p.close()}else j(ft,`RPC '${e}' stream ${i} received:`,U),w.c_(U)}}),A(a,C_.STAT_EVENT,R=>{R.stat===Kh.PROXY?j(ft,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Kh.NOPROXY&&j(ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.a_()},0),w}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}};function M_(){return typeof document<"u"?document:null}function Hf(t){return new lI(t,!0)}var wf=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();let n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}};var uN="PersistentStream",Tf=class{constructor(e,n,r,i,o,s,a,u){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new wf(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}stop(){return _(this,null,function*(){this.O_()&&(yield this.close(0))})}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}q_(){return _(this,null,function*(){if(this.N_())return this.close(0)})}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}close(e,n){return _(this,null,function*(){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(n)})}W_(){}auth(){this.state=1;let e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{let i=new L(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){let r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(()=>_(this,null,function*(){this.state=0,this.start()}))}j_(e){return j(uN,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(j(uN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},zI=class extends Tf{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();let n=Lz(this.serializer,e),r=function(o){if(!("targetChange"in o))return X.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?X.min():s.readTime?On(s.readTime):X.min()}(e);return this.listener.Y_(n,r)}Z_(e){let n={};n.database=pI(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=eI(u)?{documents:jz(o,u)}:{query:Uz(o,u).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=gM(o,s.resumeToken);let l=dI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(X.min())>0){a.readTime=mf(o,s.snapshotVersion.toTimestamp());let l=dI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=$z(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){let n={};n.database=pI(this.serializer),n.removeTarget=e,this.Q_(n)}},qI=class extends Tf{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();let n=Vz(e.writeResults,e.commitTime),r=On(e.commitTime);return this.listener.ra(r,n)}ia(){let e={};e.database=pI(this.serializer),this.Q_(e)}ta(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Fz(this.serializer,r))};this.Q_(n)}};var WI=class{},GI=class extends WI{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,hI(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(M.UNKNOWN,o.toString())})}Yo(e,n,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,hI(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(M.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}},KI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(pr(n),this.ua=!1):j("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}};var no="RemoteStore",QI=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(s=>{r.enqueueAndForget(()=>_(this,null,function*(){ro(this)&&(j(no,"Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=Y(u);l.da.add(4),yield lu(l),l.Va.set("Unknown"),l.da.delete(4),yield zf(l)})}(this))}))}),this.Va=new KI(r,i)}};function zf(t){return _(this,null,function*(){if(ro(t))for(let e of t.Aa)yield e(!0)})}function lu(t){return _(this,null,function*(){for(let e of t.Aa)yield e(!1)})}function bM(t,e){let n=Y(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),PE(n)?ME(n):Bs(n).N_()&&NE(n,e))}function RE(t,e){let n=Y(t),r=Bs(n);n.Ea.delete(e),r.N_()&&CM(n,e),n.Ea.size===0&&(r.N_()?r.k_():ro(n)&&n.Va.set("Unknown"))}function NE(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bs(t).Z_(e)}function CM(t,e){t.ma.Ke(e),Bs(t).X_(e)}function ME(t){t.ma=new uI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Bs(t).start(),t.Va.ca()}function PE(t){return ro(t)&&!Bs(t).O_()&&t.Ea.size>0}function ro(t){return Y(t).da.size===0}function SM(t){t.ma=void 0}function oq(t){return _(this,null,function*(){t.Va.set("Online")})}function sq(t){return _(this,null,function*(){t.Ea.forEach((e,n)=>{NE(t,e)})})}function aq(t,e){return _(this,null,function*(){SM(t),PE(t)?(t.Va.Pa(e),ME(t)):t.Va.set("Unknown")})}function cq(t,e,n){return _(this,null,function*(){if(t.Va.set("Online"),e instanceof pf&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ea.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ea.delete(a),i.ma.removeTarget(a))})}(t,e)}catch(r){j(no,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Df(t,r)}else if(e instanceof Ts?t.ma.Xe(e):e instanceof ff?t.ma.ot(e):t.ma.nt(e),!n.isEqual(X.min()))try{let r=yield DM(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.ma.It(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ea.get(l);h&&o.Ea.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ea.get(u);if(!h)return;o.Ea.set(u,h.withResumeToken(gt.EMPTY_BYTE_STRING,h.snapshotVersion)),CM(o,u);let p=new Jc(h.target,u,l,h.sequenceNumber);NE(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){j(no,"Failed to raise snapshot:",r),yield Df(t,r)}})}function Df(t,e,n){return _(this,null,function*(){if(!Us(e))throw e;t.da.add(1),yield lu(t),t.Va.set("Offline"),n||(n=()=>DM(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){j(no,"Retrying IndexedDB access"),yield n(),t.da.delete(1),yield zf(t)}))})}function AM(t,e){return e().catch(n=>Df(t,n,e))}function qf(t){return _(this,null,function*(){let e=Y(t),n=ii(e),r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:_E;for(;uq(e);)try{let i=yield tq(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,lq(e,i)}catch(i){yield Df(e,i)}RM(e)&&NM(e)})}function uq(t){return ro(t)&&t.Ia.length<10}function lq(t,e){t.Ia.push(e);let n=ii(t);n.N_()&&n.ea&&n.ta(e.mutations)}function RM(t){return ro(t)&&!ii(t).O_()&&t.Ia.length>0}function NM(t){ii(t).start()}function dq(t){return _(this,null,function*(){ii(t).ia()})}function hq(t){return _(this,null,function*(){let e=ii(t);for(let n of t.Ia)e.ta(n.mutations)})}function fq(t,e,n){return _(this,null,function*(){let r=t.Ia.shift(),i=oI.from(r,e,n);yield AM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield qf(t)})}function pq(t,e){return _(this,null,function*(){e&&ii(t).ea&&(yield function(r,i){return _(this,null,function*(){if(function(s){return Rz(s)&&s!==M.ABORTED}(i.code)){let o=r.Ia.shift();ii(r).L_(),yield AM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield qf(r)}})}(t,e)),RM(t)&&NM(t)})}function lN(t,e){return _(this,null,function*(){let n=Y(t);n.asyncQueue.verifyOperationInProgress(),j(no,"RemoteStore received new credentials");let r=ro(n);n.da.add(3),yield lu(n),r&&n.Va.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),yield zf(n)})}function gq(t,e){return _(this,null,function*(){let n=Y(t);e?(n.da.delete(2),yield zf(n)):e||(n.da.add(2),yield lu(n),n.Va.set("Unknown"))})}function Bs(t){return t.fa||(t.fa=function(n,r,i){let o=Y(n);return o.oa(),new zI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:oq.bind(null,t),n_:sq.bind(null,t),i_:aq.bind(null,t),Y_:cq.bind(null,t)}),t.Aa.push(e=>_(null,null,function*(){e?(t.fa.L_(),PE(t)?ME(t):t.Va.set("Unknown")):(yield t.fa.stop(),SM(t))}))),t.fa}function ii(t){return t.ga||(t.ga=function(n,r,i){let o=Y(n);return o.oa(),new qI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:dq.bind(null,t),i_:pq.bind(null,t),na:hq.bind(null,t),ra:fq.bind(null,t)}),t.Aa.push(e=>_(null,null,function*(){e?(t.ga.L_(),yield qf(t)):(yield t.ga.stop(),t.Ia.length>0&&(j(no,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))}))),t.ga}var YI=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ln,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function xE(t,e){if(pr("AsyncQueue",`${e}: ${t}`),Us(t))return new L(M.UNAVAILABLE,`${e}: ${t}`);throw t}var bf=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||z.comparator(n.key,r.key):(n,r)=>z.comparator(n.key,r.key),this.keyedMap=Bc(),this.sortedSet=new Oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Cf=class{constructor(){this.pa=new Oe(z.comparator)}track(e){let n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):q(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){let e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}},Os=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,bf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var ZI=class{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}},JI=class{constructor(){this.queries=dN(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){let i=Y(n),o=i.queries;i.queries=dN(),o.forEach((s,a)=>{for(let u of a.Sa)u.onError(r)})})(this,new L(M.ABORTED,"Firestore shutting down"))}};function dN(){return new yr(t=>nM(t),Bf)}function kE(t,e){return _(this,null,function*(){let n=Y(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new ZI,r=e.va()?0:1);try{switch(r){case 0:o.ba=yield n.onListen(i,!0);break;case 1:o.ba=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=xE(s,`Initialization of query '${_s(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.Fa(n.onlineState),o.ba&&e.Ma(o.ba)&&LE(n)})}function OE(t,e){return _(this,null,function*(){let n=Y(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function mq(t,e){let n=Y(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.Sa)a.Ma(i)&&(r=!0);s.ba=i}}r&&LE(n)}function yq(t,e,n){let r=Y(t),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(n);r.queries.delete(e)}function LE(t){t.Ca.forEach(e=>{e.next()})}var XI,hN;(hN=XI||(XI={})).xa="default",hN.Cache="cache";var tu=class{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Os(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;let r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;let n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Os.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==XI.Cache}};var Sf=class{constructor(e){this.key=e}},Af=class{constructor(e){this.key=e}},eE=class{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=he(),this.mutatedKeys=he(),this.Za=rM(e),this.Xa=new bf(this.Za)}get eu(){return this.Ha}tu(e,n){let r=n?n.nu:new Cf,i=n?n.Xa:this.Xa,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),m=$f(this.query,p)?p:null,w=!!g&&this.mutatedKeys.has(g.key),A=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),R=!1;g&&m?g.data.isEqual(m.data)?w!==A&&(r.track({type:3,doc:m}),R=!0):this.ru(g,m)||(r.track({type:2,doc:m}),R=!0,(u&&this.Za(m,u)>0||l&&this.Za(m,l)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),R=!0):g&&!m&&(r.track({type:1,doc:g}),R=!0,(u||l)&&(a=!0)),R&&(m?(s=s.add(m),o=A?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Xa:s,nu:r,Cs:a,mutatedKeys:o}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;let s=e.nu.wa();s.sort((h,p)=>function(m,w){let A=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q(20277,{Vt:R})}};return A(m)-A(w)}(h.type,p.type)||this.Za(h.doc,p.doc)),this.iu(r),i=i!=null&&i;let a=n&&!i?this.su():[],u=this.Ya.size===0&&this.current&&!i?1:0,l=u!==this.Ja;return this.Ja=u,s.length!==0||l?{snapshot:new Os(this.query,e.Xa,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Cf,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];let e=this.Ya;this.Ya=he(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});let n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new Af(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new Sf(r))}),n}au(e){this.Ha=e.$s,this.Ya=he();let n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Os.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}},FE="SyncEngine",tE=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},nE=class{constructor(e){this.key=e,this.cu=!1}},rE=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new yr(a=>nM(a),Bf),this.Pu=new Map,this.Tu=new Set,this.Iu=new Oe(z.comparator),this.Eu=new Map,this.du=new eu,this.Au={},this.Ru=new Map,this.Vu=Xc.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}};function vq(t,e,n=!0){return _(this,null,function*(){let r=LM(t),i,o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=yield MM(r,e,n,!0),i})}function _q(t,e){return _(this,null,function*(){let n=LM(t);yield MM(n,e,!0,!1)})}function MM(t,e,n,r){return _(this,null,function*(){let i=yield nq(t.localStore,xn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield Iq(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&bM(t.remoteStore,i),a})}function Iq(t,e,n,r,i){return _(this,null,function*(){t.fu=(p,g,m)=>function(A,R,k,U){return _(this,null,function*(){let B=R.view.tu(k);B.Cs&&(B=yield aN(A.localStore,R.query,!1).then(({documents:D})=>R.view.tu(D,B)));let ce=U&&U.targetChanges.get(R.targetId),Ne=U&&U.targetMismatches.get(R.targetId)!=null,ue=R.view.applyChanges(B,A.isPrimaryClient,ce,Ne);return pN(A,R.targetId,ue.ou),ue.snapshot})}(t,p,g,m);let o=yield aN(t.localStore,e,!0),s=new eE(e,o.$s),a=s.tu(o.documents),u=Zc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);pN(t,n,l.ou);let h=new tE(e,n,s);return t.hu.set(e,h),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),l.snapshot})}function Eq(t,e,n){return _(this,null,function*(){let r=Y(t),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(s=>!Bf(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield FI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&RE(r.remoteStore,i.targetId),iE(r,i.targetId)}).catch(js))):(iE(r,i.targetId),yield FI(r.localStore,i.targetId,!0))})}function wq(t,e){return _(this,null,function*(){let n=Y(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),RE(n.remoteStore,r.targetId))})}function Tq(t,e,n){return _(this,null,function*(){let r=Nq(t);try{let i=yield function(s,a){let u=Y(s),l=ot.now(),h=a.reduce((m,w)=>m.add(w.key),he()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=vr(),A=he();return u.Bs.getEntries(m,h).next(R=>{w=R,w.forEach((k,U)=>{U.isValidDocument()||(A=A.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,w)).next(R=>{p=R;let k=[];for(let U of a){let B=Az(U,p.get(U.key).overlayedDocument);B!=null&&k.push(new Fn(U.key,B,QN(B.value.mapValue),kn.exists(!0)))}return u.mutationQueue.addMutationBatch(m,l,k,a)}).next(R=>{g=R;let k=R.applyToLocalDocumentSet(p,A);return u.documentOverlayCache.saveOverlays(m,R.batchId,k)})}).then(()=>({batchId:g.batchId,changes:oM(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Au[s.currentUser.toKey()];l||(l=new Oe(ae)),l=l.insert(a,u),s.Au[s.currentUser.toKey()]=l}(r,i.batchId,n),yield du(r,i.changes),yield qf(r.remoteStore)}catch(i){let o=xE(i,"Failed to persist write");n.reject(o)}})}function PM(t,e){return _(this,null,function*(){let n=Y(t);try{let r=yield Xz(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?ve(s.cu,14607):i.removedDocuments.size>0&&(ve(s.cu,42227),s.cu=!1))}),yield du(n,r,e)}catch(r){yield js(r)}})}function fN(t,e,n){let r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.hu.forEach((o,s)=>{let a=s.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=Y(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.Sa)g.Fa(a)&&(l=!0)}),l&&LE(u)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Dq(t,e,n){return _(this,null,function*(){let r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Oe(z.comparator);s=s.insert(o,dn.newNoDocument(o,X.min()));let a=he().add(o),u=new hf(X.min(),new Map,new Oe(ae),s,a);yield PM(r,u),r.Iu=r.Iu.remove(o),r.Eu.delete(e),VE(r)}else yield FI(r.localStore,e,!1).then(()=>iE(r,e,n)).catch(js)})}function bq(t,e){return _(this,null,function*(){let n=Y(t),r=e.batch.batchId;try{let i=yield Jz(n.localStore,e);kM(n,r,null),xM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield du(n,i)}catch(i){yield js(i)}})}function Cq(t,e,n){return _(this,null,function*(){let r=Y(t);try{let i=yield function(s,a){let u=Y(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(ve(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);kM(r,e,n),xM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield du(r,i)}catch(i){yield js(i)}})}function xM(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function kM(t,e,n){let r=Y(t),i=r.Au[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function iE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||OM(t,r)})}function OM(t,e){t.Tu.delete(e.path.canonicalString());let n=t.Iu.get(e);n!==null&&(RE(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),VE(t))}function pN(t,e,n){for(let r of n)r instanceof Sf?(t.du.addReference(r.key,e),Sq(t,r)):r instanceof Af?(j(FE,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||OM(t,r.key)):q(19791,{pu:r})}function Sq(t,e){let n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(j(FE,"New document in limbo: "+n),t.Tu.add(r),VE(t))}function VE(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){let e=t.Tu.values().next().value;t.Tu.delete(e);let n=new z(Re.fromString(e)),r=t.Vu.next();t.Eu.set(r,new nE(n)),t.Iu=t.Iu.insert(n,r),bM(t.remoteStore,new Jc(xn(Uf(n.path)),r,"TargetPurposeLimboResolution",vE.le))}}function du(t,e,n){return _(this,null,function*(){let r=Y(t),i=[],o=[],s=[];r.hu.isEmpty()||(r.hu.forEach((a,u)=>{s.push(r.fu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=xI.Rs(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.lu.Y_(i),yield function(u,l){return _(this,null,function*(){let h=Y(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,g=>P.forEach(g.ds,m=>h.persistence.referenceDelegate.addReference(p,g.targetId,m)).next(()=>P.forEach(g.As,m=>h.persistence.referenceDelegate.removeReference(p,g.targetId,m)))))}catch(p){if(!Us(p))throw p;j(AE,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let m=h.xs.get(g),w=m.snapshotVersion,A=m.withLastLimboFreeSnapshotVersion(w);h.xs=h.xs.insert(g,A)}}})}(r.localStore,o))})}function Aq(t,e){return _(this,null,function*(){let n=Y(t);if(!n.currentUser.isEqual(e)){j(FE,"User change. New user:",e.toKey());let r=yield TM(n.localStore,e);n.currentUser=e,function(o,s){o.Ru.forEach(a=>{a.forEach(u=>{u.reject(new L(M.CANCELLED,s))})}),o.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield du(n,r.ks)}})}function Rq(t,e){let n=Y(t),r=n.Eu.get(e);if(r&&r.cu)return he().add(r.key);{let i=he(),o=n.Pu.get(e);if(!o)return i;for(let s of o){let a=n.hu.get(s);i=i.unionWith(a.view.eu)}return i}}function LM(t){let e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dq.bind(null,e),e.lu.Y_=mq.bind(null,e.eventManager),e.lu.gu=yq.bind(null,e.eventManager),e}function Nq(t){let e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Cq.bind(null,e),e}var FM=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return _(this,null,function*(){this.serializer=Hf(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Su(n),yield this.persistence.start(),this.localStore=this.Du(n),this.gcScheduler=this.vu(n,this.localStore),this.indexBackfillerScheduler=this.Cu(n,this.localStore)})}vu(n,r){return null}Cu(n,r){return null}Du(n){return Zz(this.persistence,new OI,n.initialUser,this.serializer)}Su(n){return new vf(PI.fi,this.serializer)}bu(n){return new VI}terminate(){return _(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),oE=class extends FM{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){ve(this.persistence.referenceDelegate instanceof _f,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new _I(r,e.asyncQueue,n)}Su(e){let n=this.cacheSizeBytes!==void 0?Zt.withCacheSize(this.cacheSizeBytes):Zt.DEFAULT;return new vf(r=>_f.fi(r,n),this.serializer)}};var Mq=(()=>{class t{initialize(n,r){return _(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>fN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Aq.bind(null,this.syncEngine),yield gq(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new JI}()}createDatastore(n){let r=Hf(n.databaseInfo.databaseId),i=function(s){return new HI(s)}(n.databaseInfo);return function(s,a,u,l){return new GI(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new QI(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>fN(this.syncEngine,r,0),function(){return Ef.C()?new Ef:new jI}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let g=new rE(o,s,a,u,l,h);return p&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var n,r;yield function(o){return _(this,null,function*(){let s=Y(o);j(no,"RemoteStore shutting down."),s.da.add(5),yield lu(s),s.Ra.shutdown(),s.Va.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var nu=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var oi="FirestoreClient",sE=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Je.UNAUTHENTICATED,this.clientId=rf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){j(oi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(j(oi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ln;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=xE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function P_(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),j(oi,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield TM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function gN(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Pq(t);j(oi,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>lN(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>lN(e.remoteStore,i)),t._onlineComponents=e})}function Pq(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j(oi,"Using user provided OfflineComponentProvider");try{yield P_(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;bs("Error using user provided cache. Falling back to memory cache: "+n),yield P_(t,new FM)}}else j(oi,"Using default OfflineComponentProvider"),yield P_(t,new oE(void 0));return t._offlineComponents})}function VM(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(j(oi,"Using user provided OnlineComponentProvider"),yield gN(t,t._uninitializedComponentsProvider._online)):(j(oi,"Using default OnlineComponentProvider"),yield gN(t,new Mq))),t._onlineComponents})}function xq(t){return VM(t).then(e=>e.syncEngine)}function Rf(t){return _(this,null,function*(){let e=yield VM(t),n=e.eventManager;return n.onListen=vq.bind(null,e.syncEngine),n.onUnlisten=Eq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_q.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wq.bind(null,e.syncEngine),n})}function kq(t,e,n={}){let r=new ln;return t.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,a,u,l){let h=new nu({next:g=>{h.xu(),s.enqueueAndForget(()=>OE(o,p));let m=g.docs.has(a);!m&&g.fromCache?l.reject(new L(M.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&u&&u.source==="server"?l.reject(new L(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new tu(Uf(a.path),h,{includeMetadataChanges:!0,Qa:!0});return kE(o,p)}(yield Rf(t),t.asyncQueue,e,n,r)})),r.promise}function Oq(t,e,n={}){let r=new ln;return t.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,a,u,l){let h=new nu({next:g=>{h.xu(),s.enqueueAndForget(()=>OE(o,p)),g.fromCache&&u.source==="server"?l.reject(new L(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new tu(a,h,{includeMetadataChanges:!0,Qa:!0});return kE(o,p)}(yield Rf(t),t.asyncQueue,e,n,r)})),r.promise}function jM(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var mN=new Map;function UM(t,e,n){if(!n)throw new L(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Lq(t,e,n,r){if(e===!0&&r===!0)throw new L(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yN(t){if(!z.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vN(t){if(z.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q(12329,{type:typeof t})}function kt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Wf(t);throw new L(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Fq(t,e){if(e<=0)throw new L(M.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var BM="firestore.googleapis.com",_N=!0,Nf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BM,this.ssl=_N}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:_N;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Kz)throw new L(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ls=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new L(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new x_;switch(r.type){case"firstParty":return new F_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=mN.get(n);r&&(j("ComponentProvider","Removing Datastore"),mN.delete(n),r.terminate())}(this),Promise.resolve()}};function Vq(t,e,n,r={}){var i;t=kt(t,Ls);let o=Kr(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(ph(`https://${u}`),gh("Firestore",!0)),s.host!==BM&&s.host!==u&&bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!An(l,a)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Je.MOCK_USER;else{h=K0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new L(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Je(g)}t._authCredentials=new k_(new tf(h,p))}}var _r=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},pt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},ti=class t extends _r{constructor(e,n,r){super(e,n,Uf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function FX(t,e,...n){if(t=Ae(t),UM("collection","path",e),t instanceof Ls){let r=Re.fromString(e,...n);return vN(r),new ti(t,null,r)}{if(!(t instanceof pt||t instanceof ti))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Re.fromString(e,...n));return vN(r),new ti(t.firestore,null,r)}}function jq(t,e,...n){if(t=Ae(t),arguments.length===1&&(e=rf.newId()),UM("doc","path",e),t instanceof Ls){let r=Re.fromString(e,...n);return yN(r),new pt(t,null,new z(r))}{if(!(t instanceof pt||t instanceof ti))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Re.fromString(e,...n));return yN(r),new pt(t.firestore,t instanceof ti?t.converter:null,new z(r))}}var IN="AsyncQueue",Mf=class{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new wf(this,"async_queue_retry"),this.rc=()=>{let r=M_();r&&j(IN,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;let n=M_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;let n=M_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});let n=new ln;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}ac(){return _(this,null,function*(){if(this.Ju.length!==0){try{yield this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Us(e))throw e;j(IN,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}})}_c(e){let n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,pr("INTERNAL UNHANDLED ERROR: ",EN(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);let i=YI.createAndSchedule(this,e,n,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&q(47125,{cc:EN(this.Xu)})}verifyOperationInProgress(){}lc(){return _(this,null,function*(){let e;do e=this.sc,yield e;while(e!==this.sc)})}hc(e){for(let n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){let n=this.Zu.indexOf(e);this.Zu.splice(n,1)}};function EN(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function wN(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var fn=class extends Ls{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Mf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Mf(e),this._firestoreClient=void 0,yield e}})}};function VX(t,e){let n=typeof t=="object"?t:Bi(),r=typeof t=="string"?t:e||cf,i=ls(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=G0("firestore");o&&Vq(i,...o)}return i}function Gf(t){if(t._terminated)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Uq(t),t._firestoreClient}function Uq(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new $_(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,jM(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new sE(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var ru=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(gt.fromBase64String(e))}catch(n){throw new L(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Fs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var iu=class{constructor(e){this._methodName=e}};var ou=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}};var su=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var Bq=/^__.*__$/,aE=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fn(e,this.data,this.fieldMask,n,this.fieldTransforms):new to(e,this.data,n,this.fieldTransforms)}},Pf=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function $M(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q(40011,{Ic:t})}}var cE=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return kf(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if($M(this.Ic)&&Bq.test(e))throw this.gc('Document fields cannot begin and end with "__"')}},uE=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hf(e)}bc(e,n,r,i=!1){return new cE({Ic:e,methodName:n,wc:r,path:Gt.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Kf(t){let e=t._freezeSettings(),n=Hf(t._databaseId);return new uE(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HM(t,e,n,r,i,o={}){let s=t.bc(o.merge||o.mergeFields?2:0,e,n,i);jE("Data must be an object, but it was:",s,r);let a=zM(r,s),u,l;if(o.merge)u=new Jt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=lE(e,p,n);if(!s.contains(g))throw new L(M.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);WM(h,g)||h.push(g)}u=new Jt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new aE(new Wt(a),u,l)}var xf=class t extends iu{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function $q(t,e,n,r){let i=t.bc(1,e,n);jE("Data must be an object, but it was:",i,r);let o=[],s=Wt.empty();si(r,(u,l)=>{let h=UE(e,u,n);l=Ae(l);let p=i.mc(h);if(l instanceof xf)o.push(h);else{let g=hu(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new Jt(o);return new Pf(s,a,i.fieldTransforms)}function Hq(t,e,n,r,i,o){let s=t.bc(1,e,n),a=[lE(e,r,n)],u=[i];if(o.length%2!=0)throw new L(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(lE(e,o[g])),u.push(o[g+1]);let l=[],h=Wt.empty();for(let g=a.length-1;g>=0;--g)if(!WM(l,a[g])){let m=a[g],w=u[g];w=Ae(w);let A=s.mc(m);if(w instanceof xf)l.push(m);else{let R=hu(w,A);R!=null&&(l.push(m),h.set(m,R))}}let p=new Jt(l);return new Pf(h,p,s.fieldTransforms)}function zq(t,e,n,r=!1){return hu(n,t.bc(r?4:3,e))}function hu(t,e){if(qM(t=Ae(t)))return jE("Unsupported field value:",e,t),zM(t,e);if(t instanceof iu)return function(r,i){if(!$M(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=hu(a,i.fc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ae(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Tz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ot.fromDate(r);return{timestampValue:mf(i.serializer,o)}}if(r instanceof ot){let o=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mf(i.serializer,o)}}if(r instanceof ou)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ru)return{bytesValue:gM(i.serializer,r._byteString)};if(r instanceof pt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:SE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof su)return function(s,a){return{mapValue:{fields:{[EE]:{stringValue:wE},[Ss]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.gc("VectorValues must only contain numeric values.");return CE(a.serializer,l)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${Wf(r)}`)}(t,e)}function zM(t,e){let n={};return BN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):si(t,(r,i)=>{let o=hu(i,e.Ac(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function qM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof ou||t instanceof ru||t instanceof pt||t instanceof iu||t instanceof su)}function jE(t,e,n){if(!qM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Wf(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function lE(t,e,n){if((e=Ae(e))instanceof Fs)return e._internalPath;if(typeof e=="string")return UE(t,e);throw kf("Field path arguments must be of type string or ",t,!1,void 0,n)}var qq=new RegExp("[~\\*/\\[\\]]");function UE(t,e,n){if(e.search(qq)>=0)throw kf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fs(...e.split("."))._internalPath}catch{throw kf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kf(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new L(M.INVALID_ARGUMENT,a+t+u)}function WM(t,e){return t.some(n=>n.isEqual(e))}var Of=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new dE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(BE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},dE=class extends Of{data(){return super.data()}};function BE(t,e){return typeof e=="string"?UE(t,e):e instanceof Fs?e._internalPath:e._delegate._internalPath}function GM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var au=class{},cu=class extends au{};function jX(t,e,...n){let r=[];e instanceof au&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof fE).length,a=o.filter(u=>u instanceof hE).length;if(s>1||s>0&&a>0)throw new L(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var hE=class t extends cu{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return KM(e._query,n),new _r(e.firestore,e.converter,tI(e._query,n))}_parse(e){let n=Kf(e.firestore);return function(o,s,a,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){DN(p,h);let w=[];for(let A of p)w.push(TN(u,o,A));g={arrayValue:{values:w}}}else g=TN(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||DN(p,h),g=zq(a,s,p,h==="in"||h==="not-in");return ze.create(l,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var fE=class t extends au{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:hn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)KM(s,u),s=tI(s,u)}(e._query,n),new _r(e.firestore,e.converter,tI(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var pE=class t extends cu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new L(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ji(o,s)}(e._query,this._field,this._direction);return new _r(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new ri(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function UX(t,e="asc"){let n=e,r=BE("orderBy",t);return pE._create(r,n)}var gE=class t extends cu{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new _r(e.firestore,e.converter,df(e._query,this._limit,this._limitType))}};function BX(t){return Fq("limit",t),gE._create("limit",t,"F")}function TN(t,e,n){if(typeof(n=Ae(n))=="string"){if(n==="")throw new L(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tM(e)&&n.indexOf("/")!==-1)throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Re.fromString(n));if(!z.isDocumentKey(r))throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $R(t,new z(r))}if(n instanceof pt)return $R(t,n._key);throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wf(n)}.`)}function DN(t,e){if(!Array.isArray(t)||t.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KM(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var mE=class{convertValue(e,n="none"){switch(ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return si(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Ss].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ce(s.doubleValue));return new su(o)}convertGeoPoint(e){return new ou(Ce(e.latitude),Ce(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=jf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Kc(e));default:return null}}convertTimestamp(e){let n=gr(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Re.fromString(e);ve(EM(r),9688,{name:e});let i=new uf(r.get(1),r.get(3)),o=new z(r.popFirst(5));return i.isEqual(n)||pr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function QM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Qi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Lf=class extends Of{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ds(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(BE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ds=class extends Lf{data(e={}){return super.data(e)}},Ff=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ds(this._firestore,this._userDataWriter,r.key,r,new Qi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Ds(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Ds(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Wq(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Wq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q(61501,{type:t})}}function $X(t){t=kt(t,pt);let e=kt(t.firestore,fn);return kq(Gf(e),t._key).then(n=>YM(e,t,n))}var uu=class extends mE{constructor(e){super(),this.firestore=e}convertBytes(e){return new ru(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}};function HX(t){t=kt(t,_r);let e=kt(t.firestore,fn),n=Gf(e),r=new uu(e);return GM(t._query),Oq(n,t._query).then(i=>new Ff(e,r,t,i))}function zX(t,e,n){t=kt(t,pt);let r=kt(t.firestore,fn),i=QM(t.converter,e,n);return Qf(r,[HM(Kf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,kn.none())])}function qX(t,e,n,...r){t=kt(t,pt);let i=kt(t.firestore,fn),o=Kf(i),s;return s=typeof(e=Ae(e))=="string"||e instanceof Fs?Hq(o,"updateDoc",t._key,e,n,r):$q(o,"updateDoc",t._key,e),Qf(i,[s.toMutation(t._key,kn.exists(!0))])}function WX(t){return Qf(kt(t.firestore,fn),[new Yc(t._key,kn.none())])}function GX(t,e){let n=kt(t.firestore,fn),r=jq(t),i=QM(t.converter,e);return Qf(n,[HM(Kf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,kn.exists(!1))]).then(()=>r)}function KX(t,...e){var n,r,i;t=Ae(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||wN(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(wN(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof pt)l=kt(t.firestore,fn),h=Uf(t._key.path),u={next:p=>{e[s]&&e[s](YM(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=kt(t,_r);l=kt(p.firestore,fn),h=p._query;let g=new uu(l);u={next:m=>{e[s]&&e[s](new Ff(l,g,p,m))},error:e[s+1],complete:e[s+2]},GM(t._query)}return function(g,m,w,A){let R=new nu(A),k=new tu(m,R,w);return g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return kE(yield Rf(g),k)})),()=>{R.xu(),g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return OE(yield Rf(g),k)}))}}(Gf(l),h,a,u)}function Qf(t,e){return function(r,i){let o=new ln;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return Tq(yield xq(r),i,o)})),o.promise}(Gf(t),e)}function YM(t,e,n){let r=n.docs.get(e._key),i=new uu(t);return new Lf(t,i,e._key,r,new Qi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Vs=i})(Yr),an(new wt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new fn(new O_(r.getProvider("auth-internal")),new V_(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uf(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Be(PR,xR,e),Be(PR,xR,"esm2017")})();var XX={production:!1,firebaseConfig:{apiKey:"AIzaSyDikPuo8FKl3QnBbuxB39HCexZhTbli4oo",authDomain:"finanzas-dashboard-9a0e6.firebaseapp.com",projectId:"finanzas-dashboard-9a0e6",storageBucket:"finanzas-dashboard-9a0e6.firebasestorage.app",messagingSenderId:"1044784431774",appId:"1:1044784431774:web:7ecab65cb4aa53d302718f"}};export{re as a,We as b,GP as c,Se as d,se as e,ux as f,V as g,pD as h,H as i,Fo as j,$ as k,x as l,Lr as m,Kn as n,Pa as o,MG as p,PG as q,Vm as r,Et as s,St as t,_e as u,xG as v,vb as w,Vr as x,_b as y,Pi as z,fO as A,kG as B,fd as C,xe as D,$G as E,vC as F,qo as G,Ur as H,NL as I,UL as J,ja as K,hy as L,cF as M,uF as N,lF as O,qG as P,WG as Q,GG as R,KG as S,QG as T,OC as U,LC as V,fy as W,bF as X,CF as Y,YG as Z,py as _,ZG as $,JG as aa,XG as ba,e7 as ca,t7 as da,n7 as ea,r7 as fa,jF as ga,FC as ha,UF as ia,BF as ja,i7 as ka,o7 as la,s7 as ma,a7 as na,c7 as oa,u7 as pa,l7 as qa,d7 as ra,h7 as sa,f7 as ta,p7 as ua,gy as va,g7 as wa,YC as xa,cV as ya,ZC as za,er as Aa,LV as Ba,DS as Ca,FV as Da,jV as Ea,UV as Fa,AS as Ga,HV as Ha,r2 as Ia,P2 as Ja,x2 as Ka,iv as La,Ec as Ma,$0 as Na,uU as Oa,Nv as Pa,Be as Qa,gs as Ra,f_ as Sa,zh as Ta,ms as Ua,qi as Va,Wi as Wa,Lc as Xa,RJ as Ya,NJ as Za,Wh as _a,u$ as $a,rR as ab,iR as bb,oR as cb,pR as db,jc as eb,E_ as fb,pX as gb,gX as hb,mX as ib,yX as jb,FX as kb,jq as lb,VX as mb,jX as nb,UX as ob,BX as pb,$X as qb,HX as rb,zX as sb,qX as tb,WX as ub,GX as vb,KX as wb,XX as xb};
