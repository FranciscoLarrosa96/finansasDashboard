import{a as z,b as _,c as d,d as M,e as N,f as A,h as L,i as B,m as D,n as j}from"./chunk-BF5HH236.js";import{$ as v,B as s,Ba as E,D as f,Da as k,F as b,Ga as C,J as h,M as m,Ma as S,Na as F,Pa as y,U as e,V as t,W as l,_ as u,cb as I,db as G,fa as o,ha as x,l as c,oa as w}from"./chunk-LQPLGJSB.js";import{f as p}from"./chunk-YYD2Q6U2.js";var W={production:!1,firebaseConfig:{apiKey:"AIzaSyDikPuo8FKl3QnBbuxB39HCexZhTbli4oo",authDomain:"finanzas-dashboard-9a0e6.firebaseapp.com",projectId:"finanzas-dashboard-9a0e6",storageBucket:"finanzas-dashboard-9a0e6.firebasestorage.app",messagingSenderId:"1044784431774",appId:"1:1044784431774:web:7ecab65cb4aa53d302718f"}};var K=a=>({"opacity-50 cursor-not-allowed":a});function P(a,r){if(a&1&&(e(0,"div",17),o(1),t()),a&2){let n=v();s(),x(" ",n.errorMessage," ")}}var V=y(W.firebaseConfig),q=G(V),T=class a{constructor(r){this.fb=r;this.loginForm=this.fb.group({email:["test22@gmail.com",[d.required,d.email]],password:["123456",d.required]})}errorMessage=null;loginForm;router=c(S);authService=c(z);loginWithGoogle(){this.authService.loginWithGoogle().then(()=>{this.router.navigate(["/dashboard"])}).catch(r=>{console.error("Error al loguearse con Google:",r)})}loginWithEmail(){return p(this,null,function*(){let r=this.loginForm.value.email,n=this.loginForm.value.password,i=yield I(q,r);if(i.includes("google.com")&&!i.includes("password")){this.errorMessage="Este usuario est\xE1 registrado con Google. Ingres\xE1 con Google.";return}this.authService.loginWithEmail(r,n).then(()=>this.router.navigate(["/dashboard"])).catch(R=>{switch(R.code){case"auth/user-not-found":this.errorMessage="El usuario no existe.";break;case"auth/wrong-password":this.errorMessage="La contrase\xF1a es incorrecta.";break;case"auth/invalid-email":this.errorMessage="El formato del email no es v\xE1lido.";break;default:this.errorMessage="Error al iniciar sesi\xF3n. Intent\xE1 nuevamente o intenta con Google.";break}})})}static \u0275fac=function(n){return new(n||a)(f(D))};static \u0275cmp=b({type:a,selectors:[["app-login"]],decls:28,vars:6,consts:[[1,"relative","min-h-screen","flex","items-center","justify-center","text-text","dark:text-white","px-4","transition-all","duration-300"],["src","assets/img/wallpaper.avif","alt","Fondo",1,"absolute","inset-0","w-full","h-full","object-cover","blur-sm","z-0"],[1,"absolute","inset-0","bg-white/50","dark:bg-black/40","backdrop-blur-sm","z-0"],["data-aos","zoom-in",1,"relative","z-10","w-full","max-w-md","bg-white","dark:bg-zinc-800","rounded-2xl","shadow-xl","p-6","border","border-border","dark:border-zinc-700"],[1,"text-2xl","font-bold","text-main","mb-6","text-center"],["data-aos","fade-up","data-aos-delay","100",1,"space-y-4",3,"ngSubmit","formGroup"],[1,"block","font-semibold","mb-1"],["type","email","formControlName","email","placeholder","tucorreo@mail.com",1,"w-full","p-2","rounded","border","border-border","dark:border-zinc-600","dark:bg-zinc-700"],["type","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"w-full","p-2","rounded","border","border-border","dark:border-zinc-600","dark:bg-zinc-700"],["type","submit",1,"w-full","py-2","bg-main","text-white","font-semibold","rounded-xl","hover:bg-hover","transition-all",3,"disabled","ngClass"],["data-aos","fade-right","class","text-red-700 text-sm mt-2",4,"ngIf"],["data-aos","fade-up","data-aos-delay","200",1,"mt-6","text-center"],[1,"text-sm","mb-3"],[1,"flex","items-center","justify-center","gap-2","w-full","py-2","border","border-border","dark:border-zinc-600","rounded-xl","hover:bg-hover","hover:text-white","transition-all","duration-200",3,"click"],["src","https://www.svgrepo.com/show/475656/google-color.svg","alt","Google",1,"w-5","h-5"],[1,"text-center","mt-4","text-sm"],["routerLink","/register",1,"text-[var(--main-color)]","font-medium","hover:underline"],["data-aos","fade-right",1,"text-red-700","text-sm","mt-2"]],template:function(n,i){n&1&&(e(0,"div",0),l(1,"img",1)(2,"div",2),e(3,"div",3)(4,"h2",4),o(5,"Iniciar sesi\xF3n"),t(),e(6,"form",5),u("ngSubmit",function(){return i.loginWithEmail()}),e(7,"div")(8,"label",6),o(9,"Email"),t(),l(10,"input",7),t(),e(11,"div")(12,"label",6),o(13,"Contrase\xF1a"),t(),l(14,"input",8),t(),e(15,"button",9),o(16," Ingresar "),t(),h(17,P,2,1,"div",10),t(),e(18,"div",11)(19,"p",12),o(20,"o ingres\xE1 con"),t(),e(21,"button",13),u("click",function(){return i.loginWithGoogle()}),l(22,"img",14),o(23," Google "),t()(),e(24,"p",15),o(25," \xBFNo ten\xE9s cuenta? "),e(26,"a",16),o(27," Registrate ac\xE1 "),t()()()()),n&2&&(s(6),m("formGroup",i.loginForm),s(9),m("disabled",i.loginForm.invalid)("ngClass",w(4,K,i.loginForm.invalid)),s(2),m("ngIf",i.errorMessage))},dependencies:[j,A,_,M,N,L,B,C,E,k,F],encapsulation:2})};export{T as LoginComponent,q as auth};
