import{a as w,b as m,c as E,d as R,e as I,f as N,g as M,h as _,i as k}from"./chunk-3NE5ZSUT.js";import{a as C}from"./chunk-X7MC7YUB.js";import{B as s,D as l,E as p,I as g,K as u,L as f,N as r,O as e,P as d,S as v,T as x,U as o,W as b,e as c,ga as h,ia as y,na as S,oa as F}from"./chunk-Q365JZA6.js";function D(n,a){if(n&1&&(r(0,"div",11),o(1),e()),n&2){let t=x();s(),b(" ",t.errorMessage," ")}}var G=class n{constructor(a,t,i){this.fb=a;this.authService=t;this.router=i;this.registerForm=this.fb.group({email:["",[m.required,m.email]],password:["",[m.required,m.minLength(6)]]})}registerForm;errorMessage=null;onSubmit(){return c(this,null,function*(){if(this.registerForm.invalid)return;let{email:a,password:t}=this.registerForm.value;try{yield this.authService.register(a,t),this.router.navigate(["/dashboard"])}catch(i){console.error("Error al registrar:",i),i.code==="auth/email-already-in-use"?this.errorMessage="El correo electr\xF3nico ya est\xE1 en uso.":this.errorMessage="Error al registrar. Int\xE9ntalo de nuevo m\xE1s tarde."}})}static \u0275fac=function(t){return new(t||n)(l(_),l(C),l(S))};static \u0275cmp=p({type:n,selectors:[["app-register"]],decls:20,vars:5,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-[var(--background-color)]","px-4"],["data-aos","zoom-in",1,"max-w-md","w-full","p-6","rounded-2xl","shadow-xl",2,"background-color","white"],[1,"text-2xl","font-bold","text-center","mb-6","text-[var(--main-color)]"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"block","text-sm","font-semibold","text-[var(--text-color)]","mb-1"],["formControlName","email","type","email",1,"w-full","px-4","py-2","rounded-lg","bg-blue-100","focus:outline-none","focus:ring-2","focus:ring-[var(--main-color)]"],["formControlName","password","type","password",1,"w-full","px-4","py-2","rounded-lg","bg-blue-100","focus:outline-none","focus:ring-2","focus:ring-[var(--main-color)]"],["type","submit",1,"w-full","py-2","rounded-lg","text-white","font-semibold","transition-all",3,"disabled"],["data-aos","fade-right","class","text-red-700 text-sm mt-2",4,"ngIf"],[1,"text-center","mt-4","text-sm"],["routerLink","/login",1,"text-[var(--main-color)]","font-medium","hover:underline","cursor-pointer"],["data-aos","fade-right",1,"text-red-700","text-sm","mt-2"]],template:function(t,i){t&1&&(r(0,"div",0)(1,"div",1)(2,"h2",2),o(3,"Crear cuenta"),e(),r(4,"form",3),v("ngSubmit",function(){return i.onSubmit()}),r(5,"div")(6,"label",4),o(7,"Email"),e(),d(8,"input",5),e(),r(9,"div")(10,"label",4),o(11,"Contrase\xF1a"),e(),d(12,"input",6),e(),r(13,"button",7),o(14," Registrarse "),e(),g(15,D,2,1,"div",8),e(),r(16,"p",9),o(17," \xBFYa ten\xE9s cuenta? "),r(18,"a",10),o(19,"Iniciar sesi\xF3n"),e()()()()),t&2&&(s(4),u("formGroup",i.registerForm),s(9),f("background-color","var(--main-color)"),u("disabled",i.registerForm.invalid),s(2),u("ngIf",i.errorMessage))},dependencies:[y,h,k,I,w,E,R,N,M,F],encapsulation:2})};export{G as RegisterComponent};
