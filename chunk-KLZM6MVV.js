import{a as C,b as w,c as s,d as E,e as R,f as I,h as N,i as M,m as _,n as k}from"./chunk-2OMFGICI.js";import{$ as b,B as m,Ca as h,D as l,Ea as y,F as p,J as f,Ka as S,La as F,M as d,N as g,U as r,V as e,W as u,_ as v,fa as o,ha as x}from"./chunk-GNS6BWRJ.js";import{f as c}from"./chunk-YYD2Q6U2.js";function j(n,a){if(n&1&&(r(0,"div",11),o(1),e()),n&2){let t=b();m(),x(" ",t.errorMessage," ")}}var G=class n{constructor(a,t,i){this.fb=a;this.authService=t;this.router=i;this.registerForm=this.fb.group({email:["",[s.required,s.email]],password:["",[s.required,s.minLength(6)]]})}registerForm;errorMessage=null;onSubmit(){return c(this,null,function*(){if(this.registerForm.invalid)return;let{email:a,password:t}=this.registerForm.value;try{yield this.authService.register(a,t),this.router.navigate(["/dashboard"])}catch(i){console.error("Error al registrar:",i),i.code==="auth/email-already-in-use"?this.errorMessage="El correo electr\xF3nico ya est\xE1 en uso.":this.errorMessage="Error al registrar. Int\xE9ntalo de nuevo m\xE1s tarde."}})}static \u0275fac=function(t){return new(t||n)(l(_),l(C),l(S))};static \u0275cmp=p({type:n,selectors:[["app-register"]],decls:20,vars:5,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-[var(--background-color)]","px-4"],["data-aos","zoom-in",1,"max-w-md","w-full","p-6","rounded-2xl","shadow-xl",2,"background-color","white"],[1,"text-2xl","font-bold","text-center","mb-6","text-[var(--main-color)]"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"block","text-sm","font-semibold","text-[var(--text-color)]","mb-1"],["formControlName","email","type","email","placeholder","ejemplo@gmail.com",1,"border","border-border","w-full","px-4","py-2","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-[var(--main-color)]"],["formControlName","password","type","password","placeholder","********",1,"border","border-border","w-full","px-4","py-2","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-[var(--main-color)]"],["type","submit",1,"w-full","py-2","rounded-lg","text-white","font-semibold","transition-all",3,"disabled"],["data-aos","fade-right","class","text-red-700 text-sm mt-2",4,"ngIf"],[1,"text-center","mt-4","text-sm"],["routerLink","/login",1,"text-[var(--main-color)]","font-medium","hover:underline","cursor-pointer"],["data-aos","fade-right",1,"text-red-700","text-sm","mt-2"]],template:function(t,i){t&1&&(r(0,"div",0)(1,"div",1)(2,"h2",2),o(3,"Crear cuenta"),e(),r(4,"form",3),v("ngSubmit",function(){return i.onSubmit()}),r(5,"div")(6,"label",4),o(7,"Email"),e(),u(8,"input",5),e(),r(9,"div")(10,"label",4),o(11,"Contrase\xF1a"),e(),u(12,"input",6),e(),r(13,"button",7),o(14," Registrarse "),e(),f(15,j,2,1,"div",8),e(),r(16,"p",9),o(17," \xBFYa ten\xE9s cuenta? "),r(18,"a",10),o(19,"Iniciar sesi\xF3n"),e()()()()),t&2&&(m(4),d("formGroup",i.registerForm),m(9),g("background-color","var(--main-color)"),d("disabled",i.registerForm.invalid),m(2),d("ngIf",i.errorMessage))},dependencies:[y,h,k,I,w,E,R,N,M,F],encapsulation:2})};export{G as RegisterComponent};
