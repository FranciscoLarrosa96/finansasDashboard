import{a as _,b as m,c as z,d as M,g as N,j as L,k as A,p as B,r as D}from"./chunk-47SHXS3Q.js";import{a as W}from"./chunk-X4Z7HQWS.js";import{e as S,f as F}from"./chunk-6XF3Q44U.js";import{Aa as f,Ea as b,Ia as h,Oa as l,Ra as t,Rb as y,Sa as e,Ta as d,V as u,Va as g,Wa as v,Xa as r,Za as x,e as p,eb as w,fc as I,gc as G,sb as E,ub as C,vb as k,wa as s}from"./chunk-T56FUSY2.js";var j={production:!1,firebaseConfig:{apiKey:"AIzaSyDikPuo8FKl3QnBbuxB39HCexZhTbli4oo",authDomain:"finanzas-dashboard-9a0e6.firebaseapp.com",projectId:"finanzas-dashboard-9a0e6",storageBucket:"finanzas-dashboard-9a0e6.firebasestorage.app",messagingSenderId:"1044784431774",appId:"1:1044784431774:web:7ecab65cb4aa53d302718f"}};var K=a=>({"opacity-50 cursor-not-allowed":a});function P(a,i){if(a&1&&(t(0,"div",15),r(1),e()),a&2){let n=v();s(),x(" ",n.errorMessage," ")}}var V=y(j.firebaseConfig),q=G(V),T=class a{constructor(i){this.fb=i;this.loginForm=this.fb.group({email:["",[m.required,m.email]],password:["",m.required]})}errorMessage=null;loginForm;router=u(S);authService=u(W);loginWithGoogle(){this.authService.loginWithGoogle().then(()=>{this.router.navigate(["/dashboard"])}).catch(i=>{console.error("Error al loguearse con Google:",i)})}loginWithEmail(){return p(this,null,function*(){let i=this.loginForm.value.email,n=this.loginForm.value.password,o=yield I(q,i),c=o.includes("google.com")&&!o.includes("password");if(console.log("M\xE9todos:",o),c){this.errorMessage="Este usuario est\xE1 registrado con Google. Ingres\xE1 con Google.";return}this.authService.loginWithEmail(i,n).then(()=>this.router.navigate(["/dashboard"])).catch(R=>{switch(R.code){case"auth/user-not-found":this.errorMessage="El usuario no existe.";break;case"auth/wrong-password":this.errorMessage="La contrase\xF1a es incorrecta.";break;case"auth/invalid-email":this.errorMessage="El formato del email no es v\xE1lido.";break;default:this.errorMessage="Error al iniciar sesi\xF3n. Intent\xE1 nuevamente o intenta con Google.";break}})})}static \u0275fac=function(n){return new(n||a)(f(B))};static \u0275cmp=b({type:a,selectors:[["app-login"]],decls:26,vars:6,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-background","dark:bg-zinc-900","text-text","dark:text-white","px-4","transition-all","duration-300"],["data-aos","zoom-in",1,"w-full","max-w-md","bg-white","dark:bg-zinc-800","rounded-2xl","shadow-xl","p-6","border","border-border","dark:border-zinc-700"],[1,"text-2xl","font-bold","text-main","mb-6","text-center"],["data-aos","fade-up","data-aos-delay","100",1,"space-y-4",3,"ngSubmit","formGroup"],[1,"block","font-semibold","mb-1"],["type","email","formControlName","email","placeholder","tucorreo@mail.com",1,"w-full","p-2","rounded","border","border-border","dark:border-zinc-600","dark:bg-zinc-700"],["type","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"w-full","p-2","rounded","border","border-border","dark:border-zinc-600","dark:bg-zinc-700"],["type","submit",1,"w-full","py-2","bg-main","text-white","font-semibold","rounded-xl","hover:bg-hover","transition-all",3,"disabled","ngClass"],["data-aos","fade-right","class","text-red-700 text-sm mt-2",4,"ngIf"],["data-aos","fade-up","data-aos-delay","200",1,"mt-6","text-center"],[1,"text-sm","mb-3"],[1,"flex","items-center","justify-center","gap-2","w-full","py-2","border","border-border","dark:border-zinc-600","rounded-xl","hover:bg-hover","hover:text-white","transition-all","duration-200",3,"click"],["src","https://www.svgrepo.com/show/475656/google-color.svg","alt","Google",1,"w-5","h-5"],[1,"text-center","mt-4","text-sm"],["routerLink","/register",1,"text-[var(--main-color)]","font-medium","hover:underline"],["data-aos","fade-right",1,"text-red-700","text-sm","mt-2"]],template:function(n,o){n&1&&(t(0,"div",0)(1,"div",1)(2,"h2",2),r(3,"Iniciar sesi\xF3n"),e(),t(4,"form",3),g("ngSubmit",function(){return o.loginWithEmail()}),t(5,"div")(6,"label",4),r(7,"Email"),e(),d(8,"input",5),e(),t(9,"div")(10,"label",4),r(11,"Contrase\xF1a"),e(),d(12,"input",6),e(),t(13,"button",7),r(14," Ingresar "),e(),h(15,P,2,1,"div",8),e(),t(16,"div",9)(17,"p",10),r(18,"o ingres\xE1 con"),e(),t(19,"button",11),g("click",function(){return o.loginWithGoogle()}),d(20,"img",12),r(21," Google "),e()(),t(22,"p",13),r(23," \xBFNo ten\xE9s cuenta? "),t(24,"a",14),r(25," Registrate ac\xE1 "),e()()()()),n&2&&(s(4),l("formGroup",o.loginForm),s(9),l("disabled",o.loginForm.invalid)("ngClass",w(4,K,o.loginForm.invalid)),s(2),l("ngIf",o.errorMessage))},dependencies:[D,N,_,z,M,L,A,k,E,C,F],encapsulation:2})};export{T as LoginComponent,q as auth};
