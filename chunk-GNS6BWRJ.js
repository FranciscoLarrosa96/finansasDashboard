import{a as F,b as me,e as Tr,f as _}from"./chunk-YYD2Q6U2.js";function Ep(t,e){return Object.is(t,e)}var qe=null,Su=!1,wp=1,Ot=Symbol("SIGNAL");function ee(t){let e=qe;return qe=t,e}function Tp(){return qe}var ao={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function aa(t){if(Su)throw new Error("");if(qe===null)return;qe.consumerOnSignalRead(t);let e=qe.nextProducerIndex++;if(Pu(qe),e<qe.producerNode.length&&qe.producerNode[e]!==t&&sa(qe)){let n=qe.producerNode[e];Mu(n,qe.producerIndexOfThis[e])}qe.producerNode[e]!==t&&(qe.producerNode[e]=t,qe.producerIndexOfThis[e]=sa(qe)?Vw(t,qe,e):0),qe.producerLastReadVersion[e]=t.version}function Fw(){wp++}function Dp(t){if(!(sa(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===wp)){if(!t.producerMustRecompute(t)&&!Nu(t)){Ip(t);return}t.producerRecomputeValue(t),Ip(t)}}function bp(t){if(t.liveConsumerNode===void 0)return;let e=Su;Su=!0;try{for(let n of t.liveConsumerNode)n.dirty||IP(n)}finally{Su=e}}function Cp(){return qe?.consumerAllowSignalWrites!==!1}function IP(t){t.dirty=!0,bp(t),t.consumerMarkedDirty?.(t)}function Ip(t){t.dirty=!1,t.lastCleanEpoch=wp}function ca(t){return t&&(t.nextProducerIndex=0),ee(t)}function Ru(t,e){if(ee(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(sa(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Mu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Nu(t){Pu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Dp(n),r!==n.version))return!0}return!1}function ua(t){if(Pu(t),sa(t))for(let e=0;e<t.producerNode.length;e++)Mu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Vw(t,e,n){if(jw(t),t.liveConsumerNode.length===0&&Uw(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Vw(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Mu(t,e){if(jw(t),t.liveConsumerNode.length===1&&Uw(t))for(let r=0;r<t.producerNode.length;r++)Mu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Pu(i),i.producerIndexOfThis[r]=e}}function sa(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Pu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function jw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Uw(t){return t.producerNode!==void 0}function xu(t,e){let n=Object.create(EP);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Dp(n),aa(n),n.value===Au)throw n.error;return n.value};return r[Ot]=n,r}var vp=Symbol("UNSET"),_p=Symbol("COMPUTING"),Au=Symbol("ERRORED"),EP=me(F({},ao),{value:vp,dirty:!0,error:null,equal:Ep,kind:"computed",producerMustRecompute(t){return t.value===vp||t.value===_p},producerRecomputeValue(t){if(t.value===_p)throw new Error("Detected cycle in computations.");let e=t.value;t.value=_p;let n=ca(t),r,i=!1;try{r=t.computation(),ee(null),i=e!==vp&&e!==Au&&r!==Au&&t.equal(e,r)}catch(o){r=Au,t.error=o}finally{Ru(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function wP(){throw new Error}var Bw=wP;function $w(t){Bw(t)}function Sp(t){Bw=t}var TP=null;function Ap(t,e){let n=Object.create(ku);n.value=t,e!==void 0&&(n.equal=e);let r=()=>(aa(n),n.value);return r[Ot]=n,r}function la(t,e){Cp()||$w(t),t.equal(t.value,e)||(t.value=e,DP(t))}function Rp(t,e){Cp()||$w(t),la(t,e(t.value))}var ku=me(F({},ao),{equal:Ep,value:void 0,kind:"signal"});function DP(t){t.version++,Fw(),bp(t),TP?.()}function Np(t){let e=ee(null);try{return t()}finally{ee(e)}}var Mp;function da(){return Mp}function jn(t){let e=Mp;return Mp=t,e}var Ou=Symbol("NotFound");function Z(t){return typeof t=="function"}function co(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Lu=co(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function li(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Me=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Z(r))try{r()}catch(o){e=o instanceof Lu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Hw(o)}catch(s){e=e??[],s instanceof Lu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Lu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Hw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&li(n,e)}remove(e){let{_finalizers:n}=this;n&&li(n,e),e instanceof t&&e._removeParent(this)}};Me.EMPTY=(()=>{let t=new Me;return t.closed=!0,t})();var Pp=Me.EMPTY;function Fu(t){return t instanceof Me||t&&"closed"in t&&Z(t.remove)&&Z(t.add)&&Z(t.unsubscribe)}function Hw(t){Z(t)?t():t.unsubscribe()}var Xt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var uo={setTimeout(t,e,...n){let{delegate:r}=uo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=uo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Vu(t){uo.setTimeout(()=>{let{onUnhandledError:e}=Xt;if(e)e(t);else throw t})}function ha(){}var zw=xp("C",void 0,void 0);function qw(t){return xp("E",void 0,t)}function Ww(t){return xp("N",t,void 0)}function xp(t,e,n){return{kind:t,value:e,error:n}}var di=null;function lo(t){if(Xt.useDeprecatedSynchronousErrorHandling){let e=!di;if(e&&(di={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=di;if(di=null,n)throw r}}else t()}function Gw(t){Xt.useDeprecatedSynchronousErrorHandling&&di&&(di.errorThrown=!0,di.error=t)}var hi=class extends Me{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Fu(e)&&e.add(this)):this.destination=NP}static create(e,n,r){return new ho(e,n,r)}next(e){this.isStopped?Op(Ww(e),this):this._next(e)}error(e){this.isStopped?Op(qw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Op(zw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},AP=Function.prototype.bind;function kp(t,e){return AP.call(t,e)}var Lp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ju(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ju(r)}else ju(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ju(n)}}},ho=class extends hi{constructor(e,n,r){super();let i;if(Z(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Xt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&kp(e.next,o),error:e.error&&kp(e.error,o),complete:e.complete&&kp(e.complete,o)}):i=e}this.destination=new Lp(i)}};function ju(t){Xt.useDeprecatedSynchronousErrorHandling?Gw(t):Vu(t)}function RP(t){throw t}function Op(t,e){let{onStoppedNotification:n}=Xt;n&&uo.setTimeout(()=>n(t,e))}var NP={closed:!0,next:ha,error:RP,complete:ha};var fo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Lt(t){return t}function Fp(...t){return Vp(t)}function Vp(t){return t.length===0?Lt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ne=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=PP(n)?n:new ho(n,r,i);return lo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Kw(r),new r((i,o)=>{let s=new ho({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[fo](){return this}pipe(...n){return Vp(n)(this)}toPromise(n){return n=Kw(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Kw(t){var e;return(e=t??Xt.Promise)!==null&&e!==void 0?e:Promise}function MP(t){return t&&Z(t.next)&&Z(t.error)&&Z(t.complete)}function PP(t){return t&&t instanceof hi||MP(t)&&Fu(t)}function jp(t){return Z(t?.lift)}function fe(t){return e=>{if(jp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function le(t,e,n,r,i){return new Up(t,e,n,r,i)}var Up=class extends hi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function po(){return fe((t,e)=>{let n=null;t._refCount++;let r=le(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var go=class extends ne{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,jp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Me;let n=this.getSubject();e.add(this.source.subscribe(le(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Me.EMPTY)}return e}refCount(){return po()(this)}};var Qw=co(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var We=(()=>{class t extends ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Uu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Qw}next(n){lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Pp:(this.currentObservers=null,o.push(n),new Me(()=>{this.currentObservers=null,li(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ne;return n.source=this,n}}return t.create=(e,n)=>new Uu(e,n),t})(),Uu=class extends We{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Pp}};var tt=class extends We{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Bp={now(){return(Bp.delegate||Date).now()},delegate:void 0};var Bu=class extends Me{constructor(e,n){super()}schedule(e,n=0){return this}};var fa={setInterval(t,e,...n){let{delegate:r}=fa;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=fa;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Dr=class extends Bu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return fa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&fa.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,li(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var xP=1,$p,Hp={};function Yw(t){return t in Hp?(delete Hp[t],!0):!1}var Zw={setImmediate(t){let e=xP++;return Hp[e]=!0,$p||($p=Promise.resolve()),$p.then(()=>Yw(e)&&t()),e},clearImmediate(t){Yw(t)}};var{setImmediate:kP,clearImmediate:OP}=Zw,pa={setImmediate(...t){let{delegate:e}=pa;return(e?.setImmediate||kP)(...t)},clearImmediate(t){let{delegate:e}=pa;return(e?.clearImmediate||OP)(t)},delegate:void 0};var $u=class extends Dr{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return r!==null&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=pa.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,n,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,n,r);let{actions:o}=e;n!=null&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==n&&(pa.clearImmediate(n),e._scheduled===n&&(e._scheduled=void 0))}};var mo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};mo.now=Bp.now;var br=class extends mo{constructor(e,n=mo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Hu=class extends br{flush(e){this._active=!0;let n=this._scheduled;this._scheduled=void 0;let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===n&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===n&&r.shift();)e.unsubscribe();throw i}}};var LP=new Hu($u);var zp=new br(Dr);var zu=class extends Dr{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var qu=class extends br{};var qp=new qu(zu);var Dt=new ne(t=>t.complete());function Jw(t){return t&&Z(t.schedule)}function Xw(t){return t[t.length-1]}function Wu(t){return Z(Xw(t))?t.pop():void 0}function Cr(t){return Jw(Xw(t))?t.pop():void 0}function Gu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tT(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function eT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fi(t){return this instanceof fi?(this.v=t,this):new fi(t)}function nT(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(w){return Promise.resolve(w).then(m,p)}}function a(m,w){r[m]&&(i[m]=function(A){return new Promise(function(R,k){o.push([m,A,R,k])>1||u(m,A)})},w&&(i[m]=w(i[m])))}function u(m,w){try{l(r[m](w))}catch(A){g(o[0][3],A)}}function l(m){m.value instanceof fi?Promise.resolve(m.value.v).then(h,p):g(o[0][2],m)}function h(m){u("next",m)}function p(m){u("throw",m)}function g(m,w){m(w),o.shift(),o.length&&u(o[0][0],o[0][1])}}function rT(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof eT=="function"?eT(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Ku=t=>t&&typeof t.length=="number"&&typeof t!="function";function Qu(t){return Z(t?.then)}function Yu(t){return Z(t[fo])}function Zu(t){return Symbol.asyncIterator&&Z(t?.[Symbol.asyncIterator])}function Ju(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function FP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Xu=FP();function el(t){return Z(t?.[Xu])}function tl(t){return nT(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield fi(n.read());if(i)return yield fi(void 0);yield yield fi(r)}}finally{n.releaseLock()}})}function nl(t){return Z(t?.getReader)}function Oe(t){if(t instanceof ne)return t;if(t!=null){if(Yu(t))return VP(t);if(Ku(t))return jP(t);if(Qu(t))return UP(t);if(Zu(t))return iT(t);if(el(t))return BP(t);if(nl(t))return $P(t)}throw Ju(t)}function VP(t){return new ne(e=>{let n=t[fo]();if(Z(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function jP(t){return new ne(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function UP(t){return new ne(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Vu)})}function BP(t){return new ne(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function iT(t){return new ne(e=>{HP(t,e).catch(n=>e.error(n))})}function $P(t){return iT(tl(t))}function HP(t,e){var n,r,i,o;return tT(this,void 0,void 0,function*(){try{for(n=rT(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function bt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Sr(t,e=0){return fe((n,r)=>{n.subscribe(le(r,i=>bt(r,t,()=>r.next(i),e),()=>bt(r,t,()=>r.complete(),e),i=>bt(r,t,()=>r.error(i),e)))})}function Ar(t,e=0){return fe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function oT(t,e){return Oe(t).pipe(Ar(e),Sr(e))}function sT(t,e){return Oe(t).pipe(Ar(e),Sr(e))}function aT(t,e){return new ne(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function cT(t,e){return new ne(n=>{let r;return bt(n,e,()=>{r=t[Xu](),bt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Z(r?.return)&&r.return()})}function rl(t,e){if(!t)throw new Error("Iterable cannot be null");return new ne(n=>{bt(n,e,()=>{let r=t[Symbol.asyncIterator]();bt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function uT(t,e){return rl(tl(t),e)}function lT(t,e){if(t!=null){if(Yu(t))return oT(t,e);if(Ku(t))return aT(t,e);if(Qu(t))return sT(t,e);if(Zu(t))return rl(t,e);if(el(t))return cT(t,e);if(nl(t))return uT(t,e)}throw Ju(t)}function Se(t,e){return e?lT(t,e):Oe(t)}function G(...t){let e=Cr(t);return Se(t,e)}function yo(t,e){let n=Z(t)?t:()=>t,r=i=>i.error(n());return new ne(e?i=>e.schedule(r,0,i):r)}function Wp(t){return!!t&&(t instanceof ne||Z(t.lift)&&Z(t.subscribe))}var Un=co(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function se(t,e){return fe((n,r)=>{let i=0;n.subscribe(le(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:zP}=Array;function qP(t,e){return zP(e)?t(...e):t(e)}function il(t){return se(e=>qP(t,e))}var{isArray:WP}=Array,{getPrototypeOf:GP,prototype:KP,keys:QP}=Object;function ol(t){if(t.length===1){let e=t[0];if(WP(e))return{args:e,keys:null};if(YP(e)){let n=QP(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function YP(t){return t&&typeof t=="object"&&GP(t)===KP}function sl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function al(...t){let e=Cr(t),n=Wu(t),{args:r,keys:i}=ol(t);if(r.length===0)return Se([],e);let o=new ne(ZP(r,e,i?s=>sl(i,s):Lt));return n?o.pipe(il(n)):o}function ZP(t,e,n=Lt){return r=>{dT(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)dT(e,()=>{let l=Se(t[u],e),h=!1;l.subscribe(le(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function dT(t,e,n){t?bt(n,t,e):e()}function hT(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},m=A=>l<r?w(A):u.push(A),w=A=>{o&&e.next(A),l++;let R=!1;Oe(n(A,h++)).subscribe(le(e,k=>{i?.(k),o?m(k):e.next(k)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let k=u.shift();s?bt(e,s,()=>w(k)):w(k)}g()}catch(k){e.error(k)}}))};return t.subscribe(le(e,m,()=>{p=!0,g()})),()=>{a?.()}}function Ge(t,e,n=1/0){return Z(e)?Ge((r,i)=>se((o,s)=>e(r,o,i,s))(Oe(t(r,i))),n):(typeof e=="number"&&(n=e),fe((r,i)=>hT(r,i,t,n)))}function fT(t=1/0){return Ge(Lt,t)}function pT(){return fT(1)}function vo(...t){return pT()(Se(t,Cr(t)))}function cl(t){return new ne(e=>{Oe(t()).subscribe(e)})}function JP(...t){let e=Wu(t),{args:n,keys:r}=ol(t),i=new ne(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Oe(n[h]).subscribe(le(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?sl(r,a):a),o.complete())}))}});return e?i.pipe(il(e)):i}function Ft(t,e){return fe((n,r)=>{let i=0;n.subscribe(le(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Rr(t){return fe((e,n)=>{let r=null,i=!1,o;r=e.subscribe(le(n,void 0,void 0,s=>{o=Oe(t(s,Rr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function gT(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(le(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Nr(t,e){return Z(e)?Ge(t,e,1):Ge(t,1)}function Mr(t){return fe((e,n)=>{let r=!1;e.subscribe(le(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Bn(t){return t<=0?()=>Dt:fe((e,n)=>{let r=0;e.subscribe(le(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ul(t=XP){return fe((e,n)=>{let r=!1;e.subscribe(le(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function XP(){return new Un}function pi(t){return fe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function $n(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ft((i,o)=>t(i,o,r)):Lt,Bn(1),n?Mr(e):ul(()=>new Un))}function _o(t){return t<=0?()=>Dt:fe((e,n)=>{let r=[];e.subscribe(le(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Gp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ft((i,o)=>t(i,o,r)):Lt,_o(1),n?Mr(e):ul(()=>new Un))}function Kp(t,e){return fe(gT(t,e,arguments.length>=2,!0))}function Qp(...t){let e=Cr(t);return fe((n,r)=>{(e?vo(t,n,e):vo(t,n)).subscribe(r)})}function Vt(t,e){return fe((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(le(r,u=>{i?.unsubscribe();let l=0,h=o++;Oe(t(u,h)).subscribe(i=le(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Yp(t){return fe((e,n)=>{Oe(t).subscribe(le(n,()=>n.complete(),ha)),!n.closed&&e.subscribe(n)})}function nt(t,e,n){let r=Z(t)||e||n?{next:t,error:e,complete:n}:t;return r?fe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(le(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Lt}var rD="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",V=class extends Error{code;constructor(e,n){super(iD(e,n)),this.code=e}};function ex(t){return`NG0${Math.abs(t)}`}function iD(t,e){return`${ex(t)}${e?": "+e:""}`}var oD=Symbol("InputSignalNode#UNSET"),tx=me(F({},ku),{transformFn:void 0,applyValueToInputSignal(t,e){la(t,e)}});function sD(t,e){let n=Object.create(tx);n.value=t,n.transformFn=e?.transform;function r(){if(aa(n),n.value===oD){let i=null;throw new V(-950,i)}return n.value}return r[Ot]=n,r}function Ra(t){return{toString:t}.toString()}var ll="__parameters__";function nx(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function aD(t,e,n){return Ra(()=>{let r=nx(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(ll)?u[ll]:Object.defineProperty(u,ll,{value:[]})[ll];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var mi=globalThis;function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function rx(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function At(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(At).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function fg(t,e){return t?e?`${t} ${e}`:t:e||""}var ix=we({__forward_ref__:we});function cD(t){return t.__forward_ref__=cD,t.toString=function(){return At(this())},t}function _t(t){return uD(t)?t():t}function uD(t){return typeof t=="function"&&t.hasOwnProperty(ix)&&t.__forward_ref__===cD}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Lo(t){return{providers:t.providers||[],imports:t.imports||[]}}function Wl(t){return mT(t,dD)||mT(t,hD)}function lD(t){return Wl(t)!==null}function mT(t,e){return t.hasOwnProperty(e)?t[e]:null}function ox(t){let e=t&&(t[dD]||t[hD]);return e||null}function yT(t){return t&&(t.hasOwnProperty(vT)||t.hasOwnProperty(sx))?t[vT]:null}var dD=we({\u0275prov:we}),vT=we({\u0275inj:we}),hD=we({ngInjectableDef:we}),sx=we({ngInjectorDef:we}),B=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function fD(t){return t&&!!t.\u0275providers}var ax=we({\u0275cmp:we}),cx=we({\u0275dir:we}),ux=we({\u0275pipe:we}),lx=we({\u0275mod:we}),_l=we({\u0275fac:we}),va=we({__NG_ELEMENT_ID__:we}),_T=we({__NG_ENV_ID__:we});function Do(t){return typeof t=="string"?t:t==null?"":String(t)}function dx(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Do(t)}function pD(t,e){throw new V(-200,t)}function gm(t,e){throw new V(-201,!1)}var re=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(re||{}),pg;function gD(){return pg}function Ct(t){let e=pg;return pg=t,e}function mD(t,e,n){let r=Wl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&re.Optional)return null;if(e!==void 0)return e;gm(t,"Injector")}var hx={},yi=hx,gg="__NG_DI_FLAG__",Il=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?Ou:yi,r)}},El="ngTempTokenPath",fx="ngTokenPath",px=/\n/gm,gx="\u0275",IT="__source";function mx(t,e=re.Default){if(da()===void 0)throw new V(-203,!1);if(da()===null)return mD(t,void 0,e);{let n=da(),r;return n instanceof Il?r=n.injector:r=n,r.get(t,e&re.Optional?null:void 0,e)}}function K(t,e=re.Default){return(gD()||mx)(_t(t),e)}function x(t,e=re.Default){return K(t,Gl(e))}function Gl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function mg(t){let e=[];for(let n=0;n<t.length;n++){let r=_t(t[n]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,o=re.Default;for(let s=0;s<r.length;s++){let a=r[s],u=yx(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(K(i,o))}else e.push(K(r))}return e}function yD(t,e){return t[gg]=e,t.prototype[gg]=e,t}function yx(t){return t[gg]}function vx(t,e,n,r){let i=t[El];throw e[IT]&&i.unshift(e[IT]),t.message=_x(`
`+t.message,i,n,r),t[fx]=i,t[El]=null,t}function _x(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==gx?t.slice(2):t;let i=At(e);if(Array.isArray(e))i=e.map(At).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):At(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(px,`
  `)}`}var Or=yD(aD("Optional"),8);var Ix=yD(aD("SkipSelf"),4);function _i(t,e){let n=t.hasOwnProperty(_l);return n?t[_l]:null}function Ex(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function wx(t){return t.flat(Number.POSITIVE_INFINITY)}function mm(t,e){t.forEach(n=>Array.isArray(n)?mm(n,e):e(n))}function vD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function wl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Tx(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function Dx(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function _D(t,e,n){let r=Na(t,e);return r>=0?t[r|1]=n:(r=~r,Dx(t,r,e,n)),r}function Zp(t,e){let n=Na(t,e);if(n>=0)return t[n|1]}function Na(t,e){return bx(t,e,1)}function bx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Ii={},It=[],_a=new B(""),ID=new B("",-1),ED=new B(""),Tl=class{get(e,n=yi){if(n===yi){let r=new Error(`NullInjectorError: No provider for ${At(e)}!`);throw r.name="NullInjectorError",r}return n}};function wD(t,e){let n=t[lx]||null;if(!n&&e===!0)throw new Error(`Type ${At(t)} does not have '\u0275mod' property.`);return n}function bo(t){return t[ax]||null}function Cx(t){return t[cx]||null}function Sx(t){return t[ux]||null}function Wn(t){return{\u0275providers:t}}function Ax(...t){return{\u0275providers:TD(!0,t),\u0275fromNgModule:!0}}function TD(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return mm(e,s=>{let a=s;yg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&DD(i,o),n}function DD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];ym(i,o=>{e(o,r)})}}function yg(t,e,n,r){if(t=_t(t),!t)return!1;let i=null,o=yT(t),s=!o&&bo(t);if(!o&&!s){let u=t.ngModule;if(o=yT(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)yg(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{mm(o.imports,h=>{yg(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&DD(l,e)}if(!a){let l=_i(i)||(()=>new i);e({provide:i,useFactory:l,deps:It},i),e({provide:ED,useValue:i,multi:!0},i),e({provide:_a,useValue:()=>K(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;ym(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function ym(t,e){for(let n of t)fD(n)&&(n=n.\u0275providers),Array.isArray(n)?ym(n,e):e(n)}var Rx=we({provide:String,useValue:we});function bD(t){return t!==null&&typeof t=="object"&&Rx in t}function Nx(t){return!!(t&&t.useExisting)}function Mx(t){return!!(t&&t.useFactory)}function Co(t){return typeof t=="function"}function Px(t){return!!t.useClass}var Kl=new B(""),fl={},ET={},Jp;function vm(){return Jp===void 0&&(Jp=new Tl),Jp}var rt=class{},Ia=class extends rt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,_g(e,s=>this.processProvider(s)),this.records.set(ID,Io(void 0,this)),i.has("environment")&&this.records.set(rt,Io(void 0,this));let o=this.records.get(Kl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ED,It,re.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?Ou:yi,r)}destroy(){ma(this),this._destroyed=!0;let e=ee(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ee(e)}}onDestroy(e){return ma(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ma(this);let n=jn(this),r=Ct(void 0),i;try{return e()}finally{jn(n),Ct(r)}}get(e,n=yi,r=re.Default){if(ma(this),e.hasOwnProperty(_T))return e[_T](this);r=Gl(r);let i,o=jn(this),s=Ct(void 0);try{if(!(r&re.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=Fx(e)&&Wl(e);l&&this.injectableDefInScope(l)?u=Io(vg(e),fl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,r)}let a=r&re.Self?vm():this.parent;return n=r&re.Optional&&n===yi?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[El]=a[El]||[]).unshift(At(e)),o)throw a;return vx(a,e,"R3InjectorError",this.source)}else throw a}finally{Ct(s),jn(o)}}resolveInjectorInitializers(){let e=ee(null),n=jn(this),r=Ct(void 0),i;try{let o=this.get(_a,It,re.Self);for(let s of o)s()}finally{jn(n),Ct(r),ee(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(At(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=_t(e);let n=Co(e)?e:_t(e&&e.provide),r=kx(e);if(!Co(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Io(void 0,fl,!0),i.factory=()=>mg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=ee(null);try{return n.value===ET?pD(At(e)):n.value===fl&&(n.value=ET,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&Lx(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ee(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=_t(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function vg(t){let e=Wl(t),n=e!==null?e.factory:_i(t);if(n!==null)return n;if(t instanceof B)throw new V(204,!1);if(t instanceof Function)return xx(t);throw new V(204,!1)}function xx(t){if(t.length>0)throw new V(204,!1);let n=ox(t);return n!==null?()=>n.factory(t):()=>new t}function kx(t){if(bD(t))return Io(void 0,t.useValue);{let e=CD(t);return Io(e,fl)}}function CD(t,e,n){let r;if(Co(t)){let i=_t(t);return _i(i)||vg(i)}else if(bD(t))r=()=>_t(t.useValue);else if(Mx(t))r=()=>t.useFactory(...mg(t.deps||[]));else if(Nx(t))r=(i,o)=>K(_t(t.useExisting),o!==void 0&&o&re.Optional?re.Optional:void 0);else{let i=_t(t&&(t.useClass||t.provide));if(Ox(t))r=()=>new i(...mg(t.deps));else return _i(i)||vg(i)}return r}function ma(t){if(t.destroyed)throw new V(205,!1)}function Io(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ox(t){return!!t.deps}function Lx(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Fx(t){return typeof t=="function"||typeof t=="object"&&t instanceof B}function _g(t,e){for(let n of t)Array.isArray(n)?_g(n,e):n&&fD(n)?_g(n.\u0275providers,e):e(n)}function it(t,e){let n;t instanceof Ia?(ma(t),n=t):n=new Il(t);let r,i=jn(n),o=Ct(void 0);try{return e()}finally{jn(i),Ct(o)}}function SD(){return gD()!==void 0||da()!=null}function _m(t){if(!SD())throw new V(-203,!1)}function Vx(t){return typeof t=="function"}var Gn=0,J=1,Q=2,dt=3,tn=4,Rt=5,So=6,Dl=7,Ke=8,Ao=9,Hn=10,Le=11,Ea=12,wT=13,Fo=14,jt=15,Ei=16,Eo=17,zn=18,Ql=19,AD=20,Pr=21,Xp=22,wi=23,Wt=24,eg=25,Fe=26,RD=1;var Ti=7,bl=8,Ro=9,lt=10;function xr(t){return Array.isArray(t)&&typeof t[RD]=="object"}function Kn(t){return Array.isArray(t)&&t[RD]===!0}function Im(t){return(t.flags&4)!==0}function Vo(t){return t.componentOffset>-1}function Yl(t){return(t.flags&1)===1}function pn(t){return!!t.template}function Cl(t){return(t[Q]&512)!==0}function jo(t){return(t[Q]&256)===256}var Ig=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function ND(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Ma=(()=>{let t=()=>MD;return t.ngInherit=!0,t})();function MD(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ux),jx}function jx(){let t=xD(this),e=t?.current;if(e){let n=t.previous;if(n===Ii)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Ux(t,e,n,r,i){let o=this.declaredInputs[r],s=xD(t)||Bx(t,{previous:Ii,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Ig(l&&l.currentValue,n,u===Ii),ND(t,e,i,n)}var PD="__ngSimpleChanges__";function xD(t){return t[PD]||null}function Bx(t,e){return t[PD]=e}var TT=null;var Te=function(t,e=null,n){TT?.(t,e,n)},$x="svg",Hx="math";function gn(t){for(;Array.isArray(t);)t=t[Gn];return t}function kD(t,e){return gn(e[t])}function In(t,e){return gn(e[t.index])}function Em(t,e){return t.data[e]}function wm(t,e){return t[e]}function Tm(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function mn(t,e){let n=e[t];return xr(n)?n:n[Gn]}function Dm(t){return(t[Q]&128)===128}function zx(t){return Kn(t[dt])}function kr(t,e){return e==null?null:t[e]}function OD(t){t[Eo]=0}function LD(t){t[Q]&1024||(t[Q]|=1024,Dm(t)&&Pa(t))}function qx(t,e){for(;t>0;)e=e[Fo],t--;return e}function Zl(t){return!!(t[Q]&9216||t[Wt]?.dirty)}function Eg(t){t[Hn].changeDetectionScheduler?.notify(8),t[Q]&64&&(t[Q]|=1024),Zl(t)&&Pa(t)}function Pa(t){t[Hn].changeDetectionScheduler?.notify(0);let e=Di(t);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!Dm(e)));)e=Di(e)}function FD(t,e){if(jo(t))throw new V(911,!1);t[Pr]===null&&(t[Pr]=[]),t[Pr].push(e)}function Wx(t,e){if(t[Pr]===null)return;let n=t[Pr].indexOf(e);n!==-1&&t[Pr].splice(n,1)}function Di(t){let e=t[dt];return Kn(e)?e[dt]:e}function bm(t){return t[Dl]??=[]}function Cm(t){return t.cleanup??=[]}function Gx(t,e,n,r){let i=bm(e);i.push(n),t.firstCreatePass&&Cm(t).push(r,i.length-1)}var oe={lFrame:zD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var wg=!1;function Kx(){return oe.lFrame.elementDepthCount}function Qx(){oe.lFrame.elementDepthCount++}function Yx(){oe.lFrame.elementDepthCount--}function Sm(){return oe.bindingsEnabled}function VD(){return oe.skipHydrationRootTNode!==null}function Zx(t){return oe.skipHydrationRootTNode===t}function Jx(){oe.skipHydrationRootTNode=null}function ie(){return oe.lFrame.lView}function Ve(){return oe.lFrame.tView}function hG(t){return oe.lFrame.contextLView=t,t[Ke]}function fG(t){return oe.lFrame.contextLView=null,t}function Nt(){let t=jD();for(;t!==null&&t.type===64;)t=t.parent;return t}function jD(){return oe.lFrame.currentTNode}function Xx(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Lr(t,e){let n=oe.lFrame;n.currentTNode=t,n.isParent=e}function Am(){return oe.lFrame.isParent}function Rm(){oe.lFrame.isParent=!1}function UD(){return oe.lFrame.contextLView}function BD(){return wg}function Sl(t){let e=wg;return wg=t,e}function Jl(){let t=oe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ek(){return oe.lFrame.bindingIndex}function tk(t){return oe.lFrame.bindingIndex=t}function xa(){return oe.lFrame.bindingIndex++}function Nm(t){let e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function nk(){return oe.lFrame.inI18n}function rk(t,e){let n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,Tg(e)}function ik(){return oe.lFrame.currentDirectiveIndex}function Tg(t){oe.lFrame.currentDirectiveIndex=t}function ok(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function sk(){return oe.lFrame.currentQueryIndex}function Mm(t){oe.lFrame.currentQueryIndex=t}function ak(t){let e=t[J];return e.type===2?e.declTNode:e.type===1?t[Rt]:null}function $D(t,e,n){if(n&re.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&re.Host);)if(i=ak(o),i===null||(o=o[Fo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=oe.lFrame=HD();return r.currentTNode=e,r.lView=t,!0}function Pm(t){let e=HD(),n=t[J];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function HD(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?zD(t):e}function zD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function qD(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var WD=qD;function xm(){let t=qD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ck(t){return(oe.lFrame.contextLView=qx(t,oe.lFrame.contextLView))[Ke]}function En(){return oe.lFrame.selectedIndex}function bi(t){oe.lFrame.selectedIndex=t}function GD(){let t=oe.lFrame;return Em(t.tView,t.selectedIndex)}function uk(){return oe.lFrame.currentNamespace}var KD=!0;function Xl(){return KD}function ed(t){KD=t}function lk(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=MD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function km(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function pl(t,e,n){QD(t,e,3,n)}function gl(t,e,n,r){(t[Q]&3)===n&&QD(t,e,n,r)}function tg(t,e){let n=t[Q];(n&3)===e&&(n&=16383,n+=1,t[Q]=n)}function QD(t,e,n,r){let i=r!==void 0?t[Eo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Eo]+=65536),(a<o||o==-1)&&(dk(t,n,e,u),t[Eo]=(t[Eo]&4294901760)+u+2),u++}function DT(t,e){Te(4,t,e);let n=ee(null);try{e.call(t)}finally{ee(n),Te(5,t,e)}}function dk(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Q]>>14<t[Eo]>>16&&(t[Q]&3)===e&&(t[Q]+=16384,DT(a,o)):DT(a,o)}var To=-1,Ci=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function hk(t){return(t.flags&8)!==0}function fk(t){return(t.flags&16)!==0}function pk(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];gk(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function YD(t){return t===3||t===4||t===6}function gk(t){return t.charCodeAt(0)===64}function No(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?bT(t,n,i,null,e[++r]):bT(t,n,i,null,null))}}return t}function bT(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function ZD(t){return t!==To}function Al(t){return t&32767}function mk(t){return t>>16}function Rl(t,e){let n=mk(t),r=e;for(;n>0;)r=r[Fo],n--;return r}var Dg=!0;function Nl(t){let e=Dg;return Dg=t,e}var yk=256,JD=yk-1,XD=5,vk=0,fn={};function _k(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(va)&&(r=n[va]),r==null&&(r=n[va]=vk++);let i=r&JD,o=1<<i;e.data[t+(i>>XD)]|=o}function Ml(t,e){let n=eb(t,e);if(n!==-1)return n;let r=e[J];r.firstCreatePass&&(t.injectorIndex=e.length,ng(r.data,t),ng(e,null),ng(r.blueprint,null));let i=Om(t,e),o=t.injectorIndex;if(ZD(i)){let s=Al(i),a=Rl(i,e),u=a[J].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function ng(t,e){t.push(0,0,0,0,0,0,0,0,e)}function eb(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Om(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=ob(i),r===null)return To;if(n++,i=i[Fo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return To}function bg(t,e,n){_k(t,e,n)}function Ik(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(YD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function tb(t,e,n){if(n&re.Optional||t!==void 0)return t;gm(e,"NodeInjector")}function nb(t,e,n,r){if(n&re.Optional&&r===void 0&&(r=null),(n&(re.Self|re.Host))===0){let i=t[Ao],o=Ct(void 0);try{return i?i.get(e,r,n&re.Optional):mD(e,r,n&re.Optional)}finally{Ct(o)}}return tb(r,e,n)}function rb(t,e,n,r=re.Default,i){if(t!==null){if(e[Q]&2048&&!(r&re.Self)){let s=Dk(t,e,n,r,fn);if(s!==fn)return s}let o=ib(t,e,n,r,fn);if(o!==fn)return o}return nb(e,n,r,i)}function ib(t,e,n,r,i){let o=wk(n);if(typeof o=="function"){if(!$D(e,t,r))return r&re.Host?tb(i,n,r):nb(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&re.Optional))gm(n);else return s}finally{WD()}}else if(typeof o=="number"){let s=null,a=eb(t,e),u=To,l=r&re.Host?e[jt][Rt]:null;for((a===-1||r&re.SkipSelf)&&(u=a===-1?Om(t,e):e[a+8],u===To||!ST(r,!1)?a=-1:(s=e[J],a=Al(u),e=Rl(u,e)));a!==-1;){let h=e[J];if(CT(o,a,h.data)){let p=Ek(a,e,n,s,r,l);if(p!==fn)return p}u=e[a+8],u!==To&&ST(r,e[J].data[a+8]===l)&&CT(o,a,e)?(s=h,a=Al(u),e=Rl(u,e)):a=-1}}return i}function Ek(t,e,n,r,i,o){let s=e[J],a=s.data[t+8],u=r==null?Vo(a)&&Dg:r!=s&&(a.type&3)!==0,l=i&re.Host&&o===a,h=ml(a,s,n,u,l);return h!==null?wa(e,s,h,a,i):fn}function ml(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let m=p;m<g;m++){let w=s[m];if(m<u&&n===w||m>=u&&w.type===n)return m}if(i){let m=s[u];if(m&&pn(m)&&m.type===n)return u}return null}function wa(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof Ci){let a=o;a.resolving&&pD(dx(s[n]));let u=Nl(a.canSeeViewProviders);a.resolving=!0;let l,h=a.injectImpl?Ct(a.injectImpl):null,p=$D(t,r,re.Default);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&lk(n,s[n],e)}finally{h!==null&&Ct(h),Nl(u),a.resolving=!1,WD()}}return o}function wk(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(va)?t[va]:void 0;return typeof e=="number"?e>=0?e&JD:Tk:e}function CT(t,e,n){let r=1<<t;return!!(n[e+(t>>XD)]&r)}function ST(t,e){return!(t&re.Self)&&!(t&re.Host&&e)}var vi=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return rb(this._tNode,this._lView,e,Gl(r),n)}};function Tk(){return new vi(Nt(),ie())}function Lm(t){return Ra(()=>{let e=t.prototype.constructor,n=e[_l]||Cg(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[_l]||Cg(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Cg(t){return uD(t)?()=>{let e=Cg(_t(t));return e&&e()}:_i(t)}function Dk(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Q]&2048&&!Cl(s);){let a=ib(o,s,n,r|re.Self,fn);if(a!==fn)return a;let u=o.parent;if(!u){let l=s[AD];if(l){let h=l.get(n,fn,r);if(h!==fn)return h}u=ob(s),s=s[Fo]}o=u}return i}function ob(t){let e=t[J],n=e.type;return n===2?e.declTNode:n===1?t[Rt]:null}function Fm(t){return Ik(Nt(),t)}function AT(t,e=null,n=null,r){let i=sb(t,e,n,r);return i.resolveInjectorInitializers(),i}function sb(t,e=null,n=null,r,i=new Set){let o=[n||It,Ax(t)];return r=r||(typeof t=="object"?void 0:At(t)),new Ia(o,e||vm(),r||null,i)}var Et=class t{static THROW_IF_NOT_FOUND=yi;static NULL=new Tl;static create(e,n){if(Array.isArray(e))return AT({name:""},n,e,"");{let r=e.name??"";return AT({name:r},e.parent,e.providers,r)}}static \u0275prov=H({token:t,providedIn:"any",factory:()=>K(ID)});static __NG_ELEMENT_ID__=-1};var bk=new B("");bk.__NG_ELEMENT_ID__=t=>{let e=Nt();if(e===null)throw new V(204,!1);if(e.type&2)return e.value;if(t&re.Optional)return null;throw new V(204,!1)};var ab=!1,Qn=(()=>{class t{static __NG_ELEMENT_ID__=Ck;static __NG_ENV_ID__=n=>n}return t})(),Pl=class extends Qn{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return jo(n)?(e(),()=>{}):(FD(n,e),()=>Wx(n,e))}};function Ck(){return new Pl(ie())}var Si=class{},Vm=new B("",{providedIn:"root",factory:()=>!1});var cb=new B(""),ub=new B(""),Yn=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new tt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})(),td=(()=>{class t{internalPendingTasks=x(Yn);scheduler=x(Si);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return _(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})(),Sg=class extends We{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,SD()&&(this.destroyRef=x(Qn,{optional:!0})??void 0,this.pendingTasks=x(Yn,{optional:!0})??void 0)}emit(e){let n=ee(null);try{super.next(e)}finally{ee(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Me&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},St=Sg;function Ta(...t){}function lb(t){let e,n;function r(){t=Ta;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function RT(t){return queueMicrotask(()=>t()),()=>{t=Ta}}var jm="isAngularZone",xl=jm+"_ID",Sk=0,_e=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new St(!1);onMicrotaskEmpty=new St(!1);onStable=new St(!1);onError=new St(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=ab}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Nk(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(jm)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new V(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Ak,Ta,Ta);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Ak={};function Um(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Rk(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){lb(()=>{t.callbackScheduled=!1,Ag(t),t.isCheckStableRunning=!0,Um(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Ag(t)}function Nk(t){let e=()=>{Rk(t)},n=Sk++;t._inner=t._inner.fork({name:"angular",properties:{[jm]:!0,[xl]:n,[xl+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(Mk(u))return r.invokeTask(o,s,a,u);try{return NT(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),MT(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return NT(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Pk(u)&&e(),MT(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Ag(t),Um(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Ag(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function NT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function MT(t){t._nesting--,Um(t)}var Rg=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new St;onMicrotaskEmpty=new St;onStable=new St;onError=new St;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Mk(t){return db(t,"__ignore_ng_zone__")}function Pk(t){return db(t,"__scheduler_tick__")}function db(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var yn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},xk=new B("",{providedIn:"root",factory:()=>{let t=x(_e),e=x(yn);return n=>t.runOutsideAngular(()=>e.handleError(n))}}),Ng=class{destroyed=!1;listeners=null;errorHandler=x(yn,{optional:!0});destroyRef=x(Qn);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new V(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed){console.warn(iD(953,!1));return}if(this.listeners===null)return;let n=ee(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{ee(n)}}};function pG(t){return new Ng}function PT(t,e){return sD(t,e)}function kk(t){return sD(oD,t)}var hb=(PT.required=kk,PT);function Ok(){return Uo(Nt(),ie())}function Uo(t,e){return new Fr(In(t,e))}var Fr=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Ok}return t})();function Lk(t){return t instanceof Fr?t.nativeElement:t}function fb(t,e){let n=Ap(t,e?.equal),r=n[Ot];return n.set=i=>la(r,i),n.update=i=>Rp(r,i),n.asReadonly=Fk.bind(n),n}function Fk(){let t=this[Ot];if(t.readonlyFn===void 0){let e=()=>this();e[Ot]=t,t.readonlyFn=e}return t.readonlyFn}function Vk(){return this._results[Symbol.iterator]()}var Mg=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new We}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=wx(e);(this._changesDetected=!Ex(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Vk};function pb(t){return(t.flags&128)===128}var gb=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(gb||{}),mb=new Map,jk=0;function Uk(){return jk++}function Bk(t){mb.set(t[Ql],t)}function Pg(t){mb.delete(t[Ql])}var xT="__ngContext__";function Bo(t,e){xr(e)?(t[xT]=e[Ql],Bk(e)):t[xT]=e}function yb(t){return _b(t[Ea])}function vb(t){return _b(t[tn])}function _b(t){for(;t!==null&&!Kn(t);)t=t[tn];return t}var xg;function Ib(t){xg=t}function $k(){if(xg!==void 0)return xg;if(typeof document<"u")return document;throw new V(210,!1)}var Bm=new B("",{providedIn:"root",factory:()=>Hk}),Hk="ng",$m=new B(""),Mi=new B("",{providedIn:"platform",factory:()=>"unknown"});var Hm=new B("",{providedIn:"root",factory:()=>$k().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var zk="h",qk="b";var Eb=!1,Wk=new B("",{providedIn:"root",factory:()=>Eb});var wb=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(wb||{}),nd=new B(""),kT=new Set;function $o(t){kT.has(t)||(kT.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Tb=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=Gk}return t})();function Gk(){return new Tb(ie(),Nt())}var Kk=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})();var Qk=(t,e,n,r)=>{};function Yk(t,e,n,r){Qk(t,e,n,r)}var Zk=()=>null;function Db(t,e,n=!1){return Zk(t,e,n)}function bb(t,e){let n=t.contentQueries;if(n!==null){let r=ee(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Mm(o),a.contentQueries(2,e[s],s)}}}finally{ee(r)}}}function kg(t,e,n){Mm(0);let r=ee(null);try{e(t,n)}finally{ee(r)}}function zm(t,e,n){if(Im(e)){let r=ee(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{ee(r)}}}var vn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(vn||{});var dl;function Jk(){if(dl===void 0&&(dl=null,mi.trustedTypes))try{dl=mi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return dl}function OT(t){return Jk()?.createScriptURL(t)||t}var kl=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rD})`}};function ka(t){return t instanceof kl?t.changingThisBreaksApplicationSecurity:t}function Cb(t,e){let n=Xk(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${rD})`)}return n===e}function Xk(t){return t instanceof kl&&t.getTypeName()||null}var eO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function tO(t){return t=String(t),t.match(eO)?t:"unsafe:"+t}var qm=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(qm||{});function nO(t){let e=Ab();return e?e.sanitize(qm.URL,t)||"":Cb(t,"URL")?ka(t):tO(Do(t))}function rO(t){let e=Ab();if(e)return OT(e.sanitize(qm.RESOURCE_URL,t)||"");if(Cb(t,"ResourceURL"))return OT(ka(t));throw new V(904,!1)}function iO(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?rO:nO}function Sb(t,e,n){return iO(e,n)(t)}function Ab(){let t=ie();return t&&t[Hn].sanitizer}var oO=/^>|^->|<!--|-->|--!>|<!-$/g,sO=/(<|>)/g,aO="\u200B$1\u200B";function cO(t){return t.replace(oO,e=>e.replace(sO,aO))}function Rb(t){return t instanceof Function?t():t}function uO(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var Nb="ng-template";function lO(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&uO(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Wm(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Wm(t){return t.type===4&&t.value!==Nb}function dO(t,e,n){let r=t.type===4&&!n?Nb:t.value;return e===r}function hO(t,e,n){let r=4,i=t.attrs,o=i!==null?gO(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!en(r)&&!en(u))return!1;if(s&&en(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!dO(t,u,n)||u===""&&e.length===1){if(en(r))return!1;s=!0}}else if(r&8){if(i===null||!lO(t,i,u,n)){if(en(r))return!1;s=!0}}else{let l=e[++a],h=fO(u,i,Wm(t),n);if(h===-1){if(en(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(en(r))return!1;s=!0}}}}return en(r)||s}function en(t){return(t&1)===0}function fO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return mO(e,t)}function Mb(t,e,n=!1){for(let r=0;r<e.length;r++)if(hO(t,e[r],n))return!0;return!1}function pO(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function gO(t){for(let e=0;e<t.length;e++){let n=t[e];if(YD(n))return e}return t.length}function mO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function yO(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function LT(t,e){return t?":not("+e.trim()+")":e}function vO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!en(s)&&(e+=LT(o,i),i=""),r=s,o=o||!en(r);n++}return i!==""&&(e+=LT(o,i)),e}function _O(t){return t.map(vO).join(",")}function IO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!en(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Ut={};function EO(t,e){return t.createText(e)}function wO(t,e,n){t.setValue(e,n)}function TO(t,e){return t.createComment(cO(e))}function Pb(t,e,n){return t.createElement(e,n)}function Ol(t,e,n,r,i){t.insertBefore(e,n,r,i)}function xb(t,e,n){t.appendChild(e,n)}function FT(t,e,n,r,i){r!==null?Ol(t,e,n,r,i):xb(t,e,n)}function DO(t,e,n){t.removeChild(null,e,n)}function bO(t,e,n){t.setAttribute(e,"style",n)}function CO(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function kb(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&pk(t,e,r),i!==null&&CO(t,e,i),o!==null&&bO(t,e,o)}function Gm(t,e,n,r,i,o,s,a,u,l,h){let p=Fe+r,g=p+i,m=SO(p,g),w=typeof l=="function"?l():l;return m[J]={type:t,blueprint:m,template:n,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:w,incompleteFirstPass:!1,ssrId:h}}function SO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ut);return n}function AO(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Gm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Km(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Gn]=i,p[Q]=r|4|128|8|64|1024,(l!==null||t&&t[Q]&2048)&&(p[Q]|=2048),OD(p),p[dt]=p[Fo]=t,p[Ke]=n,p[Hn]=s||t&&t[Hn],p[Le]=a||t&&t[Le],p[Ao]=u||t&&t[Ao]||null,p[Rt]=o,p[Ql]=Uk(),p[So]=h,p[AD]=l,p[jt]=e.type==2?t[jt]:p,p}function RO(t,e,n){let r=In(e,t),i=AO(n),o=t[Hn].rendererFactory,s=Qm(t,Km(t,i,null,Ob(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function Ob(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Lb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Qm(t,e){return t[Ea]?t[wT][tn]=e:t[Ea]=e,t[wT]=e,e}function gG(t=1){Fb(Ve(),ie(),En()+t,!1)}function Fb(t,e,n,r){if(!r)if((e[Q]&3)===3){let o=t.preOrderCheckHooks;o!==null&&pl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&gl(e,o,0,n)}bi(n)}var rd=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(rd||{});function Og(t,e,n,r){let i=ee(null);try{let[o,s,a]=t.inputs[n],u=null;(s&rd.SignalBased)!==0&&(u=e[o][Ot]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):ND(e,u,o,r)}finally{ee(i)}}function Vb(t,e,n,r,i){let o=En(),s=r&2;try{bi(-1),s&&e.length>Fe&&Fb(t,e,Fe,!1),Te(s?2:0,i),n(r,i)}finally{bi(o),Te(s?3:1,i)}}function id(t,e,n){LO(t,e,n),(n.flags&64)===64&&FO(t,e,n)}function Ym(t,e,n=In){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function NO(t,e,n,r){let o=r.get(Wk,Eb)||n===vn.ShadowDom,s=t.selectRootElement(e,o);return MO(s),s}function MO(t){PO(t)}var PO=()=>null;function xO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function kO(t,e,n,r,i,o,s,a){if(!a&&Jm(e,t,n,r,i)){Vo(e)&&OO(n,e.index);return}if(e.type&3){let u=In(e,n);r=xO(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function OO(t,e){let n=mn(e,t);n[Q]&16||(n[Q]|=64)}function LO(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Vo(n)&&RO(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Ml(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=wa(e,t,s,n);if(Bo(u,e),o!==null&&BO(e,s-r,u,a,n,o),pn(a)){let l=mn(n.index,e);l[Ke]=wa(e,t,s,n)}}}function FO(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=ik();try{bi(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Tg(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&VO(u,l)}}finally{bi(-1),Tg(s)}}function VO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Zm(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];Mb(e,o.selectors,!1)&&(r??=[],pn(o)?r.unshift(o):r.push(o))}return r}function jO(t,e,n,r,i,o){let s=In(t,e);UO(e[Le],s,o,t.value,n,r,i)}function UO(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Do(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function BO(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Og(r,n,u,l)}}function $O(t,e){let n=t[Ao],r=n?n.get(yn,null):null;r&&r.handleError(e)}function Jm(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Og(p,n[l],h,i),a=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];Og(h,l,r,i),a=!0}return a}function HO(t,e){let n=mn(e,t),r=n[J];zO(r,n);let i=n[Gn];i!==null&&n[So]===null&&(n[So]=Db(i,n[Ao])),Te(18),Xm(r,n,n[Ke]),Te(19,n[Ke])}function zO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Xm(t,e,n){Pm(e);try{let r=t.viewQuery;r!==null&&kg(1,r,n);let i=t.template;i!==null&&Vb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[zn]?.finishViewCreation(t),t.staticContentQueries&&bb(t,e),t.staticViewQueries&&kg(2,t.viewQuery,n);let o=t.components;o!==null&&qO(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Q]&=-5,xm()}}function qO(t,e){for(let n=0;n<e.length;n++)HO(t,e[n])}function Oa(t,e,n,r){let i=ee(null);try{let o=e.tView,a=t[Q]&4096?4096:16,u=Km(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Ei]=l;let h=t[zn];return h!==null&&(u[zn]=h.createEmbeddedView(o)),Xm(o,u,n),u}finally{ee(i)}}function Mo(t,e){return!e||e.firstChild===null||pb(t)}var WO;function ey(t,e){return WO(t,e)}var qn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(qn||{});function ty(t){return(t.flags&32)===32}function wo(t,e,n,r,i){if(r!=null){let o,s=!1;Kn(r)?o=r:xr(r)&&(s=!0,r=r[Gn]);let a=gn(r);t===0&&n!==null?i==null?xb(e,n,a):Ol(e,n,a,i||null,!0):t===1&&n!==null?Ol(e,n,a,i||null,!0):t===2?DO(e,a,s):t===3&&e.destroyNode(a),o!=null&&n1(e,t,o,n,i)}}function GO(t,e){jb(t,e),e[Gn]=null,e[Rt]=null}function KO(t,e,n,r,i,o){r[Gn]=i,r[Rt]=e,ad(t,r,n,1,i,o)}function jb(t,e){e[Hn].changeDetectionScheduler?.notify(9),ad(t,e,e[Le],2,null,null)}function QO(t){let e=t[Ea];if(!e)return rg(t[J],t);for(;e;){let n=null;if(xr(e))n=e[Ea];else{let r=e[lt];r&&(n=r)}if(!n){for(;e&&!e[tn]&&e!==t;)xr(e)&&rg(e[J],e),e=e[dt];e===null&&(e=t),xr(e)&&rg(e[J],e),n=e&&e[tn]}e=n}}function ny(t,e){let n=t[Ro],r=n.indexOf(e);n.splice(r,1)}function od(t,e){if(jo(e))return;let n=e[Le];n.destroyNode&&ad(t,e,n,3,null,null),QO(e)}function rg(t,e){if(jo(e))return;let n=ee(null);try{e[Q]&=-129,e[Q]|=256,e[Wt]&&ua(e[Wt]),ZO(t,e),YO(t,e),e[J].type===1&&e[Le].destroy();let r=e[Ei];if(r!==null&&Kn(e[dt])){r!==e[dt]&&ny(r,e);let i=e[zn];i!==null&&i.detachView(t)}Pg(e)}finally{ee(n)}}function YO(t,e){let n=t.cleanup,r=e[Dl];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[Dl]=null);let i=e[Pr];if(i!==null){e[Pr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[wi];if(o!==null){e[wi]=null;for(let s of o)s.destroy()}}function ZO(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ci)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Te(4,a,u);try{u.call(a)}finally{Te(5,a,u)}}else{Te(4,i,o);try{o.call(i)}finally{Te(5,i,o)}}}}}function Ub(t,e,n){return JO(t,e.parent,n)}function JO(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Gn];if(Vo(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===vn.None||i===vn.Emulated)return null}return In(r,n)}function Bb(t,e,n){return e1(t,e,n)}function XO(t,e,n){return t.type&40?In(t,n):null}var e1=XO,VT;function sd(t,e,n,r){let i=Ub(t,r,e),o=e[Le],s=r.parent||e[Rt],a=Bb(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)FT(o,i,n[u],a,!1);else FT(o,i,n,a,!1);VT!==void 0&&VT(o,r,e,n,i)}function ya(t,e){if(e!==null){let n=e.type;if(n&3)return In(e,t);if(n&4)return Lg(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ya(t,r);{let i=t[e.index];return Kn(i)?Lg(-1,i):gn(i)}}else{if(n&128)return ya(t,e.next);if(n&32)return ey(e,t)()||gn(t[e.index]);{let r=$b(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Di(t[jt]);return ya(i,r)}else return ya(t,e.next)}}}return null}function $b(t,e){if(e!==null){let r=t[jt][Rt],i=e.projection;return r.projection[i]}return null}function Lg(t,e){let n=lt+t+1;if(n<e.length){let r=e[n],i=r[J].firstChild;if(i!==null)return ya(r,i)}return e[Ti]}function ry(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Bo(gn(a),r),n.flags|=2),!ty(n))if(u&8)ry(t,e,n.child,r,i,o,!1),wo(e,t,i,a,o);else if(u&32){let l=ey(n,r),h;for(;h=l();)wo(e,t,i,h,o);wo(e,t,i,a,o)}else u&16?Hb(t,e,r,n,i,o):wo(e,t,i,a,o);n=s?n.projectionNext:n.next}}function ad(t,e,n,r,i,o){ry(n,r,t.firstChild,e,i,o,!1)}function t1(t,e,n){let r=e[Le],i=Ub(t,n,e),o=n.parent||e[Rt],s=Bb(o,n,e);Hb(r,0,e,n,i,s)}function Hb(t,e,n,r,i,o){let s=n[jt],u=s[Rt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];wo(e,t,i,h,o)}else{let l=u,h=s[dt];pb(r)&&(l.flags|=128),ry(t,e,l,h,i,o,!0)}}function n1(t,e,n,r,i){let o=n[Ti],s=gn(n);o!==s&&wo(e,t,r,o,i);for(let a=lt;a<n.length;a++){let u=n[a];ad(u[J],u,t,e,r,o)}}function r1(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:qn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=qn.Important),t.setStyle(n,r,i,o))}}function Ll(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(gn(o)),Kn(o)&&i1(o,r);let s=n.type;if(s&8)Ll(t,e,n.child,r);else if(s&32){let a=ey(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=$b(e,n);if(Array.isArray(a))r.push(...a);else{let u=Di(e[jt]);Ll(u[J],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function i1(t,e){for(let n=lt;n<t.length;n++){let r=t[n],i=r[J].firstChild;i!==null&&Ll(r[J],r,i,e)}t[Ti]!==t[Gn]&&e.push(t[Ti])}function zb(t){if(t[eg]!==null){for(let e of t[eg])e.impl.addSequence(e);t[eg].length=0}}var qb=[];function o1(t){return t[Wt]??s1(t)}function s1(t){let e=qb.pop()??Object.create(c1);return e.lView=t,e}function a1(t){t.lView[Wt]!==t&&(t.lView=null,qb.push(t))}var c1=me(F({},ao),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Pa(t.lView)},consumerOnSignalRead(){this.lView[Wt]=this}});function u1(t){let e=t[Wt]??Object.create(l1);return e.lView=t,e}var l1=me(F({},ao),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Di(t.lView);for(;e&&!Wb(e[J]);)e=Di(e);e&&LD(e)},consumerOnSignalRead(){this.lView[Wt]=this}});function Wb(t){return t.type!==2}function Gb(t){if(t[wi]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[wi])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[Q]&8192)}}var d1=100;function Kb(t,e=!0,n=0){let i=t[Hn].rendererFactory,o=!1;o||i.begin?.();try{h1(t,n)}catch(s){throw e&&$O(t,s),s}finally{o||i.end?.()}}function h1(t,e){let n=BD();try{Sl(!0),Fg(t,e);let r=0;for(;Zl(t);){if(r===d1)throw new V(103,!1);r++,Fg(t,1)}}finally{Sl(n)}}function f1(t,e,n,r){if(jo(e))return;let i=e[Q],o=!1,s=!1;Pm(e);let a=!0,u=null,l=null;o||(Wb(t)?(l=o1(e),u=ca(l)):Tp()===null?(a=!1,l=u1(e),u=ca(l)):e[Wt]&&(ua(e[Wt]),e[Wt]=null));try{OD(e),tk(t.bindingStartIndex),n!==null&&Vb(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let m=t.preOrderCheckHooks;m!==null&&pl(e,m,null)}else{let m=t.preOrderHooks;m!==null&&gl(e,m,0,null),tg(e,0)}if(s||p1(e),Gb(e),Qb(e,0),t.contentQueries!==null&&bb(t,e),!o)if(h){let m=t.contentCheckHooks;m!==null&&pl(e,m)}else{let m=t.contentHooks;m!==null&&gl(e,m,1),tg(e,1)}m1(t,e);let p=t.components;p!==null&&Zb(e,p,0);let g=t.viewQuery;if(g!==null&&kg(2,g,r),!o)if(h){let m=t.viewCheckHooks;m!==null&&pl(e,m)}else{let m=t.viewHooks;m!==null&&gl(e,m,2),tg(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Xp]){for(let m of e[Xp])m();e[Xp]=null}o||(zb(e),e[Q]&=-73)}catch(h){throw o||Pa(e),h}finally{l!==null&&(Ru(l,u),a&&a1(l)),xm()}}function Qb(t,e){for(let n=yb(t);n!==null;n=vb(n))for(let r=lt;r<n.length;r++){let i=n[r];Yb(i,e)}}function p1(t){for(let e=yb(t);e!==null;e=vb(e)){if(!(e[Q]&2))continue;let n=e[Ro];for(let r=0;r<n.length;r++){let i=n[r];LD(i)}}}function g1(t,e,n){Te(18);let r=mn(e,t);Yb(r,n),Te(19,r[Ke])}function Yb(t,e){Dm(t)&&Fg(t,e)}function Fg(t,e){let r=t[J],i=t[Q],o=t[Wt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Nu(o)),s||=!1,o&&(o.dirty=!1),t[Q]&=-9217,s)f1(r,t,r.template,t[Ke]);else if(i&8192){Gb(t),Qb(t,1);let a=r.components;a!==null&&Zb(t,a,1),zb(t)}}function Zb(t,e,n){for(let r=0;r<e.length;r++)g1(t,e[r],n)}function m1(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)bi(~i);else{let o=i,s=n[++r],a=n[++r];rk(s,o);let u=e[o];Te(24,u),a(2,u),Te(25,u)}}}finally{bi(-1)}}function iy(t,e){let n=BD()?64:1088;for(t[Hn].changeDetectionScheduler?.notify(e);t;){t[Q]|=n;let r=Di(t);if(Cl(t)&&!r)return t;t=r}return null}function Jb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Xb(t,e){let n=lt+e;if(n<t.length)return t[n]}function La(t,e,n,r=!0){let i=e[J];if(y1(i,e,t,n),r){let s=Lg(n,t),a=e[Le],u=a.parentNode(t[Ti]);u!==null&&KO(i,t[Rt],a,e,u,s)}let o=e[So];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function eC(t,e){let n=Da(t,e);return n!==void 0&&od(n[J],n),n}function Da(t,e){if(t.length<=lt)return;let n=lt+e,r=t[n];if(r){let i=r[Ei];i!==null&&i!==t&&ny(i,r),e>0&&(t[n-1][tn]=r[tn]);let o=wl(t,lt+e);GO(r[J],r);let s=o[zn];s!==null&&s.detachView(o[J]),r[dt]=null,r[tn]=null,r[Q]&=-129}return r}function y1(t,e,n,r){let i=lt+r,o=n.length;r>0&&(n[i-1][tn]=e),r<o-lt?(e[tn]=n[i],vD(n,lt+r,e)):(n.push(e),e[tn]=null),e[dt]=n;let s=e[Ei];s!==null&&n!==s&&tC(s,e);let a=e[zn];a!==null&&a.insertView(t),Eg(e),e[Q]|=128}function tC(t,e){let n=t[Ro],r=e[dt];if(xr(r))t[Q]|=2;else{let i=r[dt][jt];e[jt]!==i&&(t[Q]|=2)}n===null?t[Ro]=[e]:n.push(e)}var ba=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[J];return Ll(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Ke]}set context(e){this._lView[Ke]=e}get destroyed(){return jo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[dt];if(Kn(e)){let n=e[bl],r=n?n.indexOf(this):-1;r>-1&&(Da(e,r),wl(n,r))}this._attachedToViewContainer=!1}od(this._lView[J],this._lView)}onDestroy(e){FD(this._lView,e)}markForCheck(){iy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){Eg(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,Kb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Cl(this._lView),n=this._lView[Ei];n!==null&&!e&&ny(n,this._lView),jb(this._lView[J],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let n=Cl(this._lView),r=this._lView[Ei];r!==null&&!n&&tC(r,this._lView),Eg(this._lView)}};var Ai=(()=>{class t{static __NG_ELEMENT_ID__=I1}return t})(),v1=Ai,_1=class extends v1{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Oa(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ba(i)}};function I1(){return cd(Nt(),ie())}function cd(t,e){return t.type&4?new _1(e,t,Uo(t,e)):null}function Ho(t,e,n,r,i){let o=t.data[e];if(o===null)o=E1(t,e,n,r,i),nk()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Xx();o.injectorIndex=s===null?-1:s.injectorIndex}return Lr(o,!0),o}function E1(t,e,n,r,i){let o=jD(),s=Am(),a=s?o:o&&o.parent,u=t.data[e]=T1(t,a,n,e,r,i);return w1(t,u,o,s),u}function w1(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function T1(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return VD()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var vG=new RegExp(`^(\\d+)*(${qk}|${zk})*(.*)`);var D1=()=>null;function Po(t,e){return D1(t,e)}var b1=class{},nC=class{},Vg=class{resolveComponentFactory(e){throw Error(`No component factory found for ${At(e)}.`)}},ud=class{static NULL=new Vg},xo=class{},ld=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>C1()}return t})();function C1(){let t=ie(),e=Nt(),n=mn(e.index,t);return(xr(n)?n:t)[Le]}var S1=(()=>{class t{static \u0275prov=H({token:t,providedIn:"root",factory:()=>null})}return t})();var ig={},jg=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Gl(r);let i=this.injector.get(e,ig,r);return i!==ig||n===ig?i:this.parentInjector.get(e,n,r)}};function Ug(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=fg(i,a);else if(o==2){let u=a,l=e[++s];r=fg(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function xe(t,e=re.Default){let n=ie();if(n===null)return K(t,e);let r=Nt();return rb(r,n,_t(t),e)}function oy(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a,u=null,l=null,h=R1(s);h===null?a=s:[a,u,l]=h,P1(t,e,n,a,o,u,l)}o!==null&&r!==null&&A1(n,r,o)}function A1(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new V(-301,!1);r.push(e[i],o)}}function R1(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&pn(a)&&(e=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,N1(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function N1(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function M1(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function P1(t,e,n,r,i,o,s){let a=r.length,u=!1;for(let g=0;g<a;g++){let m=r[g];!u&&pn(m)&&(u=!0,M1(t,n,g)),bg(Ml(n,e),t,m.type)}V1(n,t.data.length,a);for(let g=0;g<a;g++){let m=r[g];m.providersResolver&&m.providersResolver(m)}let l=!1,h=!1,p=Lb(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let g=0;g<a;g++){let m=r[g];if(n.mergedAttrs=No(n.mergedAttrs,m.hostAttrs),k1(t,n,e,p,m),F1(p,m,i),s!==null&&s.has(m)){let[A,R]=s.get(m);n.directiveToIndex.set(m.type,[p,A+n.directiveStart,R+n.directiveStart])}else(o===null||!o.has(m))&&n.directiveToIndex.set(m.type,p);m.contentQueries!==null&&(n.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(n.flags|=64);let w=m.type.prototype;!l&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(w.ngOnChanges||w.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}x1(t,n,o)}function x1(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))jT(0,e,i,r),jT(1,e,i,r),BT(e,r,!1);else{let o=n.get(i);UT(0,e,o,r),UT(1,e,o,r),BT(e,r,!0)}}}function jT(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),rC(e,o)}}function UT(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),rC(e,s)}}function rC(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function BT(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Wm(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function k1(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=_i(i.type,!0)),s=new Ci(o,pn(i),xe);t.blueprint[r]=s,n[r]=s,O1(t,e,r,Lb(t,n,i.hostVars,Ut),i)}function O1(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;L1(s)!=a&&s.push(a),s.push(n,r,o)}}function L1(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function F1(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;pn(e)&&(n[""]=t)}}function V1(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function iC(t,e,n,r,i,o,s,a){let u=e.consts,l=kr(u,s),h=Ho(e,t,2,r,l);return o&&oy(e,n,h,kr(u,a),i),h.mergedAttrs=No(h.mergedAttrs,h.attrs),h.attrs!==null&&Ug(h,h.attrs,!1),h.mergedAttrs!==null&&Ug(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function oC(t,e){km(t,e),Im(e)&&t.queries.elementEnd(e)}var Fl=class extends ud{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=bo(e);return new Ca(n,this.ngModule)}};function j1(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&rd.SignalBased)!==0};return i&&(o.transform=i),o})}function U1(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function B1(t,e,n){let r=e instanceof rt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new jg(n,r):n}function $1(t){let e=t.get(xo,null);if(e===null)throw new V(407,!1);let n=t.get(S1,null),r=t.get(Si,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function H1(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return Pb(e,n,n==="svg"?$x:n==="math"?Hx:null)}var Ca=class extends nC{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=j1(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=U1(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=_O(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){Te(22);let o=ee(null);try{let s=this.componentDef,a=r?["ng-version","19.2.14"]:IO(this.componentDef.selectors[0]),u=Gm(0,null,null,1,0,null,null,null,null,[a],null),l=B1(s,i||this.ngModule,e),h=$1(l),p=h.rendererFactory.createRenderer(null,s),g=r?NO(p,r,s.encapsulation,l):H1(s,p),m=Km(null,u,null,512|Ob(s),null,null,h,p,l,null,Db(g,l,!0));m[Fe]=g,Pm(m);let w=null;try{let A=iC(Fe,u,m,"#host",()=>[this.componentDef],!0,0);g&&(kb(p,g,A),Bo(g,m)),id(u,m,A),zm(u,A,m),oC(u,A),n!==void 0&&z1(A,this.ngContentSelectors,n),w=mn(A.index,m),m[Ke]=w[Ke],Xm(u,m,null)}catch(A){throw w!==null&&Pg(w),Pg(m),A}finally{Te(23),xm()}return new Bg(this.componentType,m)}finally{ee(o)}}},Bg=class extends b1{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=Em(n[J],Fe),this.location=Uo(this._tNode,n),this.instance=mn(this._tNode.index,n)[Ke],this.hostView=this.changeDetectorRef=new ba(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Jm(r,i[J],i,e,n);this.previousInputValues.set(e,n);let s=mn(r.index,i);iy(s,1)}get injector(){return new vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function z1(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Vr=(()=>{class t{static __NG_ELEMENT_ID__=q1}return t})();function q1(){let t=Nt();return aC(t,ie())}var W1=Vr,sC=class extends W1{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Uo(this._hostTNode,this._hostLView)}get injector(){return new vi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Om(this._hostTNode,this._hostLView);if(ZD(e)){let n=Rl(e,this._hostLView),r=Al(e),i=n[J].data[r+8];return new vi(i,n)}else return new vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=$T(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-lt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Po(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Mo(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!Vx(e),a;if(s)a=n;else{let w=n||{};a=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}let u=s?e:new Ca(bo(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let A=(s?l:this.parentInjector).get(rt,null);A&&(o=A)}let h=bo(u.componentType??{}),p=Po(this._lContainer,h?.id??null),g=p?.firstChild??null,m=u.create(l,i,g,o);return this.insertImpl(m.hostView,a,Mo(this._hostTNode,p)),m}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(zx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[dt],l=new sC(u,u[Rt],u[dt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return La(s,i,o,r),e.attachToViewContainerRef(),vD(og(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=$T(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Da(this._lContainer,n);r&&(wl(og(this._lContainer),n),od(r[J],r))}detach(e){let n=this._adjustIndex(e,-1),r=Da(this._lContainer,n);return r&&wl(og(this._lContainer),n)!=null?new ba(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function $T(t){return t[bl]}function og(t){return t[bl]||(t[bl]=[])}function aC(t,e){let n,r=e[t.index];return Kn(r)?n=r:(n=Jb(r,e,null,t),e[t.index]=n,Qm(e,n)),K1(n,e,t,r),new sC(n,t,e)}function G1(t,e){let n=t[Le],r=n.createComment(""),i=In(e,t),o=n.parentNode(i);return Ol(n,o,r,n.nextSibling(i),!1),r}var K1=Z1,Q1=()=>!1;function Y1(t,e,n){return Q1(t,e,n)}function Z1(t,e,n,r){if(t[Ti])return;let i;n.type&8?i=gn(r):i=G1(e,n),t[Ti]=i}var $g=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Hg=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)lC(e,n).matches!==null&&this.queries[n].setDirty()}},zg=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=iL(e):this.predicate=e}},qg=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Wg=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,J1(n,o)),this.matchTNodeWithReadOption(e,n,ml(n,e,o,!1,!1))}else r===Ai?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,ml(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Fr||i===Vr||i===Ai&&n.type&4)this.addMatch(n.index,-2);else{let o=ml(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function J1(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function X1(t,e){return t.type&11?Uo(t,e):t.type&4?cd(t,e):null}function eL(t,e,n,r){return n===-1?X1(e,t):n===-2?tL(t,e,r):wa(t,t[J],n,e)}function tL(t,e,n){if(n===Fr)return Uo(e,t);if(n===Ai)return cd(e,t);if(n===Vr)return aC(e,t)}function cC(t,e,n,r){let i=e[zn].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(eL(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Gg(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=cC(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=lt;p<h.length;p++){let g=h[p];g[Ei]===g[dt]&&Gg(g[J],g,l,r)}if(h[Ro]!==null){let p=h[Ro];for(let g=0;g<p.length;g++){let m=p[g];Gg(m[J],m,l,r)}}}}}return r}function uC(t,e){return t[zn].queries[e].queryList}function nL(t,e,n){let r=new Mg((n&4)===4);return Gx(t,e,r,r.destroy),(e[zn]??=new Hg).queries.push(new $g(r))-1}function rL(t,e,n){let r=Ve();return r.firstCreatePass&&(oL(r,new zg(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),nL(r,ie(),e)}function iL(t){return t.split(",").map(e=>e.trim())}function oL(t,e,n){t.queries===null&&(t.queries=new qg),t.queries.track(new Wg(e,n))}function lC(t,e){return t.queries.getByIndex(e)}function sL(t,e){let n=t[J],r=lC(n,e);return r.crossesNgTemplate?Gg(n,t,e,[]):cC(n,t,r,e)}function dC(t,e,n){let r,i=xu(()=>{r._dirtyCounter();let o=lL(r,t);if(e&&o===void 0)throw new V(-951,!1);return o});return r=i[Ot],r._dirtyCounter=fb(0),r._flatValue=void 0,i}function aL(t){return dC(!0,!1,t)}function cL(t){return dC(!0,!0,t)}function uL(t,e){let n=t[Ot];n._lView=ie(),n._queryIndex=e,n._queryList=uC(n._lView,e),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function lL(t,e){let n=t._lView,r=t._queryIndex;if(n===void 0||r===void 0||n[Q]&4)return e?void 0:It;let i=uC(n,r),o=sL(n,r);return i.reset(o,Lk),e?i.first:i._changesDetected||t._flatValue===void 0?t._flatValue=i.toArray():t._flatValue}function HT(t,e){return aL(e)}function dL(t,e){return cL(e)}var TG=(HT.required=dL,HT);var ko=class{},sy=class{};var Kg=class extends ko{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Fl(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=wD(e);this._bootstrapComponents=Rb(o.bootstrap),this._r3Injector=sb(e,n,[{provide:ko,useValue:this},{provide:ud,useValue:this.componentFactoryResolver},...r],At(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Qg=class extends sy{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Kg(this.moduleType,e,[])}};var Vl=class extends ko{injector;componentFactoryResolver=new Fl(this);instance=null;constructor(e){super();let n=new Ia([...e.providers,{provide:ko,useValue:this},{provide:ud,useValue:this.componentFactoryResolver}],e.parent||vm(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function dd(t,e,n=null){return new Vl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var hL=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=TD(!1,n.type),i=r.length>0?dd([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=H({token:t,providedIn:"environment",factory:()=>new t(K(rt))})}return t})();function hC(t){return Ra(()=>{let e=pC(t),n=me(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===gb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(hL).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||vn.Emulated,styles:t.styles||It,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&$o("NgStandalone"),gC(n);let r=t.dependencies;return n.directiveDefs=zT(r,!1),n.pipeDefs=zT(r,!0),n.id=yL(n),n})}function fL(t){return bo(t)||Cx(t)}function pL(t){return t!==null}function zo(t){return Ra(()=>({type:t.type,bootstrap:t.bootstrap||It,declarations:t.declarations||It,imports:t.imports||It,exports:t.exports||It,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function gL(t,e){if(t==null)return Ii;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=rd.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function mL(t){if(t==null)return Ii;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function jr(t){return Ra(()=>{let e=pC(t);return gC(e),e})}function fC(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function pC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Ii,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||It,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gL(t.inputs,e),outputs:mL(t.outputs),debugInfo:null}}function gC(t){t.features?.forEach(e=>e(t))}function zT(t,e){if(!t)return null;let n=e?Sx:fL;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(pL)}function yL(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function vL(t){return Object.getPrototypeOf(t.prototype).constructor}function _L(t){let e=vL(t.type),n=!0,r=[t];for(;e;){let i;if(pn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=sg(t.inputs),s.declaredInputs=sg(t.declaredInputs),s.outputs=sg(t.outputs);let a=i.hostBindings;a&&DL(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&wL(t,u),l&&TL(t,l),IL(t,i),rx(t.outputs,i.outputs),pn(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===_L&&(n=!1)}}e=Object.getPrototypeOf(e)}EL(r)}function IL(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function EL(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=No(i.hostAttrs,n=No(n,i.hostAttrs))}}function sg(t){return t===Ii?{}:t===It?[]:t}function wL(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function TL(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function DL(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function mC(t){return CL(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function bL(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function CL(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function ay(t,e,n){return t[e]=n}function SL(t,e){return t[e]}function _n(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function yC(t,e,n,r){let i=_n(t,e,n);return _n(t,e+1,r)||i}function AL(t,e,n,r,i,o,s,a,u){let l=e.consts,h=Ho(e,t,4,s||null,a||null);Sm()&&oy(e,n,h,kr(l,u),Zm),h.mergedAttrs=No(h.mergedAttrs,h.attrs),km(e,h);let p=h.tView=Gm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function jl(t,e,n,r,i,o,s,a,u,l){let h=n+Fe,p=e.firstCreatePass?AL(h,e,t,r,i,o,s,a,u):e.data[h];Lr(p,!1);let g=NL(e,t,p,n);Xl()&&sd(e,t,g,p),Bo(g,t);let m=Jb(g,t,g,p);return t[h]=m,Qm(t,m),Y1(m,p,t),Yl(p)&&id(e,t,p),u!=null&&Ym(t,p,l),p}function RL(t,e,n,r,i,o,s,a){let u=ie(),l=Ve(),h=kr(l.consts,o);return jl(u,l,t,e,n,r,i,h,s,a),RL}var NL=ML;function ML(t,e,n,r){return ed(!0),e[Le].createComment("")}var vC=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var _C=new B("");var IC=(()=>{class t{static \u0275prov=H({token:t,providedIn:"root",factory:()=>new Yg})}return t})(),Yg=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function Fa(t){return!!t&&typeof t.then=="function"}function EC(t){return!!t&&typeof t.subscribe=="function"}var PL=new B("");var wC=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=x(PL,{optional:!0})??[];injector=x(Et);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=it(this.injector,i);if(Fa(o))n.push(o);else if(EC(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),cy=new B("");function xL(){Sp(()=>{throw new V(600,!1)})}function kL(t){return t.isBoundToModule}var OL=10;var Ri=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(xk);afterRenderManager=x(Kk);zonelessEnabled=x(Vm);rootEffectScheduler=x(IC);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new We;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=x(Yn).hasPendingTasks.pipe(se(n=>!n));constructor(){x(nd,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=x(rt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Et.NULL){Te(10);let o=n instanceof nC;if(!this._injector.get(wC).done){let m="";throw new V(405,m)}let a;o?a=n:a=this._injector.get(ud).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let u=kL(a)?void 0:this._injector.get(ko),l=r||a.selector,h=a.create(i,[],l,u),p=h.location.nativeElement,g=h.injector.get(_C,null);return g?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),yl(this.components,h),g?.unregisterApplication(p)}),this._loadComponent(h),Te(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Te(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(wb.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new V(101,!1);let n=ee(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ee(n),this.afterTick.next(),Te(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(xo,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<OL;)Te(14),this.synchronizeOnce(),Te(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)LL(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Zl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;yl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(cy,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>yl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new V(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yl(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function LL(t,e,n,r){if(!n&&!Zl(t))return;Kb(t,e,n&&!r?0:1)}function uy(t,e,n,r){let i=ie(),o=xa();if(_n(i,o,e)){let s=Ve(),a=GD();jO(a,i,t,e,n,r)}return uy}function FL(t,e,n,r){return _n(t,xa(),n)?e+Do(n)+r:Ut}function VL(t,e,n,r,i,o){let s=ek(),a=yC(t,s,n,i);return Nm(2),a?e+Do(n)+r+Do(i)+o:Ut}function hl(t,e){return t<<17|e<<2}function Ni(t){return t>>17&32767}function jL(t){return(t&2)==2}function UL(t,e){return t&131071|e<<17}function Zg(t){return t|2}function Oo(t){return(t&131068)>>2}function ag(t,e){return t&-131069|e<<2}function BL(t){return(t&1)===1}function Jg(t){return t|1}function $L(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ni(s),u=Oo(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Na(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let g=Ni(t[a+1]);t[r+1]=hl(g,a),g!==0&&(t[g+1]=ag(t[g+1],r)),t[a+1]=UL(t[a+1],r)}else t[r+1]=hl(a,0),a!==0&&(t[a+1]=ag(t[a+1],r)),a=r;else t[r+1]=hl(u,0),a===0?a=r:t[u+1]=ag(t[u+1],r),u=r;l&&(t[r+1]=Zg(t[r+1])),qT(t,h,r,!0),qT(t,h,r,!1),HL(e,h,t,r,o),s=hl(a,u),o?e.classBindings=s:e.styleBindings=s}function HL(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Na(o,e)>=0&&(n[r+1]=Jg(n[r+1]))}function qT(t,e,n,r){let i=t[n+1],o=e===null,s=r?Ni(i):Oo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];zL(u,e)&&(a=!0,t[s+1]=r?Jg(l):Zg(l)),s=r?Ni(l):Oo(l)}a&&(t[n+1]=r?Zg(i):Jg(i))}function zL(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Na(t,e)>=0:!1}var vt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qL(t){return t.substring(vt.key,vt.keyEnd)}function WL(t){return t.substring(vt.value,vt.valueEnd)}function GL(t){return KL(t),TC(t,Ul(t,0,vt.textEnd))}function TC(t,e){let n=vt.textEnd,r=vt.key=Ul(t,e,n);return n===r?-1:(r=vt.keyEnd=QL(t,r,n),r=WT(t,r,n,58),r=vt.value=Ul(t,r,n),r=vt.valueEnd=YL(t,r,n),WT(t,r,n,59))}function KL(t){vt.key=0,vt.keyEnd=0,vt.value=0,vt.valueEnd=0,vt.textEnd=t.length}function Ul(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function QL(t,e,n){let r;for(;e<n&&((r=t.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function WT(t,e,n,r){return e=Ul(t,e,n),e<n&&e++,e}function YL(t,e,n){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<n;){let u=t.charCodeAt(s++);if(u===59)return a;u===34||u===39?a=s=GT(t,u,s,n):e===s-4&&o===85&&i===82&&r===76&&u===40?a=s=GT(t,41,s,n):u>32&&(a=s),o=i,i=r,r=u&-33}return a}function GT(t,e,n,r){let i=-1,o=n;for(;o<r;){let s=t.charCodeAt(o++);if(s==e&&i!==92)return o;s==92&&i===92?i=0:i=s}throw new Error}function ZL(t,e,n){let r=ie(),i=xa();if(_n(r,i,e)){let o=Ve(),s=GD();kO(o,s,r,t,e,r[Le],n,!1)}return ZL}function Xg(t,e,n,r,i){Jm(e,t,n,i?"class":"style",r)}function JL(t,e,n){return DC(t,e,n,!1),JL}function XL(t,e){return DC(t,e,null,!0),XL}function CG(t){tF(SC,eF,t,!1)}function eF(t,e){for(let n=GL(e);n>=0;n=TC(e,n))SC(t,qL(e),WL(e))}function DC(t,e,n,r){let i=ie(),o=Ve(),s=Nm(2);if(o.firstUpdatePass&&CC(o,t,s,r),e!==Ut&&_n(i,s,e)){let a=o.data[En()];AC(o,a,i,i[Le],t,i[s+1]=cF(e,n),r,s)}}function tF(t,e,n,r){let i=Ve(),o=Nm(2);i.firstUpdatePass&&CC(i,null,o,r);let s=ie();if(n!==Ut&&_n(s,o,n)){let a=i.data[En()];if(RC(a,r)&&!bC(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(n=fg(u,n||"")),Xg(i,a,s,n,r)}else aF(i,a,s,s[Le],s[o+1],s[o+1]=sF(t,e,n),r,o)}}function bC(t,e){return e>=t.expandoStartIndex}function CC(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[En()],s=bC(t,n);RC(o,r)&&e===null&&!s&&(e=!1),e=nF(i,o,e,r),$L(i,o,e,n,s,r)}}function nF(t,e,n,r){let i=ok(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=cg(null,t,e,n,r),n=Sa(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=cg(i,t,e,n,r),o===null){let u=rF(t,e,r);u!==void 0&&Array.isArray(u)&&(u=cg(null,t,e,u[1],r),u=Sa(u,e.attrs,r),iF(t,e,r,u))}else o=oF(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function rF(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Oo(r)!==0)return t[Ni(r)]}function iF(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ni(i)]=r}function oF(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Sa(r,s,n)}return Sa(r,e.attrs,n)}function cg(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Sa(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Sa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),_D(t,s,n?!0:e[++o]))}return t===void 0?null:t}function sF(t,e,n){if(n==null||n==="")return It;let r=[],i=ka(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function SC(t,e,n){_D(t,e,ka(n))}function aF(t,e,n,r,i,o,s,a){i===Ut&&(i=It);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let g=u<i.length?i[u+1]:void 0,m=l<o.length?o[l+1]:void 0,w=null,A;h===p?(u+=2,l+=2,g!==m&&(w=p,A=m)):p===null||h!==null&&h<p?(u+=2,w=h):(l+=2,w=p,A=m),w!==null&&AC(t,e,n,r,w,A,s,a),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function AC(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=BL(l)?KT(u,e,n,i,Oo(l),s):void 0;if(!Bl(h)){Bl(o)||jL(l)&&(o=KT(u,null,n,i,a,s));let p=kD(En(),n);r1(r,s,p,i,o)}}function KT(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=n[i+1];g===Ut&&(g=p?It:void 0);let m=p?Zp(g,r):h===r?g:void 0;if(l&&!Bl(m)&&(m=Zp(u,r)),Bl(m)&&(a=m,s))return a;let w=t[i+1];i=s?Ni(w):Oo(w)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Zp(u,r))}return a}function Bl(t){return t!==void 0}function cF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=At(ka(t)))),t}function RC(t,e){return(t.flags&(e?8:16))!==0}var em=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function ug(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function uF(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=t.at(o),h=e[o],p=ug(o,l,o,h,n);if(p!==0){p<0&&t.updateValue(o,h),o++;continue}let g=t.at(s),m=e[u],w=ug(s,g,u,m,n);if(w!==0){w<0&&t.updateValue(s,m),s--,u--;continue}let A=n(o,l),R=n(s,g),k=n(o,h);if(Object.is(k,R)){let $=n(u,m);Object.is($,A)?(t.swap(o,s),t.updateValue(s,m),u--,s--):t.move(s,o),t.updateValue(o,h),o++;continue}if(r??=new $l,i??=YT(t,o,s,n),tm(t,r,o,k))t.updateValue(o,h),o++,s++;else if(i.has(k))r.set(A,t.detach(o)),s--;else{let $=t.create(o,e[o]);t.attach(o,$),o++,s++}}for(;o<=u;)QT(t,r,n,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let h=t.at(o),p=l.value,g=ug(o,h,o,p,n);if(g!==0)g<0&&t.updateValue(o,p),o++,l=u.next();else{r??=new $l,i??=YT(t,o,s,n);let m=n(o,p);if(tm(t,r,o,m))t.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(m))t.attach(o,t.create(o,p)),o++,s++,l=u.next();else{let w=n(o,h);r.set(w,t.detach(o)),s--}}}for(;!l.done;)QT(t,r,n,t.length,l.value),l=u.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(u=>{t.destroy(u)})}function tm(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function QT(t,e,n,r,i){if(tm(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function YT(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var $l=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function SG(t,e){$o("NgControlFlow");let n=ie(),r=xa(),i=n[r]!==Ut?n[r]:-1,o=i!==-1?Hl(n,Fe+i):void 0,s=0;if(_n(n,r,t)){let a=ee(null);try{if(o!==void 0&&eC(o,s),t!==-1){let u=Fe+t,l=Hl(n,u),h=om(n[J],u),p=Po(l,h.tView.ssrId),g=Oa(n,h,e,{dehydratedView:p});La(l,g,s,Mo(h,p))}}finally{ee(a)}}else if(o!==void 0){let a=Xb(o,s);a!==void 0&&(a[Ke]=e)}}var nm=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-lt}};function AG(t,e){return e}var rm=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function RG(t,e,n,r,i,o,s,a,u,l,h,p,g){$o("NgControlFlow");let m=ie(),w=Ve(),A=u!==void 0,R=ie(),k=a?s.bind(R[jt][Ke]):s,$=new rm(A,k);R[Fe+t]=$,jl(m,w,t+1,e,n,r,i,kr(w.consts,o)),A&&jl(m,w,t+2,u,l,h,p,kr(w.consts,g))}var im=class extends em{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-lt}at(e){return this.getLView(e)[Ke].$implicit}attach(e,n){let r=n[So];this.needsIndexUpdate||=e!==this.length,La(this.lContainer,n,e,Mo(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,lF(this.lContainer,e)}create(e,n){let r=Po(this.lContainer,this.templateTNode.tView.ssrId),i=Oa(this.hostLView,this.templateTNode,new nm(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){od(e[J],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Ke].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ke].$index=e}getLView(e){return dF(this.lContainer,e)}};function NG(t){let e=ee(null),n=En();try{let r=ie(),i=r[J],o=r[n],s=n+1,a=Hl(r,s);if(o.liveCollection===void 0){let l=om(i,s);o.liveCollection=new im(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(uF(u,t,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=xa(),h=u.length===0;if(_n(r,l,h)){let p=n+2,g=Hl(r,p);if(h){let m=om(i,p),w=Po(g,m.tView.ssrId),A=Oa(r,m,void 0,{dehydratedView:w});La(g,A,0,Mo(m,w))}else eC(g,0)}}}finally{ee(e)}}function Hl(t,e){return t[e]}function lF(t,e){return Da(t,e)}function dF(t,e){return Xb(t,e)}function om(t,e){return Em(t,e)}function NC(t,e,n,r){let i=ie(),o=Ve(),s=Fe+t,a=i[Le],u=o.firstCreatePass?iC(s,o,i,e,Zm,Sm(),n,r):o.data[s],l=hF(o,i,u,a,e,t);i[s]=l;let h=Yl(u);return Lr(u,!0),kb(a,l,u),!ty(u)&&Xl()&&sd(o,i,l,u),(Kx()===0||h)&&Bo(l,i),Qx(),h&&(id(o,i,u),zm(o,u,i)),r!==null&&Ym(i,u),NC}function MC(){let t=Nt();Am()?Rm():(t=t.parent,Lr(t,!1));let e=t;Zx(e)&&Jx(),Yx();let n=Ve();return n.firstCreatePass&&oC(n,e),e.classesWithoutHost!=null&&hk(e)&&Xg(n,e,ie(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&fk(e)&&Xg(n,e,ie(),e.stylesWithoutHost,!1),MC}function ly(t,e,n,r){return NC(t,e,n,r),MC(),ly}var hF=(t,e,n,r,i,o)=>(ed(!0),Pb(r,i,uk()));function fF(t,e,n,r,i){let o=e.consts,s=kr(o,r),a=Ho(e,t,8,"ng-container",s);s!==null&&Ug(a,s,!0);let u=kr(o,i);return Sm()&&oy(e,n,a,u,Zm),a.mergedAttrs=No(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function pF(t,e,n){let r=ie(),i=Ve(),o=t+Fe,s=i.firstCreatePass?fF(o,i,r,e,n):i.data[o];Lr(s,!0);let a=mF(i,r,s,t);return r[o]=a,Xl()&&sd(i,r,a,s),Bo(a,r),Yl(s)&&(id(i,r,s),zm(i,s,r)),n!=null&&Ym(r,s),pF}function gF(){let t=Nt(),e=Ve();return Am()?Rm():(t=t.parent,Lr(t,!1)),e.firstCreatePass&&(km(e,t),Im(t)&&e.queries.elementEnd(t)),gF}var mF=(t,e,n,r)=>(ed(!0),TO(e[Le],""));function MG(){return ie()}var gi=void 0;function yF(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var vF=["en",[["a","p"],["AM","PM"],gi],[["AM","PM"],gi,gi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gi,"{1} 'at' {0}",gi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",yF],lg={};function Gt(t){let e=_F(t),n=ZT(e);if(n)return n;let r=e.split("-")[0];if(n=ZT(r),n)return n;if(r==="en")return vF;throw new V(701,!1)}function ZT(t){return t in lg||(lg[t]=mi.ng&&mi.ng.common&&mi.ng.common.locales&&mi.ng.common.locales[t]),lg[t]}var ke=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ke||{});function _F(t){return t.toLowerCase().replace(/_/g,"-")}var zl="en-US";var IF=zl;function EF(t){typeof t=="string"&&(IF=t.toLowerCase().replace(/_/g,"-"))}function JT(t,e,n){return function r(i){if(i===Function)return n;let o=Vo(t)?mn(t.index,e):e;iy(o,5);let s=e[Ke],a=XT(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=XT(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function XT(t,e,n,r){let i=ee(null);try{return Te(6,e,n),n(r)!==!1}catch(o){return wF(t,o),!1}finally{Te(7,e,n),ee(i)}}function wF(t,e){let n=t[Ao],r=n?n.get(yn,null):null;r&&r.handleError(e)}function eD(t,e,n,r,i,o){let s=e[n],a=e[J],l=a.data[n].outputs[r],h=s[l],p=a.firstCreatePass?Cm(a):null,g=bm(e),m=h.subscribe(o),w=g.length;g.push(o,m),p&&p.push(i,t.index,w,-(w+1))}function dy(t,e,n,r){let i=ie(),o=Ve(),s=Nt();return DF(o,i,i[Le],s,t,e,r),dy}function TF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Dl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function DF(t,e,n,r,i,o,s){let a=Yl(r),l=t.firstCreatePass?Cm(t):null,h=bm(e),p=!0;if(r.type&3||s){let g=In(r,e),m=s?s(g):g,w=h.length,A=s?k=>s(gn(k[r.index])):r.index,R=null;if(!s&&a&&(R=TF(t,e,i,r.index)),R!==null){let k=R.__ngLastListenerFn__||R;k.__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,p=!1}else{o=JT(r,e,o),Yk(e,m,i,o);let k=n.listen(m,i,o);h.push(o,k),l&&l.push(i,A,w,w+1)}}else o=JT(r,e,o);if(p){let g=r.outputs?.[i],m=r.hostDirectiveOutputs?.[i];if(m&&m.length)for(let w=0;w<m.length;w+=2){let A=m[w],R=m[w+1];eD(r,e,A,R,i,o)}if(g&&g.length)for(let w of g)eD(r,e,w,i,i,o)}}function PG(t=1){return ck(t)}function bF(t,e){let n=null,r=pO(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?Mb(t,o,!0):yO(r,o))return i}return n}function xG(t){let e=ie()[jt][Rt];if(!e.projection){let n=t?t.length:1,r=e.projection=Tx(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?bF(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function kG(t,e=0,n,r,i,o){let s=ie(),a=Ve(),u=r?t+1:null;u!==null&&jl(s,a,u,r,i,o,null,n);let l=Ho(a,Fe+t,16,null,n||null);l.projection===null&&(l.projection=e),Rm();let p=!s[So]||VD();s[jt][Rt].projection[l.projection]===null&&u!==null?CF(s,a,u):p&&!ty(l)&&t1(a,s,l)}function CF(t,e,n){let r=Fe+n,i=e.data[r],o=t[r],s=Po(o,i.tView.ssrId),a=Oa(t,i,void 0,{dehydratedView:s});La(o,a,0,Mo(i,s))}function OG(t,e,n,r){uL(t,rL(e,n,r))}function LG(t=1){Mm(sk()+t)}function FG(t){let e=UD();return wm(e,Fe+t)}function VG(t,e=""){let n=ie(),r=Ve(),i=t+Fe,o=r.firstCreatePass?Ho(r,i,1,e,null):r.data[i],s=SF(r,n,o,e,t);n[i]=s,Xl()&&sd(r,n,s,o),Lr(o,!1)}var SF=(t,e,n,r,i)=>(ed(!0),EO(e[Le],r));function AF(t){return PC("",t,""),AF}function PC(t,e,n){let r=ie(),i=FL(r,t,e,n);return i!==Ut&&xC(r,En(),i),PC}function RF(t,e,n,r,i){let o=ie(),s=VL(o,t,e,n,r,i);return s!==Ut&&xC(o,En(),s),RF}function xC(t,e,n){let r=kD(e,t);wO(t[Le],r,n)}var kC={};function NF(t){let e=Ve(),n=ie(),r=t+Fe,i=Ho(e,r,128,null,null);return Lr(i,!1),Tm(e,n,r,kC),NF}function jG(t){$o("NgLet");let e=Ve(),n=ie(),r=En();return Tm(e,n,r,t),t}function UG(t){let e=UD(),n=wm(e,Fe+t);if(n===kC)throw new V(314,!1);return n}function MF(t,e,n){let r=Ve();if(r.firstCreatePass){let i=pn(t);sm(n,r.data,r.blueprint,i,!0),sm(e,r.data,r.blueprint,i,!1)}}function sm(t,e,n,r,i){if(t=_t(t),Array.isArray(t))for(let o=0;o<t.length;o++)sm(t[o],e,n,r,i);else{let o=Ve(),s=ie(),a=Nt(),u=Co(t)?t:_t(t.provide),l=CD(t),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Co(t)||!t.multi){let m=new Ci(l,i,xe),w=hg(u,e,i?h:h+g,p);w===-1?(bg(Ml(a,s),o,u),dg(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(m),s.push(m)):(n[w]=m,s[w]=m)}else{let m=hg(u,e,h+g,p),w=hg(u,e,h,h+g),A=m>=0&&n[m],R=w>=0&&n[w];if(i&&!R||!i&&!A){bg(Ml(a,s),o,u);let k=kF(i?xF:PF,n.length,i,r,l);!i&&R&&(n[w].providerFactory=k),dg(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(k),s.push(k)}else{let k=OC(n[i?w:m],l,!i&&r);dg(o,t,m>-1?m:w,k)}!i&&r&&R&&n[w].componentProviders++}}}function dg(t,e,n,r){let i=Co(e),o=Px(e);if(i||o){let u=(o?_t(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function OC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function hg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function PF(t,e,n,r,i){return am(this.multi,[])}function xF(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=wa(r,r[J],this.providerFactory.index,i);s=u.slice(0,a),am(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],am(o,s);return s}function am(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function kF(t,e,n,r,i){let o=new Ci(t,n,xe);return o.multi=[],o.index=e,o.componentProviders=0,OC(o,i,r&&!n),o}function BG(t,e=[]){return n=>{n.providersResolver=(r,i)=>MF(r,i?i(t):t,e)}}function $G(t,e,n){let r=Jl()+t,i=ie();return i[r]===Ut?ay(i,r,n?e.call(n):e()):SL(i,r)}function HG(t,e,n,r){return OF(ie(),Jl(),t,e,n,r)}function zG(t,e,n,r,i){return FC(ie(),Jl(),t,e,n,r,i)}function LC(t,e){let n=t[e];return n===Ut?void 0:n}function OF(t,e,n,r,i,o){let s=e+n;return _n(t,s,i)?ay(t,s+1,o?r.call(o,i):r(i)):LC(t,s+1)}function FC(t,e,n,r,i,o,s){let a=e+n;return yC(t,a,i,o)?ay(t,a+2,s?r.call(s,i,o):r(i,o)):LC(t,a+2)}function qG(t,e){let n=Ve(),r,i=t+Fe;n.firstCreatePass?(r=LF(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=_i(r.type,!0)),s,a=Ct(xe);try{let u=Nl(!1),l=o();return Nl(u),Tm(n,ie(),i,l),l}finally{Ct(a)}}function LF(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function WG(t,e,n,r){let i=t+Fe,o=ie(),s=wm(o,i);return FF(o,i)?FC(o,Jl(),e,s.transform,n,r,s):s.transform(n,r)}function FF(t,e){return t[J].data[e].pure}function GG(t,e){return cd(t,e)}var Aa=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},VC=new Aa("19.2.14"),cm=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},jC=(()=>{class t{compileModuleSync(n){return new Qg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=wD(n),o=Rb(i.declarations).reduce((s,a)=>{let u=bo(a);return u&&s.push(new Ca(u)),s},[]);return new cm(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var VF=(()=>{class t{zone=x(_e);changeDetectionScheduler=x(Si);applicationRef=x(Ri);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jF=new B("",{factory:()=>!1});function UC({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new _e(me(F({},BC()),{scheduleInRootZone:n})),[{provide:_e,useFactory:t},{provide:_a,multi:!0,useFactory:()=>{let r=x(VF,{optional:!0});return()=>r.initialize()}},{provide:_a,multi:!0,useFactory:()=>{let r=x(UF);return()=>{r.initialize()}}},e===!0?{provide:cb,useValue:!0}:[],{provide:ub,useValue:n??ab}]}function KG(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=UC({ngZoneFactory:()=>{let i=BC(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&$o("NgZone_CoalesceEvent"),new _e(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Wn([{provide:jF,useValue:!0},{provide:Vm,useValue:!1},r])}function BC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var UF=(()=>{class t{subscription=new Me;initialized=!1;zone=x(_e);pendingTasks=x(Yn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var BF=(()=>{class t{appRef=x(Ri);taskService=x(Yn);ngZone=x(_e);zonelessEnabled=x(Vm);tracing=x(nd,{optional:!0});disableScheduling=x(cb,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Me;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(xl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(ub,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Rg||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?RT:lb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(xl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,RT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $F(){return typeof $localize<"u"&&$localize.locale||zl}var hd=new B("",{providedIn:"root",factory:()=>x(hd,re.Optional|re.SkipSelf)||$F()});var um=new B(""),HF=new B("");function ga(t){return!t.moduleRef}function zF(t){let e=ga(t)?t.r3Injector:t.moduleRef.injector,n=e.get(_e);return n.run(()=>{ga(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(yn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),ga(t)){let o=()=>e.destroy(),s=t.platformInjector.get(um);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(um);s.add(o),t.moduleRef.onDestroy(()=>{yl(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return WF(r,n,()=>{let o=e.get(wC);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(hd,zl);if(EF(s||zl),!e.get(HF,!0))return ga(t)?e.get(Ri):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(ga(t)){let u=e.get(Ri);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return qF(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function qF(t,e){let n=t.injector.get(Ri);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new V(-403,!1);e.push(t)}function WF(t,e,n){try{let r=n();return Fa(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var vl=null;function GF(t=[],e){return Et.create({name:e,providers:[{provide:Kl,useValue:"platform"},{provide:um,useValue:new Set([()=>vl=null])},...t]})}function KF(t=[]){if(vl)return vl;let e=GF(t);return vl=e,xL(),QF(e),e}function QF(t){let e=t.get($m,null);it(t,()=>{e?.forEach(n=>n())})}function hy(){return!1}var fd=(()=>{class t{static __NG_ELEMENT_ID__=YF}return t})();function YF(t){return ZF(Nt(),ie(),(t&16)===16)}function ZF(t,e,n){if(Vo(t)&&!n){let r=mn(t.index,e);return new ba(r,r)}else if(t.type&175){let r=e[jt];return new ba(r,e)}return null}var lm=class{constructor(){}supports(e){return mC(e)}create(e){return new dm(e)}},JF=(t,e)=>e,dm=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||JF}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<tD(r,i,o)?n:r,a=tD(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let m=g<o.length?o[g]:o[g]=0,w=m+g;h<=w&&w<l&&(o[g]=m+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!mC(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,bL(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new hm(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ql),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ql),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},hm=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},fm=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ql=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new fm,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function tD(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function nD(){return new fy([new lm])}var fy=(()=>{class t{factories;static \u0275prov=H({token:t,providedIn:"root",factory:nD});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||nD()),deps:[[t,new Ix,new Or]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new V(901,!1)}}return t})();function $C(t){Te(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=KF(r),o=[UC({}),{provide:Si,useExisting:BF},...n||[]],s=new Vl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return zF({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Te(9)}}function pd(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function QG(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}function HC(t){return Np(t)}function XF(t,e){return xu(t,e?.equal)}var pm=class{[Ot];constructor(e){this[Ot]=e}destroy(){this[Ot].destroy()}};function zC(t,e){!e?.injector&&_m(zC);let n=e?.injector??x(Et),r=e?.manualCleanup!==!0?n.get(Qn):null,i,o=n.get(Tb,null,{optional:!0}),s=n.get(Si);return o!==null&&!e?.forceRoot?(i=nV(o.view,s,t),r instanceof Pl&&r._lView===o.view&&(r=null)):i=rV(t,n.get(IC),s),i.injector=n,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new pm(i)}var qC=me(F({},ao),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Ta,run(){if(this.dirty=!1,this.hasRun&&!Nu(this))return;this.hasRun=!0;let t=r=>(this.cleanupFns??=[]).push(r),e=ca(this),n=Sl(!1);try{this.maybeCleanup(),this.fn(t)}finally{Sl(n),Ru(this,e)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),eV=me(F({},qC),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){ua(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),tV=me(F({},qC),{consumerMarkedDirty(){this.view[Q]|=8192,Pa(this.view),this.notifier.notify(13)},destroy(){ua(this),this.onDestroyFn(),this.maybeCleanup(),this.view[wi]?.delete(this)}});function nV(t,e,n){let r=Object.create(tV);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=n,t[wi]??=new Set,t[wi].add(r),r.consumerMarkedDirty(r),r}function rV(t,e,n){let r=Object.create(eV);return r.fn=t,r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(12),r}var Qe=new B("");var KC=null;function Jn(){return KC}function py(t){KC??=t}var Va=class{},gy=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>x(QC),providedIn:"platform"})}return t})();var QC=(()=>{class t extends gy{_location;_history;_doc=x(Qe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Jn().getBaseHref(this._doc)}onPopState(n){let r=Jn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Jn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function YC(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function WC(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Ur(t){return t&&t[0]!=="?"?`?${t}`:t}var qo=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>x(JC),providedIn:"root"})}return t})(),ZC=new B(""),JC=(()=>{class t extends qo{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(Qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return YC(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Ur(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Ur(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Ur(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(K(gy),K(ZC,8))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Wo=(()=>{class t{_subject=new We;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=sV(WC(GC(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ur(r))}normalize(n){return t.stripTrailingSlash(oV(this._basePath,GC(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ur(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ur(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ur;static joinWithSlash=YC;static stripTrailingSlash=WC;static \u0275fac=function(r){return new(r||t)(K(qo))};static \u0275prov=H({token:t,factory:()=>iV(),providedIn:"root"})}return t})();function iV(){return new Wo(K(qo))}function oV(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function GC(t){return t.replace(/\/index.html$/,"")}function sV(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var ht=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(ht||{}),Ie=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ie||{}),Mt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Mt||{}),er={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function rS(t){return Gt(t)[ke.LocaleId]}function iS(t,e,n){let r=Gt(t),i=[r[ke.DayPeriodsFormat],r[ke.DayPeriodsStandalone]],o=Kt(i,e);return Kt(o,n)}function oS(t,e,n){let r=Gt(t),i=[r[ke.DaysFormat],r[ke.DaysStandalone]],o=Kt(i,e);return Kt(o,n)}function sS(t,e,n){let r=Gt(t),i=[r[ke.MonthsFormat],r[ke.MonthsStandalone]],o=Kt(i,e);return Kt(o,n)}function aS(t,e){let r=Gt(t)[ke.Eras];return Kt(r,e)}function ja(t,e){let n=Gt(t);return Kt(n[ke.DateFormat],e)}function Ua(t,e){let n=Gt(t);return Kt(n[ke.TimeFormat],e)}function Ba(t,e){let r=Gt(t)[ke.DateTimeFormat];return Kt(r,e)}function $a(t,e){let n=Gt(t),r=n[ke.NumberSymbols][e];if(typeof r>"u"){if(e===er.CurrencyDecimal)return n[ke.NumberSymbols][er.Decimal];if(e===er.CurrencyGroup)return n[ke.NumberSymbols][er.Group]}return r}function cS(t){if(!t[ke.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[ke.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function uS(t){let e=Gt(t);return cS(e),(e[ke.ExtraData][2]||[]).map(r=>typeof r=="string"?my(r):[my(r[0]),my(r[1])])}function lS(t,e,n){let r=Gt(t);cS(r);let i=[r[ke.ExtraData][0],r[ke.ExtraData][1]],o=Kt(i,e)||[];return Kt(o,n)||[]}function Kt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function my(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var aV=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,gd={},cV=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function dS(t,e,n,r){let i=yV(t);e=Xn(n,e)||e;let s=[],a;for(;e;)if(a=cV.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=fS(r,u),i=mV(i,r));let l="";return s.forEach(h=>{let p=pV(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Id(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Xn(t,e){let n=rS(t);if(gd[n]??={},gd[n][e])return gd[n][e];let r="";switch(e){case"shortDate":r=ja(t,Mt.Short);break;case"mediumDate":r=ja(t,Mt.Medium);break;case"longDate":r=ja(t,Mt.Long);break;case"fullDate":r=ja(t,Mt.Full);break;case"shortTime":r=Ua(t,Mt.Short);break;case"mediumTime":r=Ua(t,Mt.Medium);break;case"longTime":r=Ua(t,Mt.Long);break;case"fullTime":r=Ua(t,Mt.Full);break;case"short":let i=Xn(t,"shortTime"),o=Xn(t,"shortDate");r=md(Ba(t,Mt.Short),[i,o]);break;case"medium":let s=Xn(t,"mediumTime"),a=Xn(t,"mediumDate");r=md(Ba(t,Mt.Medium),[s,a]);break;case"long":let u=Xn(t,"longTime"),l=Xn(t,"longDate");r=md(Ba(t,Mt.Long),[u,l]);break;case"full":let h=Xn(t,"fullTime"),p=Xn(t,"fullDate");r=md(Ba(t,Mt.Full),[h,p]);break}return r&&(gd[n][e]=r),r}function md(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function nn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function uV(t,e){return nn(t,3).substring(0,e)}function je(t,e,n=0,r=!1,i=!1){return function(o,s){let a=lV(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return uV(a,e);let u=$a(s,er.MinusSign);return nn(a,e,u,r,i)}}function lV(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function De(t,e,n=ht.Format,r=!1){return function(i,o){return dV(i,o,t,e,n,r)}}function dV(t,e,n,r,i,o){switch(n){case 2:return sS(e,i,r)[t.getMonth()];case 1:return oS(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let l=uS(e),h=lS(e,i,r),p=l.findIndex(g=>{if(Array.isArray(g)){let[m,w]=g,A=s>=m.hours&&a>=m.minutes,R=s<w.hours||s===w.hours&&a<w.minutes;if(m.hours<w.hours){if(A&&R)return!0}else if(A||R)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return iS(e,i,r)[s<12?0:1];case 3:return aS(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function yd(t){return function(e,n,r){let i=-1*r,o=$a(n,er.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+nn(s,2,o)+nn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+nn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+nn(s,2,o)+":"+nn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+nn(s,2,o)+":"+nn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var hV=0,_d=4;function fV(t){let e=Id(t,hV,1).getDay();return Id(t,0,1+(e<=_d?_d:_d+7)-e)}function hS(t){let e=t.getDay(),n=e===0?-3:_d-e;return Id(t.getFullYear(),t.getMonth(),t.getDate()+n)}function yy(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=hS(n),s=fV(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return nn(i,t,$a(r,er.MinusSign))}}function vd(t,e=!1){return function(n,r){let o=hS(n).getFullYear();return nn(o,t,$a(r,er.MinusSign),e)}}var vy={};function pV(t){if(vy[t])return vy[t];let e;switch(t){case"G":case"GG":case"GGG":e=De(3,Ie.Abbreviated);break;case"GGGG":e=De(3,Ie.Wide);break;case"GGGGG":e=De(3,Ie.Narrow);break;case"y":e=je(0,1,0,!1,!0);break;case"yy":e=je(0,2,0,!0,!0);break;case"yyy":e=je(0,3,0,!1,!0);break;case"yyyy":e=je(0,4,0,!1,!0);break;case"Y":e=vd(1);break;case"YY":e=vd(2,!0);break;case"YYY":e=vd(3);break;case"YYYY":e=vd(4);break;case"M":case"L":e=je(1,1,1);break;case"MM":case"LL":e=je(1,2,1);break;case"MMM":e=De(2,Ie.Abbreviated);break;case"MMMM":e=De(2,Ie.Wide);break;case"MMMMM":e=De(2,Ie.Narrow);break;case"LLL":e=De(2,Ie.Abbreviated,ht.Standalone);break;case"LLLL":e=De(2,Ie.Wide,ht.Standalone);break;case"LLLLL":e=De(2,Ie.Narrow,ht.Standalone);break;case"w":e=yy(1);break;case"ww":e=yy(2);break;case"W":e=yy(1,!0);break;case"d":e=je(2,1);break;case"dd":e=je(2,2);break;case"c":case"cc":e=je(7,1);break;case"ccc":e=De(1,Ie.Abbreviated,ht.Standalone);break;case"cccc":e=De(1,Ie.Wide,ht.Standalone);break;case"ccccc":e=De(1,Ie.Narrow,ht.Standalone);break;case"cccccc":e=De(1,Ie.Short,ht.Standalone);break;case"E":case"EE":case"EEE":e=De(1,Ie.Abbreviated);break;case"EEEE":e=De(1,Ie.Wide);break;case"EEEEE":e=De(1,Ie.Narrow);break;case"EEEEEE":e=De(1,Ie.Short);break;case"a":case"aa":case"aaa":e=De(0,Ie.Abbreviated);break;case"aaaa":e=De(0,Ie.Wide);break;case"aaaaa":e=De(0,Ie.Narrow);break;case"b":case"bb":case"bbb":e=De(0,Ie.Abbreviated,ht.Standalone,!0);break;case"bbbb":e=De(0,Ie.Wide,ht.Standalone,!0);break;case"bbbbb":e=De(0,Ie.Narrow,ht.Standalone,!0);break;case"B":case"BB":case"BBB":e=De(0,Ie.Abbreviated,ht.Format,!0);break;case"BBBB":e=De(0,Ie.Wide,ht.Format,!0);break;case"BBBBB":e=De(0,Ie.Narrow,ht.Format,!0);break;case"h":e=je(3,1,-12);break;case"hh":e=je(3,2,-12);break;case"H":e=je(3,1);break;case"HH":e=je(3,2);break;case"m":e=je(4,1);break;case"mm":e=je(4,2);break;case"s":e=je(5,1);break;case"ss":e=je(5,2);break;case"S":e=je(6,1);break;case"SS":e=je(6,2);break;case"SSS":e=je(6,3);break;case"Z":case"ZZ":case"ZZZ":e=yd(0);break;case"ZZZZZ":e=yd(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=yd(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=yd(2);break;default:return null}return vy[t]=e,e}function fS(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function gV(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function mV(t,e,n){let i=t.getTimezoneOffset(),o=fS(e,i);return gV(t,-1*(o-i))}function yV(t){if(XC(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Id(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(aV))return vV(r)}let e=new Date(t);if(!XC(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function vV(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function XC(t){return t instanceof Date&&!isNaN(t.valueOf())}var _y=/\s+/,eS=[],_V=(()=>{class t{_ngEl;_renderer;initialClasses=eS;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(_y):eS}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(_y):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(_y).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(xe(Fr),xe(ld))};static \u0275dir=jr({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var Ed=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},pS=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Ed(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),tS(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);tS(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(xe(Vr),xe(Ai),xe(fy))};static \u0275dir=jr({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function tS(t,e){t.context.$implicit=e.item}var IV=(()=>{class t{_viewContainer;_context=new wd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){nS(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){nS(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(xe(Vr),xe(Ai))};static \u0275dir=jr({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),wd=class{$implicit=null;ngIf=null};function nS(t,e){if(t&&!t.createEmbeddedView)throw new V(2020,!1)}function EV(t,e){return new V(2100,!1)}var wV="mediumDate",gS=new B(""),mS=new B(""),TV=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??wV,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return dS(n,s,o||this.locale,a)}catch(s){throw EV(t,s.message)}}static \u0275fac=function(r){return new(r||t)(xe(hd,16),xe(gS,24),xe(mS,24))};static \u0275pipe=fC({name:"date",type:t,pure:!0})}return t})();var yS=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=zo({type:t});static \u0275inj=Lo({})}return t})();function Ha(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Td="browser",vS="server";function DV(t){return t===Td}function Dd(t){return t===vS}var Pi=class{};var Sd=new B(""),Ty=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(K(Sd),K(_e))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),za=class{_doc;constructor(e){this._doc=e}manager},bd="ng-app-id";function _S(t){for(let e of t)e.remove()}function IS(t,e){let n=e.createElement("style");return n.textContent=t,n}function CV(t,e,n,r){let i=t.head?.querySelectorAll(`style[${bd}="${e}"],link[${bd}="${e}"]`);if(i)for(let o of i)o.removeAttribute(bd),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Ey(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Dy=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Dd(o),CV(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,IS);r?.forEach(i=>this.addUsage(i,this.external,Ey))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(_S(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])_S(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,IS(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Ey(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(bd,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(K(Qe),K(Bm),K(Hm,8),K(Mi))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),Iy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},by=/%COMP%/g;var wS="%COMP%",SV=`_nghost-${wS}`,AV=`_ngcontent-${wS}`,RV=!0,NV=new B("",{providedIn:"root",factory:()=>RV});function MV(t){return AV.replace(by,t)}function PV(t){return SV.replace(by,t)}function TS(t,e){return e.map(n=>n.replace(by,t))}var Cy=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,u,l=null,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=Dd(a),this.defaultRenderer=new qa(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===vn.ShadowDom&&(r=me(F({},r),{encapsulation:vn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Cd?i.applyToHost(n):i instanceof Wa&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case vn.Emulated:o=new Cd(u,l,r,this.appId,h,s,a,p,g);break;case vn.ShadowDom:return new wy(u,l,n,r,s,a,this.nonce,p,g);default:o=new Wa(u,l,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(K(Ty),K(Dy),K(Bm),K(NV),K(Qe),K(Mi),K(_e),K(Hm),K(nd,8))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),qa=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Iy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(ES(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(ES(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Iy[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Iy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(qn.DashCase|qn.Important)?e.style.setProperty(n,r,i&qn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&qn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Jn().getGlobalEventTarget(this.doc,e),!e))throw new V(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function ES(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var wy=class extends qa{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=TS(i.id,h);for(let g of h){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=g,this.shadowRoot.appendChild(m)}let p=i.getExternalStyles?.();if(p)for(let g of p){let m=Ey(g,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Wa=class extends qa{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?TS(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Cd=class extends Wa{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,n,r,o,s,a,u,l,h),this.contentAttr=MV(h),this.hostAttr=PV(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Ad=class t extends Va{supportsDOMEvents=!0;static makeCurrent(){py(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=xV();return n==null?null:kV(n)}resetBaseElement(){Ga=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ha(document.cookie,e)}},Ga=null;function xV(){return Ga=Ga||document.head.querySelector("base"),Ga?Ga.getAttribute("href"):null}function kV(t){return new URL(t,document.baseURI).pathname}var OV=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),bS=(()=>{class t extends za{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(K(Qe))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),DS=["alt","control","meta","shift"],LV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},FV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},CS=(()=>{class t extends za{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Jn().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),DS.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=LV[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),DS.forEach(s=>{if(s!==i){let a=FV[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(K(Qe))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})();function VV(t,e){return $C(F({rootComponent:t},jV(e)))}function jV(t){return{appProviders:[...zV,...t?.providers??[]],platformProviders:HV}}function UV(){Ad.makeCurrent()}function BV(){return new yn}function $V(){return Ib(document),document}var HV=[{provide:Mi,useValue:Td},{provide:$m,useValue:UV,multi:!0},{provide:Qe,useFactory:$V}];var zV=[{provide:Kl,useValue:"root"},{provide:yn,useFactory:BV},{provide:Sd,useClass:bS,multi:!0,deps:[Qe]},{provide:Sd,useClass:CS,multi:!0,deps:[Qe]},Cy,Dy,Ty,{provide:xo,useExisting:Cy},{provide:Pi,useClass:OV},[]];var Go=class{},Ko=class{},tr=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Md=class{encodeKey(e){return SS(e)}encodeValue(e){return SS(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function qV(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var WV=/%(\d[a-f0-9])/gi,GV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function SS(t){return encodeURIComponent(t).replace(WV,(e,n)=>GV[n]??e)}function Rd(t){return`${t}`}var $r=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Md,e.fromString){if(e.fromObject)throw new V(2805,!1);this.map=qV(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Rd):[Rd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Rd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Rd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Pd=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function KV(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function AS(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function RS(t){return typeof Blob<"u"&&t instanceof Blob}function NS(t){return typeof FormData<"u"&&t instanceof FormData}function QV(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Ka="Content-Type",xd="Accept",My="X-Request-URL",PS="text/plain",xS="application/json",kS=`${xS}, ${PS}, */*`,Qa=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let o;if(KV(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new tr,this.context??=new Pd,!this.params)this.params=new $r,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||AS(this.body)||RS(this.body)||NS(this.body)||QV(this.body)?this.body:this.body instanceof $r?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||NS(this.body)?null:RS(this.body)?this.body.type||null:AS(this.body)?null:typeof this.body=="string"?PS:this.body instanceof $r?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?xS:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((g,m)=>g.set(m,e.setHeaders[m]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,m)=>g.set(m,e.setParams[m]),h)),new t(n,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},Hr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Hr||{}),Qo=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new tr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Ya=class t extends Qo{constructor(e={}){super(e)}type=Hr.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Za=class t extends Qo{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Hr.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Br=class extends Qo{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},OS=200,YV=204;function Sy(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var ZV=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Qa)o=n;else{let u;i.headers instanceof tr?u=i.headers:u=new tr(i.headers);let l;i.params&&(i.params instanceof $r?l=i.params:l=new $r({fromObject:i.params})),o=new Qa(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=G(o).pipe(Nr(u=>this.handler.handle(u)));if(n instanceof Qa||i.observe==="events")return s;let a=s.pipe(Ft(u=>u instanceof Za));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(se(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new V(2806,!1);return u.body}));case"blob":return a.pipe(se(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new V(2807,!1);return u.body}));case"text":return a.pipe(se(u=>{if(u.body!==null&&typeof u.body!="string")throw new V(2808,!1);return u.body}));case"json":default:return a.pipe(se(u=>u.body))}case"response":return a;default:throw new V(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new $r().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Sy(i,r))}post(n,r,i={}){return this.request("POST",n,Sy(i,r))}put(n,r,i={}){return this.request("PUT",n,Sy(i,r))}static \u0275fac=function(r){return new(r||t)(K(Go))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),JV=/^\)\]\}',?\n/;function MS(t){if(t.url)return t.url;let e=My.toLocaleLowerCase();return t.headers.get(e)}var LS=new B(""),Nd=(()=>{class t{fetchImpl=x(Ay,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n));ngZone=x(_e);destroyRef=x(Qn);destroyed=!1;constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0})}handle(n){return new ne(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(Ry,o=>r.error(new Br({error:o}))),()=>i.abort()})}doRequest(n,r,i){return _(this,null,function*(){let o=this.createRequestInit(n),s;try{let m=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,F({signal:r},o)));XV(m),i.next({type:Hr.Sent}),s=yield m}catch(m){i.error(new Br({error:m,status:m.status??0,statusText:m.statusText,url:n.urlWithParams,headers:m.headers}));return}let a=new tr(s.headers),u=s.statusText,l=MS(s)??n.urlWithParams,h=s.status,p=null;if(n.reportProgress&&i.next(new Ya({headers:a,status:h,statusText:u,url:l})),s.body){let m=s.headers.get("content-length"),w=[],A=s.body.getReader(),R=0,k,$,U=typeof Zone<"u"&&Zone.current,he=!1;if(yield this.ngZone.runOutsideAngular(()=>_(this,null,function*(){for(;;){if(this.destroyed){yield A.cancel(),he=!0;break}let{done:ce,value:D}=yield A.read();if(ce)break;if(w.push(D),R+=D.length,n.reportProgress){$=n.responseType==="text"?($??"")+(k??=new TextDecoder).decode(D,{stream:!0}):void 0;let v=()=>i.next({type:Hr.DownloadProgress,total:m?+m:void 0,loaded:R,partialText:$});U?U.run(v):v()}}})),he){i.complete();return}let ze=this.concatChunks(w,R);try{let ce=s.headers.get(Ka)??"";p=this.parseBody(n,ze,ce)}catch(ce){i.error(new Br({error:ce,headers:new tr(s.headers),status:s.status,statusText:s.statusText,url:MS(s)??n.urlWithParams}));return}}h===0&&(h=p?OS:0),h>=200&&h<300?(i.next(new Za({body:p,headers:a,status:h,statusText:u,url:l})),i.complete()):i.error(new Br({error:p,headers:a,status:h,statusText:u,url:l}))})}parseBody(n,r,i){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace(JV,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((o,s)=>r[o]=s.join(",")),n.headers.has(xd)||(r[xd]=kS),!n.headers.has(Ka)){let o=n.detectContentTypeHeader();o!==null&&(r[Ka]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),o=0;for(let s of n)i.set(s,o),o+=s.length;return i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),Ay=class{};function Ry(){}function XV(t){t.then(Ry,Ry)}function e2(t,e){return e(t)}function t2(t,e,n){return(r,i)=>it(n,()=>e(r,o=>t(o,i)))}var FS=new B(""),n2=new B(""),VS=new B("",{providedIn:"root",factory:()=>!0});var kd=(()=>{class t extends Go{backend;injector;chain=null;pendingTasks=x(Yn);contributeToStability=x(VS);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(FS),...this.injector.get(n2,[])]));this.chain=r.reduceRight((i,o)=>t2(i,o,this.injector),e2)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(pi(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(K(Ko),K(rt))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})();var r2=/^\)\]\}',?\n/,i2=RegExp(`^${My}:`,"m");function o2(t){return"responseURL"in t&&t.responseURL?t.responseURL:i2.test(t.getAllResponseHeaders())?t.getResponseHeader(My):null}var Ny=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new V(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Se(r.\u0275loadImpl()):G(null)).pipe(Vt(()=>new ne(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((A,R)=>s.setRequestHeader(A,R.join(","))),n.headers.has(xd)||s.setRequestHeader(xd,kS),!n.headers.has(Ka)){let A=n.detectContentTypeHeader();A!==null&&s.setRequestHeader(Ka,A)}if(n.responseType){let A=n.responseType.toLowerCase();s.responseType=A!=="json"?A:"text"}let a=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let A=s.statusText||"OK",R=new tr(s.getAllResponseHeaders()),k=o2(s)||n.url;return u=new Ya({headers:R,status:s.status,statusText:A,url:k}),u},h=()=>{let{headers:A,status:R,statusText:k,url:$}=l(),U=null;R!==YV&&(U=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=U?OS:0);let he=R>=200&&R<300;if(n.responseType==="json"&&typeof U=="string"){let ze=U;U=U.replace(r2,"");try{U=U!==""?JSON.parse(U):null}catch(ce){U=ze,he&&(he=!1,U={error:ce,text:U})}}he?(o.next(new Za({body:U,headers:A,status:R,statusText:k,url:$||void 0})),o.complete()):o.error(new Br({error:U,headers:A,status:R,statusText:k,url:$||void 0}))},p=A=>{let{url:R}=l(),k=new Br({error:A,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(k)},g=!1,m=A=>{g||(o.next(l()),g=!0);let R={type:Hr.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(R.total=A.total),n.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},w=A=>{let R={type:Hr.UploadProgress,loaded:A.loaded};A.lengthComputable&&(R.total=A.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),n.reportProgress&&(s.addEventListener("progress",m),a!==null&&s.upload&&s.upload.addEventListener("progress",w)),s.send(a),o.next({type:Hr.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),n.reportProgress&&(s.removeEventListener("progress",m),a!==null&&s.upload&&s.upload.removeEventListener("progress",w)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(K(Pi))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),jS=new B(""),s2="XSRF-TOKEN",a2=new B("",{providedIn:"root",factory:()=>s2}),c2="X-XSRF-TOKEN",u2=new B("",{providedIn:"root",factory:()=>c2}),Ja=class{},l2=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ha(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(K(Qe),K(a2))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})();function d2(t,e){let n=t.url.toLowerCase();if(!x(jS)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=x(Ja).getToken(),i=x(u2);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Py=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Py||{});function h2(t,e){return{\u0275kind:t,\u0275providers:e}}function f2(...t){let e=[ZV,Ny,kd,{provide:Go,useExisting:kd},{provide:Ko,useFactory:()=>x(LS,{optional:!0})??x(Ny)},{provide:FS,useValue:d2,multi:!0},{provide:jS,useValue:!0},{provide:Ja,useClass:l2}];for(let n of t)e.push(...n.\u0275providers);return Wn(e)}function p2(){return h2(Py.Fetch,[Nd,{provide:LS,useExisting:Nd},{provide:Ko,useExisting:Nd}])}var US=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(K(Qe))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var te="primary",hc=Symbol("RouteTitle"),Fy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Oi(t){return new Fy(t)}function KS(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function m2(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!wn(t[n],e[n]))return!1;return!0}function wn(t,e){let n=t?Vy(t):void 0,r=e?Vy(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!QS(t[i],e[i]))return!1;return!0}function Vy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function QS(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function YS(t){return t.length>0?t[t.length-1]:null}function Wr(t){return Wp(t)?t:Fa(t)?Se(Promise.resolve(t)):G(t)}var y2={exact:JS,subset:XS},ZS={exact:v2,subset:_2,ignored:()=>!0};function BS(t,e,n){return y2[n.paths](t.root,e.root,n.matrixParams)&&ZS[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function v2(t,e){return wn(t,e)}function JS(t,e,n){if(!xi(t.segments,e.segments)||!Fd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!JS(t.children[r],e.children[r],n))return!1;return!0}function _2(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>QS(t[n],e[n]))}function XS(t,e,n){return e0(t,e,e.segments,n)}function e0(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!xi(i,n)||e.hasChildren()||!Fd(i,n,r))}else if(t.segments.length===n.length){if(!xi(t.segments,n)||!Fd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!XS(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!xi(t.segments,i)||!Fd(t.segments,i,r)||!t.children[te]?!1:e0(t.children[te],e,o,r)}}function Fd(t,e,n){return e.every((r,i)=>ZS[n](t[i].parameters,r.parameters))}var Dn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ye([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Oi(this.queryParams),this._queryParamMap}toString(){return w2.serialize(this)}},ye=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vd(this)}},zr=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Oi(this.parameters),this._parameterMap}toString(){return n0(this)}};function I2(t,e){return xi(t,e)&&t.every((n,r)=>wn(n.parameters,e[r].parameters))}function xi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function E2(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===te&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==te&&(n=n.concat(e(i,r)))}),n}var fc=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>new Li,providedIn:"root"})}return t})(),Li=class{parse(e){let n=new Uy(e);return new Dn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Xa(e.root,!0)}`,r=b2(e.queryParams),i=typeof e.fragment=="string"?`#${T2(e.fragment)}`:"";return`${n}${r}${i}`}},w2=new Li;function Vd(t){return t.segments.map(e=>n0(e)).join("/")}function Xa(t,e){if(!t.hasChildren())return Vd(t);if(e){let n=t.children[te]?Xa(t.children[te],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==te&&r.push(`${i}:${Xa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=E2(t,(r,i)=>i===te?[Xa(t.children[te],!1)]:[`${i}:${Xa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[te]!=null?`${Vd(t)}/${n[0]}`:`${Vd(t)}/(${n.join("//")})`}}function t0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Od(t){return t0(t).replace(/%3B/gi,";")}function T2(t){return encodeURI(t)}function jy(t){return t0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jd(t){return decodeURIComponent(t)}function $S(t){return jd(t.replace(/\+/g,"%20"))}function n0(t){return`${jy(t.path)}${D2(t.parameters)}`}function D2(t){return Object.entries(t).map(([e,n])=>`;${jy(e)}=${jy(n)}`).join("")}function b2(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Od(n)}=${Od(i)}`).join("&"):`${Od(n)}=${Od(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var C2=/^[^\/()?;#]+/;function xy(t){let e=t.match(C2);return e?e[0]:""}var S2=/^[^\/()?;=#]+/;function A2(t){let e=t.match(S2);return e?e[0]:""}var R2=/^[^=?&#]+/;function N2(t){let e=t.match(R2);return e?e[0]:""}var M2=/^[^&#]+/;function P2(t){let e=t.match(M2);return e?e[0]:""}var Uy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[te]=new ye(e,n)),r}parseSegment(){let e=xy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new zr(jd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=A2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=xy(this.remaining);i&&(r=i,this.capture(r))}e[jd(n)]=jd(r)}parseQueryParam(e){let n=N2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=P2(this.remaining);s&&(r=s,this.capture(r))}let i=$S(n),o=$S(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=xy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new V(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=te);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[te]:new ye([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}};function r0(t){return t.segments.length>0?new ye([],{[te]:t}):t}function i0(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=i0(i);if(r===te&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ye(t.segments,e);return x2(n)}function x2(t){if(t.numberOfChildren===1&&t.children[te]){let e=t.children[te];return new ye(t.segments.concat(e.segments),e.children)}return t}function qr(t){return t instanceof Dn}function o0(t,e,n=null,r=null){let i=s0(t);return a0(i,e,n,r)}function s0(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new ye(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=r0(r);return e??i}function a0(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return ky(i,i,i,n,r);let o=k2(e);if(o.toRoot())return ky(i,i,new ye([],{}),n,r);let s=O2(o,i,t),a=s.processChildren?tc(s.segmentGroup,s.index,o.commands):u0(s.segmentGroup,s.index,o.commands);return ky(i,s.segmentGroup,a,n,r)}function Bd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function rc(t){return typeof t=="object"&&t!=null&&t.outlets}function ky(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=c0(t,e,n);let a=r0(i0(s));return new Dn(a,o,i)}function c0(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=c0(o,e,n)}),new ye(t.segments,r)}var $d=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Bd(r[0]))throw new V(4003,!1);let i=r.find(rc);if(i&&i!==YS(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function k2(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new $d(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new $d(n,e,r)}var Jo=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function O2(t,e,n){if(t.isAbsolute)return new Jo(e,!0,0);if(!n)return new Jo(e,!1,NaN);if(n.parent===null)return new Jo(n,!0,0);let r=Bd(t.commands[0])?0:1,i=n.segments.length-1+r;return L2(n,i,t.numberOfDoubleDots)}function L2(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new Jo(r,!1,i-o)}function F2(t){return rc(t[0])?t[0].outlets:{[te]:t}}function u0(t,e,n){if(t??=new ye([],{}),t.segments.length===0&&t.hasChildren())return tc(t,e,n);let r=V2(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ye(t.segments.slice(0,r.pathIndex),{});return o.children[te]=new ye(t.segments.slice(r.pathIndex),t.children),tc(o,0,i)}else return r.match&&i.length===0?new ye(t.segments,{}):r.match&&!t.hasChildren()?By(t,e,n):r.match?tc(t,0,i):By(t,e,n)}function tc(t,e,n){if(n.length===0)return new ye(t.segments,{});{let r=F2(n),i={};if(Object.keys(r).some(o=>o!==te)&&t.children[te]&&t.numberOfChildren===1&&t.children[te].segments.length===0){let o=tc(t.children[te],e,n);return new ye(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=u0(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ye(t.segments,i)}}function V2(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(rc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!zS(u,l,s))return o;r+=2}else{if(!zS(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function By(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(rc(o)){let u=j2(o.outlets);return new ye(r,u)}if(i===0&&Bd(n[0])){let u=t.segments[e];r.push(new zr(u.path,HS(n[0]))),i++;continue}let s=rc(o)?o.outlets[te]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Bd(a)?(r.push(new zr(s,HS(a))),i+=2):(r.push(new zr(s,{})),i++)}return new ye(r,{})}function j2(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=By(new ye([],{}),0,r))}),e}function HS(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function zS(t,e,n){return t==n.path&&wn(e,n.parameters)}var Ud="imperative",Ye=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ye||{}),$t=class{id;url;constructor(e,n){this.id=e,this.url=n}},Fi=class extends $t{type=Ye.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},bn=class extends $t{urlAfterRedirects;type=Ye.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Pt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Pt||{}),ic=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ic||{}),Tn=class extends $t{reason;code;type=Ye.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},nr=class extends $t{reason;code;type=Ye.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},es=class extends $t{error;target;type=Ye.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},oc=class extends $t{urlAfterRedirects;state;type=Ye.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hd=class extends $t{urlAfterRedirects;state;type=Ye.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zd=class extends $t{urlAfterRedirects;state;shouldActivate;type=Ye.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},qd=class extends $t{urlAfterRedirects;state;type=Ye.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wd=class extends $t{urlAfterRedirects;state;type=Ye.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gd=class{route;type=Ye.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Kd=class{route;type=Ye.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Qd=class{snapshot;type=Ye.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yd=class{snapshot;type=Ye.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zd=class{snapshot;type=Ye.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jd=class{snapshot;type=Ye.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var sc=class{},ts=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function U2(t,e){return t.providers&&!t._injector&&(t._injector=dd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function rn(t){return t.outlet||te}function B2(t,e){let n=t.filter(r=>rn(r)===e);return n.push(...t.filter(r=>rn(r)!==e)),n}function pc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Xd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return pc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new is(this.rootInjector)}},is=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Xd(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(K(rt))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),eh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=$y(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=$y(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Hy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Hy(e,this._root).map(n=>n.value)}};function $y(t,e){if(t===e.value)return e;for(let n of e.children){let r=$y(t,n);if(r)return r}return null}function Hy(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Hy(t,n);if(r.length)return r.unshift(e),r}return[]}var Bt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Zo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var ac=class extends eh{snapshot;constructor(e,n){super(e),this.snapshot=n,Zy(this,e)}toString(){return this.snapshot.toString()}};function l0(t){let e=$2(t),n=new tt([new zr("",{})]),r=new tt({}),i=new tt({}),o=new tt({}),s=new tt(""),a=new rr(n,r,o,s,i,te,t,e.root);return a.snapshot=e.root,new ac(new Bt(a,[]),e)}function $2(t){let e={},n={},r={},i="",o=new ki([],e,r,i,n,te,t,null,{});return new cc("",new Bt(o,[]))}var rr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(se(l=>l[hc]))??G(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(e=>Oi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(e=>Oi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function th(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&h0(i)&&(r.resolve[hc]=i.title),r}var ki=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[hc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Oi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Oi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},cc=class extends eh{url;constructor(e,n){super(n),this.url=e,Zy(this,n)}toString(){return d0(this._root)}};function Zy(t,e){e.value._routerState=t,e.children.forEach(n=>Zy(t,n))}function d0(t){let e=t.children.length>0?` { ${t.children.map(d0).join(", ")} } `:"";return`${t.value}${e}`}function Oy(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,wn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),wn(e.params,n.params)||t.paramsSubject.next(n.params),m2(e.url,n.url)||t.urlSubject.next(n.url),wn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function zy(t,e){let n=wn(t.params,e.params)&&I2(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||zy(t.parent,e.parent))}function h0(t){return typeof t.title=="string"||t.title===null}var f0=new B(""),Jy=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=te;activateEvents=new St;deactivateEvents=new St;attachEvents=new St;detachEvents=new St;routerOutletData=hb(void 0);parentContexts=x(is);location=x(Vr);changeDetector=x(fd);inputBinder=x(oh,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new qy(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=jr({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ma]})}return t})(),qy=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===rr?this.route:e===is?this.childContexts:e===f0?this.outletData:this.parent.get(e,n)}},oh=new B("");var Xy=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=hC({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ly(0,"router-outlet")},dependencies:[Jy],encapsulation:2})}return t})();function ev(t){let e=t.children&&t.children.map(ev),n=e?me(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==te&&(n.component=Xy),n}function H2(t,e,n){let r=uc(t,e._root,n?n._root:void 0);return new ac(r,e)}function uc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=z2(t,e,n);return new Bt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>uc(t,a)),s}}let r=q2(e.value),i=e.children.map(o=>uc(t,o));return new Bt(r,i)}}function z2(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return uc(t,r,i);return uc(t,r)})}function q2(t){return new rr(new tt(t.url),new tt(t.params),new tt(t.queryParams),new tt(t.fragment),new tt(t.data),t.outlet,t.component,t)}var ns=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},p0="ngNavigationCancelingError";function nh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=qr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=g0(!1,Pt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function g0(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[p0]=!0,n.cancellationCode=e,n}function W2(t){return m0(t)&&qr(t.url)}function m0(t){return!!t&&t[p0]}var G2=(t,e,n,r)=>se(i=>(new Wy(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Wy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Oy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Zo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Zo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Zo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Zo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Jd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Yd(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Oy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Oy(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},rh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Xo=class{component;route;constructor(e,n){this.component=e,this.route=n}};function K2(t,e,n){let r=t._root,i=e?e._root:null;return ec(r,i,n,[r.value])}function Q2(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function os(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!lD(t)?t:e.get(t):r}function ec(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Zo(e);return t.children.forEach(s=>{Y2(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>nc(a,n.getContext(s),i)),i}function Y2(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Z2(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new rh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ec(t,e,a?a.children:null,r,i):ec(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Xo(a.outlet.component,s))}else s&&nc(e,a,i),i.canActivateChecks.push(new rh(r)),o.component?ec(t,null,a?a.children:null,r,i):ec(t,null,n,r,i);return i}function Z2(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!xi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!xi(t.url,e.url)||!wn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zy(t,e)||!wn(t.queryParams,e.queryParams);case"paramsChange":default:return!zy(t,e)}}function nc(t,e,n){let r=Zo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?nc(s,e.children.getContext(o),n):nc(s,null,n):nc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Xo(e.outlet.component,i)):n.canDeactivateChecks.push(new Xo(null,i)):n.canDeactivateChecks.push(new Xo(null,i))}function gc(t){return typeof t=="function"}function J2(t){return typeof t=="boolean"}function X2(t){return t&&gc(t.canLoad)}function ej(t){return t&&gc(t.canActivate)}function tj(t){return t&&gc(t.canActivateChild)}function nj(t){return t&&gc(t.canDeactivate)}function rj(t){return t&&gc(t.canMatch)}function y0(t){return t instanceof Un||t?.name==="EmptyError"}var Ld=Symbol("INITIAL_VALUE");function rs(){return Vt(t=>al(t.map(e=>e.pipe(Bn(1),Qp(Ld)))).pipe(se(e=>{for(let n of e)if(n!==!0){if(n===Ld)return Ld;if(n===!1||ij(n))return n}return!0}),Ft(e=>e!==Ld),Bn(1)))}function ij(t){return qr(t)||t instanceof ns}function oj(t,e){return Ge(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?G(me(F({},n),{guardsResult:!0})):sj(s,r,i,t).pipe(Ge(a=>a&&J2(a)?aj(r,o,t,e):G(a)),se(a=>me(F({},n),{guardsResult:a})))})}function sj(t,e,n,r){return Se(t).pipe(Ge(i=>hj(i.component,i.route,n,e,r)),$n(i=>i!==!0,!0))}function aj(t,e,n,r){return Se(e).pipe(Nr(i=>vo(uj(i.route.parent,r),cj(i.route,r),dj(t,i.path,n),lj(t,i.route,n))),$n(i=>i!==!0,!0))}function cj(t,e){return t!==null&&e&&e(new Zd(t)),G(!0)}function uj(t,e){return t!==null&&e&&e(new Qd(t)),G(!0)}function lj(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return G(!0);let i=r.map(o=>cl(()=>{let s=pc(e)??n,a=os(o,s),u=ej(a)?a.canActivate(e,t):it(s,()=>a(e,t));return Wr(u).pipe($n())}));return G(i).pipe(rs())}function dj(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Q2(s)).filter(s=>s!==null).map(s=>cl(()=>{let a=s.guards.map(u=>{let l=pc(s.node)??n,h=os(u,l),p=tj(h)?h.canActivateChild(r,t):it(l,()=>h(r,t));return Wr(p).pipe($n())});return G(a).pipe(rs())}));return G(o).pipe(rs())}function hj(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return G(!0);let s=o.map(a=>{let u=pc(e)??i,l=os(a,u),h=nj(l)?l.canDeactivate(t,e,n,r):it(u,()=>l(t,e,n,r));return Wr(h).pipe($n())});return G(s).pipe(rs())}function fj(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return G(!0);let o=i.map(s=>{let a=os(s,t),u=X2(a)?a.canLoad(e,n):it(t,()=>a(e,n));return Wr(u)});return G(o).pipe(rs(),v0(r))}function v0(t){return Fp(nt(e=>{if(typeof e!="boolean")throw nh(t,e)}),se(e=>e===!0))}function pj(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return G(!0);let o=i.map(s=>{let a=os(s,t),u=rj(a)?a.canMatch(e,n):it(t,()=>a(e,n));return Wr(u)});return G(o).pipe(rs(),v0(r))}var lc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},dc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Yo(t){return yo(new lc(t))}function gj(t){return yo(new V(4e3,!1))}function mj(t){return yo(g0(!1,Pt.GuardRejected))}var Gy=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return G(r);if(i.numberOfChildren>1||!i.children[te])return gj(`${e.redirectTo}`);i=i.children[te]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,params:m,data:w,title:A}=i,R=it(o,()=>a({params:m,data:w,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,title:A}));if(R instanceof Dn)throw new dc(R);n=R}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new dc(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Dn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ye(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Ky={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yj(t,e,n,r,i){let o=_0(t,e,n);return o.matched?(r=U2(e,r),pj(r,e,n,i).pipe(se(s=>s===!0?o:F({},Ky)))):G(o)}function _0(t,e,n){if(e.path==="**")return vj(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},Ky):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||KS)(n,t,e);if(!i)return F({},Ky);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function vj(t){return{matched:!0,parameters:t.length>0?YS(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function qS(t,e,n,r){return n.length>0&&Ej(t,n,r)?{segmentGroup:new ye(e,Ij(r,new ye(n,t.children))),slicedSegments:[]}:n.length===0&&wj(t,n,r)?{segmentGroup:new ye(t.segments,_j(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ye(t.segments,t.children),slicedSegments:n}}function _j(t,e,n,r){let i={};for(let o of n)if(sh(t,e,o)&&!r[rn(o)]){let s=new ye([],{});i[rn(o)]=s}return F(F({},r),i)}function Ij(t,e){let n={};n[te]=e;for(let r of t)if(r.path===""&&rn(r)!==te){let i=new ye([],{});n[rn(r)]=i}return n}function Ej(t,e,n){return n.some(r=>sh(t,e,r)&&rn(r)!==te)}function wj(t,e,n){return n.some(r=>sh(t,e,r))}function sh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Tj(t,e,n){return e.length===0&&!t.children[n]}var Qy=class{};function Dj(t,e,n,r,i,o,s="emptyOnly"){return new Yy(t,e,n,r,i,s,o).recognize()}var bj=31,Yy=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Gy(this.urlSerializer,this.urlTree)}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}recognize(){let e=qS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(se(({children:n,rootSnapshot:r})=>{let i=new Bt(r,n),o=new cc("",i),s=o0(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new ki([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),te,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,te,n).pipe(se(r=>({children:r,rootSnapshot:n})),Rr(r=>{if(r instanceof dc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof lc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(se(s=>s instanceof Bt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Se(o).pipe(Nr(s=>{let a=r.children[s],u=B2(n,s);return this.processSegmentGroup(e,u,a,s,i)}),Kp((s,a)=>(s.push(...a),s)),Mr(null),Gp(),Ge(s=>{if(s===null)return Yo(r);let a=I0(s);return Cj(a),G(a)}))}processSegment(e,n,r,i,o,s,a){return Se(n).pipe(Nr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(Rr(l=>{if(l instanceof lc)return G(null);throw l}))),$n(u=>!!u),Rr(u=>{if(y0(u))return Tj(r,i,o)?G(new Qy):Yo(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return rn(r)!==s&&(s===te||!sh(i,o,r))?Yo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Yo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=_0(n,i,o);if(!u)return Yo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>bj&&(this.allowRedirects=!1));let m=new ki(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,WS(i),rn(i),i.component??i._loadedComponent??null,i,GS(i)),w=th(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(w.params),m.data=Object.freeze(w.data);let A=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,m,e);return this.applyRedirects.lineralizeSegments(i,A).pipe(Ge(R=>this.processSegment(e,r,n,R.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=yj(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Vt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Vt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:m}=u,w=new ki(g,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,WS(r),rn(r),r.component??r._loadedComponent??null,r,GS(r)),A=th(w,s,this.paramsInheritanceStrategy);w.params=Object.freeze(A.params),w.data=Object.freeze(A.data);let{segmentGroup:R,slicedSegments:k}=qS(n,g,m,l);if(k.length===0&&R.hasChildren())return this.processChildren(h,l,R,w).pipe(se(U=>new Bt(w,U)));if(l.length===0&&k.length===0)return G(new Bt(w,[]));let $=rn(r)===o;return this.processSegment(h,l,R,k,$?te:o,!0,w).pipe(se(U=>new Bt(w,U instanceof Bt?[U]:[])))}))):Yo(n)))}getChildConfig(e,n,r){return n.children?G({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?G({routes:n._loadedRoutes,injector:n._loadedInjector}):fj(e,n,r,this.urlSerializer).pipe(Ge(i=>i?this.configLoader.loadChildren(e,n).pipe(nt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):mj(n))):G({routes:[],injector:e})}};function Cj(t){t.sort((e,n)=>e.value.outlet===te?-1:n.value.outlet===te?1:e.value.outlet.localeCompare(n.value.outlet))}function Sj(t){let e=t.value.routeConfig;return e&&e.path===""}function I0(t){let e=[],n=new Set;for(let r of t){if(!Sj(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=I0(r.children);e.push(new Bt(r.value,i))}return e.filter(r=>!n.has(r))}function WS(t){return t.data||{}}function GS(t){return t.resolve||{}}function Aj(t,e,n,r,i,o){return Ge(s=>Dj(t,e,n,r,s.extractedUrl,i,o).pipe(se(({state:a,tree:u})=>me(F({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function Rj(t,e){return Ge(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return G(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of E0(u))s.add(l);let a=0;return Se(s).pipe(Nr(u=>o.has(u)?Nj(u,r,t,e):(u.data=th(u,u.parent,t).resolve,G(void 0))),nt(()=>a++),_o(1),Ge(u=>a===s.size?G(n):Dt))})}function E0(t){let e=t.children.map(n=>E0(n)).flat();return[t,...e]}function Nj(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!h0(i)&&(o[hc]=i.title),Mj(o,t,e,r).pipe(se(s=>(t._resolvedData=s,t.data=th(t,t.parent,n).resolve,null)))}function Mj(t,e,n,r){let i=Vy(t);if(i.length===0)return G({});let o={};return Se(i).pipe(Ge(s=>Pj(t[s],e,n,r).pipe($n(),nt(a=>{if(a instanceof ns)throw nh(new Li,a);o[s]=a}))),_o(1),se(()=>o),Rr(s=>y0(s)?Dt:yo(s)))}function Pj(t,e,n,r){let i=pc(e)??r,o=os(t,i),s=o.resolve?o.resolve(e,n):it(i,()=>o(e,n));return Wr(s)}function Ly(t){return Vt(e=>{let n=t(e);return n?Se(n).pipe(se(()=>e)):G(e)})}var tv=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===te);return r}getResolvedTitleForRoute(n){return n.data[hc]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>x(w0),providedIn:"root"})}return t})(),w0=(()=>{class t extends tv{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(K(US))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mc=new B("",{providedIn:"root",factory:()=>({})}),yc=new B(""),T0=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(jC);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return G(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Wr(n.loadComponent()).pipe(se(b0),nt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),pi(()=>{this.componentLoaders.delete(n)})),i=new go(r,()=>new We).pipe(po());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=D0(r,this.compiler,n,this.onLoadEndListener).pipe(pi(()=>{this.childrenLoaders.delete(r)})),s=new go(o,()=>new We).pipe(po());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function D0(t,e,n,r){return Wr(t.loadChildren()).pipe(se(b0),Ge(i=>i instanceof sy||Array.isArray(i)?G(i):Se(e.compileModuleAsync(i))),se(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(yc,[],{optional:!0,self:!0}).flat()),{routes:s.map(ev),injector:o}}))}function xj(t){return t&&typeof t=="object"&&"default"in t}function b0(t){return xj(t)?t.default:t}var ah=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>x(kj),providedIn:"root"})}return t})(),kj=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),C0=new B("");var S0=new B(""),A0=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new We;transitionAbortSubject=new We;configLoader=x(T0);environmentInjector=x(rt);destroyRef=x(Qn);urlSerializer=x(fc);rootContexts=x(is);location=x(Wo);inputBindingEnabled=x(oh,{optional:!0})!==null;titleStrategy=x(tv);options=x(mc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(ah);createViewTransition=x(C0,{optional:!0});navigationErrorHandler=x(S0,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>G(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Gd(i)),r=i=>this.events.next(new Kd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(me(F({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new tt(null),this.transitions.pipe(Ft(r=>r!==null),Vt(r=>{let i=!1,o=!1;return G(r).pipe(Vt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Pt.SupersededByNewNavigation),Dt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?me(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&u!=="reload"){let l="";return this.events.next(new nr(s.id,this.urlSerializer.serialize(s.rawUrl),l,ic.IgnoredSameUrlNavigation)),s.resolve(!1),Dt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return G(s).pipe(Vt(l=>(this.events.next(new Fi(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Dt:Promise.resolve(l))),Aj(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),nt(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=me(F({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new oc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:g,extras:m}=s,w=new Fi(l,this.urlSerializer.serialize(h),p,g);this.events.next(w);let A=l0(this.rootComponentType).snapshot;return this.currentTransition=r=me(F({},s),{targetSnapshot:A,urlAfterRedirects:h,extras:me(F({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,G(r)}else{let l="";return this.events.next(new nr(s.id,this.urlSerializer.serialize(s.extractedUrl),l,ic.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Dt}}),nt(s=>{let a=new Hd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),se(s=>(this.currentTransition=r=me(F({},s),{guards:K2(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),oj(this.environmentInjector,s=>this.events.next(s)),nt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw nh(this.urlSerializer,s.guardsResult);let a=new zd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ft(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Pt.GuardRejected),!1)),Ly(s=>{if(s.guards.canActivateChecks.length!==0)return G(s).pipe(nt(a=>{let u=new qd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Vt(a=>{let u=!1;return G(a).pipe(Rj(this.paramsInheritanceStrategy,this.environmentInjector),nt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",Pt.NoDataFromResolver)}}))}),nt(a=>{let u=new Wd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Ly(s=>{let a=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(nt(h=>{u.component=h}),se(()=>{})));for(let h of u.children)l.push(...a(h));return l};return al(a(s.targetSnapshot.root)).pipe(Mr(null),Bn(1))}),Ly(()=>this.afterPreactivation()),Vt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?Se(u).pipe(se(()=>r)):G(r)}),se(s=>{let a=H2(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=me(F({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),nt(()=>{this.events.next(new sc)}),G2(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Bn(1),nt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new bn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Yp(this.transitionAbortSubject.pipe(nt(s=>{throw s}))),pi(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Pt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Rr(s=>{if(this.destroyed)return r.resolve(!1),Dt;if(o=!0,m0(s))this.events.next(new Tn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),W2(s)?this.events.next(new ts(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new es(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=it(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof ns){let{message:l,cancellationCode:h}=nh(this.urlSerializer,u);this.events.next(new Tn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new ts(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Dt}))}))}cancelNavigationTransition(n,r,i){let o=new Tn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Oj(t){return t!==Ud}var R0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>x(Lj),providedIn:"root"})}return t})(),ih=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Lj=(()=>{class t extends ih{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Lm(t)))(i||t)}})();static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),N0=(()=>{class t{urlSerializer=x(fc);options=x(mc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x(Wo);urlHandlingStrategy=x(ah);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Dn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Dn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=l0(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>x(Fj),providedIn:"root"})}return t})(),Fj=(()=>{class t extends N0{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Fi?this.updateStateMemento():n instanceof nr?this.commitTransition(r):n instanceof oc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof sc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Tn&&(n.code===Pt.GuardRejected||n.code===Pt.NoDataFromResolver)?this.restoreHistory(r):n instanceof es?this.restoreHistory(r,!0):n instanceof bn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,u=F(F({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",u)}else{let a=F(F({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Lm(t)))(i||t)}})();static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function nv(t,e){t.events.pipe(Ft(n=>n instanceof bn||n instanceof Tn||n instanceof es||n instanceof nr),se(n=>n instanceof bn||n instanceof nr?0:(n instanceof Tn?n.code===Pt.Redirect||n.code===Pt.SupersededByNewNavigation:!1)?2:1),Ft(n=>n!==2),Bn(1)).subscribe(()=>{e()})}var Vj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},vc=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x(vC);stateManager=x(N0);options=x(mc,{optional:!0})||{};pendingTasks=x(Yn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(A0);urlSerializer=x(fc);location=x(Wo);urlHandlingStrategy=x(ah);_events=new We;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(R0);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(yc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(oh,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Me;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Tn&&r.code!==Pt.Redirect&&r.code!==Pt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof bn)this.navigated=!0;else if(r instanceof ts){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Oj(i.source)},s);this.scheduleNavigation(a,Ud,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Bj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ud,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=F({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(ev),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=s0(g)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return a0(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=qr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ud,null,r)}navigate(n,r={skipLocationChange:!1}){return Uj(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=F({},Vj):r===!1?i=F({},jj):i=r,qr(n))return BS(this.currentUrlTree,n,i);let o=this.parseUrl(n);return BS(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return nv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Uj(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new V(4008,!1)}function Bj(t){return!(t instanceof sc)&&!(t instanceof ts)}var M0=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new We;constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof bn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(qr(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:Sb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:qr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(xe(vc),xe(rr),Fm("tabindex"),xe(ld),xe(Fr),xe(qo))};static \u0275dir=jr({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&dy("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&uy("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",pd],skipLocationChange:[2,"skipLocationChange","skipLocationChange",pd],replaceUrl:[2,"replaceUrl","replaceUrl",pd],routerLink:"routerLink"},features:[Ma]})}return t})();var Hj=new B("");function zj(t,...e){return Wn([{provide:yc,multi:!0,useValue:t},[],{provide:rr,useFactory:qj,deps:[vc]},{provide:cy,multi:!0,useFactory:Wj},e.map(n=>n.\u0275providers)])}function qj(t){return t.routerState.root}function Wj(){let t=x(Et);return e=>{let n=t.get(Ri);if(e!==n.components[0])return;let r=t.get(vc),i=t.get(Gj);t.get(Kj)===1&&r.initialNavigation(),t.get(Qj,null,re.Optional)?.setUpPreloading(),t.get(Hj,null,re.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Gj=new B("",{factory:()=>new We}),Kj=new B("",{providedIn:"root",factory:()=>1});var Qj=new B("");var P0=()=>{};var O0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Yj=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ch={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,m=l&63;u||(m=64,s||(g=64)),r.push(n[h],n[p],n[g],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(O0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Yj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new iv;let g=o<<2|a>>4;if(r.push(g),l!==64){let m=a<<4&240|l>>2;if(r.push(m),p!==64){let w=l<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},iv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Zj=function(t){let e=O0(t);return ch.encodeByteArray(e,!0)},Ic=function(t){return Zj(t).replace(/\./g,"")},uh=function(t){try{return ch.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Jj=()=>sv().__FIREBASE_DEFAULTS__,Xj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&uh(t[1]);return e&&JSON.parse(e)},lh=()=>{try{return P0()||Jj()||Xj()||eU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},av=t=>{var e,n;return(n=(e=lh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},L0=t=>{let e=av(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cv=()=>{var t;return(t=lh())===null||t===void 0?void 0:t.config},uv=t=>{var e;return(e=lh())===null||e===void 0?void 0:e[`_${t}`]};var Vi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Gr(t){return t.endsWith(".cloudworkstations.dev")}function dh(t){return _(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function F0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ic(JSON.stringify(n)),Ic(JSON.stringify(s)),""].join(".")}var _c={};function tU(){let t={prod:[],emulator:[]};for(let e of Object.keys(_c))_c[e]?t.emulator.push(e):t.prod.push(e);return t}function nU(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var x0=!1;function hh(t,e){if(typeof window>"u"||typeof document>"u"||!Gr(window.location.host)||_c[t]===e||_c[t]||x0)return;_c[t]=e;function n(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=tU().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{x0=!0,s()},g}function h(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=nU(r),m=n("text"),w=document.getElementById(m)||document.createElement("span"),A=n("learnmore"),R=document.getElementById(A)||document.createElement("a"),k=n("preprendIcon"),$=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let U=g.element;a(U),h(R,A);let he=l();u($,k),U.append($,w,R,he),document.body.appendChild(U)}o?(w.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function V0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function rU(){var t;let e=(t=lh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function j0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function U0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function B0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $0(){let t=Ze();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function H0(){return!rU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ec(){try{return typeof indexedDB=="object"}catch{return!1}}function z0(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var iU="FirebaseError",Ht=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iU,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,on.prototype.create)}},on=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?oU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ht(i,a,r)}};function oU(t,e){return t.replace(sU,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var sU=/\{\$([^}]+)}/g;function q0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Cn(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(k0(o)&&k0(s)){if(!Cn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function k0(t){return t!==null&&typeof t=="object"}function ss(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function as(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function cs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function W0(t,e){let n=new ov(t,e);return n.subscribe.bind(n)}var ov=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=rv),i.error===void 0&&(i.error=rv),i.complete===void 0&&(i.complete=rv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function aU(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rv(){}var xY=4*60*60*1e3;function Ae(t){return t&&t._delegate?t._delegate:t}var wt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ji="[DEFAULT]";var lv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Vi;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uU(e))try{this.getOrInitializeService({instanceIdentifier:ji})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ji){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ji){return this.instances.has(e)}getOptions(e=ji){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ji){return this.component?this.component.multipleInstances?e:ji:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function cU(t){return t===ji?void 0:t}function uU(t){return t.instantiationMode==="EAGER"}var fh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new lv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var lU=[],ue=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ue||{}),dU={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},hU=ue.INFO,fU={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},pU=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=fU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Sn=class{constructor(e){this.name=e,this._logLevel=hU,this._logHandler=pU,this._userLogHandler=null,lU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}};var gU=(t,e)=>e.some(n=>t instanceof n),G0,K0;function mU(){return G0||(G0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yU(){return K0||(K0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Q0=new WeakMap,hv=new WeakMap,Y0=new WeakMap,dv=new WeakMap,pv=new WeakMap;function vU(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(An(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Q0.set(n,t)}).catch(()=>{}),pv.set(e,t),e}function _U(t){if(hv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});hv.set(t,e)}var fv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Y0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return An(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Z0(t){fv=t(fv)}function IU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ph(this),e,...n);return Y0.set(r,e.sort?e.sort():[e]),An(r)}:yU().includes(t)?function(...e){return t.apply(ph(this),e),An(Q0.get(this))}:function(...e){return An(t.apply(ph(this),e))}}function EU(t){return typeof t=="function"?IU(t):(t instanceof IDBTransaction&&_U(t),gU(t,mU())?new Proxy(t,fv):t)}function An(t){if(t instanceof IDBRequest)return vU(t);if(dv.has(t))return dv.get(t);let e=EU(t);return e!==t&&(dv.set(t,e),pv.set(e,t)),e}var ph=t=>pv.get(t);function X0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=An(s);return r&&s.addEventListener("upgradeneeded",u=>{r(An(s.result),u.oldVersion,u.newVersion,An(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var wU=["get","getKey","getAll","getAllKeys","count"],TU=["put","add","delete","clear"],gv=new Map;function J0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gv.get(e))return gv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=TU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wU.includes(n)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return gv.set(e,o),o}Z0(t=>me(F({},t),{get:(e,n,r)=>J0(e,n)||t.get(e,n,r),has:(e,n)=>!!J0(e,n)||t.has(e,n)}));var yv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DU(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function DU(t){let e=t.getComponent();return e?.type==="VERSION"}var vv="@firebase/app",eA="0.13.1";var ir=new Sn("@firebase/app"),bU="@firebase/app-compat",CU="@firebase/analytics-compat",SU="@firebase/analytics",AU="@firebase/app-check-compat",RU="@firebase/app-check",NU="@firebase/auth",MU="@firebase/auth-compat",PU="@firebase/database",xU="@firebase/data-connect",kU="@firebase/database-compat",OU="@firebase/functions",LU="@firebase/functions-compat",FU="@firebase/installations",VU="@firebase/installations-compat",jU="@firebase/messaging",UU="@firebase/messaging-compat",BU="@firebase/performance",$U="@firebase/performance-compat",HU="@firebase/remote-config",zU="@firebase/remote-config-compat",qU="@firebase/storage",WU="@firebase/storage-compat",GU="@firebase/firestore",KU="@firebase/ai",QU="@firebase/firestore-compat",YU="firebase",ZU="11.9.0";var _v="[DEFAULT]",JU={[vv]:"fire-core",[bU]:"fire-core-compat",[SU]:"fire-analytics",[CU]:"fire-analytics-compat",[RU]:"fire-app-check",[AU]:"fire-app-check-compat",[NU]:"fire-auth",[MU]:"fire-auth-compat",[PU]:"fire-rtdb",[xU]:"fire-data-connect",[kU]:"fire-rtdb-compat",[OU]:"fire-fn",[LU]:"fire-fn-compat",[FU]:"fire-iid",[VU]:"fire-iid-compat",[jU]:"fire-fcm",[UU]:"fire-fcm-compat",[BU]:"fire-perf",[$U]:"fire-perf-compat",[HU]:"fire-rc",[zU]:"fire-rc-compat",[qU]:"fire-gcs",[WU]:"fire-gcs-compat",[GU]:"fire-fst",[QU]:"fire-fst-compat",[KU]:"fire-vertex","fire-js":"fire-js",[YU]:"fire-js-all"};var wc=new Map,XU=new Map,Iv=new Map;function tA(t,e){try{t.container.addComponent(e)}catch(n){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sn(t){let e=t.name;if(Iv.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;Iv.set(e,t);for(let n of wc.values())tA(n,t);for(let n of XU.values())tA(n,t);return!0}function us(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tt(t){return t==null?!1:t.settings!==void 0}var eB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new on("app","Firebase",eB);var Ev=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}};var Qr=ZU;function Dv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:_v,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Kr.create("bad-app-name",{appName:String(i)});if(n||(n=cv()),!n)throw Kr.create("no-options");let o=wc.get(i);if(o){if(Cn(n,o.options)&&Cn(r,o.config))return o;throw Kr.create("duplicate-app",{appName:i})}let s=new fh(i);for(let u of Iv.values())s.addComponent(u);let a=new Ev(n,r,s);return wc.set(i,a),a}function Ui(t=_v){let e=wc.get(t);if(!e&&t===_v&&cv())return Dv();if(!e)throw Kr.create("no-app",{appName:t});return e}function gh(){return Array.from(wc.values())}function Ue(t,e,n){var r;let i=(r=JU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(a.join(" "));return}sn(new wt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var tB="firebase-heartbeat-database",nB=1,Tc="firebase-heartbeat-store",mv=null;function oA(){return mv||(mv=X0(tB,nB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Tc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Kr.create("idb-open",{originalErrorMessage:t.message})})),mv}function rB(t){return _(this,null,function*(){try{let n=(yield oA()).transaction(Tc),r=yield n.objectStore(Tc).get(sA(t));return yield n.done,r}catch(e){if(e instanceof Ht)ir.warn(e.message);else{let n=Kr.create("idb-get",{originalErrorMessage:e?.message});ir.warn(n.message)}}})}function nA(t,e){return _(this,null,function*(){try{let r=(yield oA()).transaction(Tc,"readwrite");yield r.objectStore(Tc).put(e,sA(t)),yield r.done}catch(n){if(n instanceof Ht)ir.warn(n.message);else{let r=Kr.create("idb-set",{originalErrorMessage:n?.message});ir.warn(r.message)}}})}function sA(t){return`${t.name}!${t.options.appId}`}var iB=1024,oB=30,wv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Tv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=rA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>oB){let s=aB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ir.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=rA(),{heartbeatsToSend:r,unsentEntries:i}=sB(this._heartbeatsCache.heartbeats),o=Ic(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ir.warn(n),""}})}};function rA(){return new Date().toISOString().substring(0,10)}function sB(t,e=iB){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),iA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),iA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Tv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return Ec()?z0().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield rB(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return nA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return nA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function iA(t){return Ic(JSON.stringify({version:2,heartbeats:t})).length}function aB(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function cB(t){sn(new wt("platform-logger",e=>new yv(e),"PRIVATE")),sn(new wt("heartbeat",e=>new wv(e),"PRIVATE")),Ue(vv,eA,t),Ue(vv,eA,"esm2017"),Ue("fire-js","")}cB("");var uB="firebase",lB="11.9.1";Ue(uB,lB,"app");function wA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var TA=wA,DA=new on("auth","Firebase",wA());var Eh=new Sn("@firebase/auth");function dB(t,...e){Eh.logLevel<=ue.WARN&&Eh.warn(`Auth (${Qr}): ${t}`,...e)}function yh(t,...e){Eh.logLevel<=ue.ERROR&&Eh.error(`Auth (${Qr}): ${t}`,...e)}function Qt(t,...e){throw Wv(t,...e)}function an(t,...e){return Wv(t,...e)}function qv(t,e,n){let r=Object.assign(Object.assign({},TA()),{[e]:n});return new on("auth","Firebase",r).create(e,{appName:t.name})}function ar(t){return qv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hB(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qt(t,"argument-error"),qv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wv(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DA.create(t,...e)}function W(t,e,...n){if(!t)throw Wv(e,...n)}function or(t){let e="INTERNAL ASSERTION FAILED: "+t;throw yh(e),new Error(e)}function cr(t,e){t||or(e)}function wh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function bA(){return aA()==="http:"||aA()==="https:"}function aA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function fB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bA()||U0()||"connection"in navigator)?navigator.onLine:!0}function pB(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Bi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,cr(n>e,"Short delay should be less than long delay!"),this.isMobile=V0()||B0()}get(){return fB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Gv(t,e){cr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Th=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var gB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var mB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yB=new Bi(3e4,6e4);function ur(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function lr(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){return CA(t,i,()=>_(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=ss(Object.assign({key:t.config.apiKey},h)).slice(1),g=yield t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);let m=Object.assign({method:e,headers:g},l);return j0()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Gr(t.emulatorConfig.host)&&(m.credentials="include"),Th.fetch()(yield SA(t,t.config.apiHost,n,p),m)}))})}function CA(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},gB),e);try{let i=new Sv(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw mh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw mh(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw mh(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw mh(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw qv(t,h,l);Qt(t,h)}}catch(i){if(i instanceof Ht)throw i;Qt(t,"network-request-failed",{message:String(i)})}})}function Pc(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield lr(t,e,n,r,i);return"mfaPendingCredential"in l&&Qt(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function SA(t,e,n,r){return _(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?Gv(t.config,i):`${t.config.apiScheme}://${i}`;return mB.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function vB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Sv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(an(this.auth,"network-request-failed")),yB.get())})}};function mh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=an(t,e,r);return i.customData._tokenResponse=n,i}function cA(t){return t!==void 0&&t.enterprise!==void 0}var Av=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return vB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function _B(t,e){return _(this,null,function*(){return lr(t,"GET","/v2/recaptchaConfig",ur(t,e))})}function IB(t,e){return _(this,null,function*(){return lr(t,"POST","/v1/accounts:delete",e)})}function Dh(t,e){return _(this,null,function*(){return lr(t,"POST","/v1/accounts:lookup",e)})}function bc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Kv(t,e=!1){return _(this,null,function*(){let n=Ae(t),r=yield n.getIdToken(e),i=Qv(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:bc(bv(i.auth_time)),issuedAtTime:bc(bv(i.iat)),expirationTime:bc(bv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function bv(t){return Number(t)*1e3}function Qv(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{let i=uh(n);return i?JSON.parse(i):(yh("Failed to decode base64 JWT payload"),null)}catch(i){return yh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function uA(t){let e=Qv(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Sc(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Ht&&EB(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function EB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Rv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ac=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bc(this.lastLoginAt),this.creationTime=bc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function bh(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Sc(t,Dh(n,{idToken:r}));W(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?AA(o.providerUserInfo):[],a=wB(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ac(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function Yv(t){return _(this,null,function*(){let e=Ae(t);yield bh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function wB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function AA(t){return t.map(e=>{var{providerId:n}=e,r=Gu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function TB(t,e){return _(this,null,function*(){let n=yield CA(t,{},()=>_(null,null,function*(){let r=ss({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield SA(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return t.emulatorConfig&&Gr(t.emulatorConfig.host)&&(u.credentials="include"),Th.fetch()(s,u)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function DB(t,e){return _(this,null,function*(){return lr(t,"POST","/v2/accounts:revokeToken",ur(t,e))})}var Cc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){W(e.length!==0,"internal-error");let n=uA(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield TB(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(W(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(W(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return or("not implemented")}};function Yr(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Zr=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Gu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ac(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield Sc(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Kv(this,e)}reload(){return Yv(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield bh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(Tt(this.auth.app))return Promise.reject(ar(this.auth));let e=yield this.getIdToken();return yield Sc(this,IB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=n.photoURL)!==null&&s!==void 0?s:void 0,A=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=n.createdAt)!==null&&l!==void 0?l:void 0,$=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:U,emailVerified:he,isAnonymous:ze,providerData:ce,stsTokenManager:D}=n;W(U&&D,e,"internal-error");let v=Cc.fromJSON(this.name,D);W(typeof U=="string",e,"internal-error"),Yr(p,e.name),Yr(g,e.name),W(typeof he=="boolean",e,"internal-error"),W(typeof ze=="boolean",e,"internal-error"),Yr(m,e.name),Yr(w,e.name),Yr(A,e.name),Yr(R,e.name),Yr(k,e.name),Yr($,e.name);let E=new t({uid:U,auth:e,email:g,emailVerified:he,displayName:p,isAnonymous:ze,photoURL:w,phoneNumber:m,tenantId:A,stsTokenManager:v,createdAt:k,lastLoginAt:$});return ce&&Array.isArray(ce)&&(E.providerData=ce.map(T=>Object.assign({},T))),R&&(E._redirectEventId=R),E}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new Cc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield bh(o),o})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];W(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?AA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Cc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ac(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var lA=new Map;function sr(t){cr(t instanceof Function,"Expected a class definition");let e=lA.get(t);return e?(cr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lA.set(t,e),e)}var bB=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Nv=bB;function vh(t,e,n){return`firebase:${t}:${e}:${n}`}var Ch=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=vh(this.userKey,i.apiKey,o),this.fullPersistenceKey=vh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Dh(this.auth,{idToken:e}).catch(()=>{});return n?Zr._fromGetAccountInfoResponse(this.auth,n,e):null}return Zr._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(sr(Nv),e,r);let i=(yield Promise.all(n.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||sr(Nv),s=vh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let g=yield Dh(e,{idToken:h}).catch(()=>{});if(!g)break;p=yield Zr._fromGetAccountInfoResponse(e,g,h)}else p=Zr._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function dA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kA(e))return"Blackberry";if(OA(e))return"Webos";if(NA(e))return"Safari";if((e.includes("chrome/")||MA(e))&&!e.includes("edge/"))return"Chrome";if(xA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function RA(t=Ze()){return/firefox\//i.test(t)}function NA(t=Ze()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MA(t=Ze()){return/crios\//i.test(t)}function PA(t=Ze()){return/iemobile/i.test(t)}function xA(t=Ze()){return/android/i.test(t)}function kA(t=Ze()){return/blackberry/i.test(t)}function OA(t=Ze()){return/webos/i.test(t)}function Zv(t=Ze()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function CB(t=Ze()){var e;return Zv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SB(){return $0()&&document.documentMode===10}function LA(t=Ze()){return Zv(t)||xA(t)||OA(t)||kA(t)||/windows phone/i.test(t)||PA(t)}function FA(t,e=[]){let n;switch(t){case"Browser":n=dA(Ze());break;case"Worker":n=`${dA(Ze())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qr}/${r}`}var Mv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function AB(n){return _(this,arguments,function*(t,e={}){return lr(t,"GET","/v2/passwordPolicy",ur(t,e))})}var RB=6,Pv=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:RB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var xv=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sh(this),this.idTokenSubscription=new Sh(this),this.beforeStateQueue=new Mv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Ch.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield Dh(this,{idToken:e}),r=yield Zr._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(Tt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield bh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=pB()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(Tt(this.app))return Promise.reject(ar(this));let n=e?Ae(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return Tt(this.app)?Promise.reject(ar(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Tt(this.app)?Promise.reject(ar(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(sr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield AB(this),n=new Pv(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new on("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield DB(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&sr(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=yield Ch.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;if(Tt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&dB(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Jr(t){return Ae(t)}var Sh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=W0(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Lh={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NB(t){Lh=t}function VA(t){return Lh.loadJS(t)}function MB(){return Lh.recaptchaEnterpriseScript}function PB(){return Lh.gapiScript}function jA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var kv=class{constructor(){this.enterprise=new Ov}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},Ov=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var xB="recaptcha-enterprise",UA="NO_RECAPTCHA",Lv=class{constructor(e){this.type=xB,this.auth=Jr(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(null,null,function*(){_B(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Av(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;cA(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(UA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kv().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&cA(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=MB();u.length!==0&&(u+=a),VA(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function Dc(t,e,n,r=!1,i=!1){return _(this,null,function*(){let o=new Lv(t),s;if(i)s=UA;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Fv(t,e,n,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Dc(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(a=>_(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield Dc(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Dc(t,e,n);return r(t,a).catch(u=>_(null,null,function*(){var l;if(((l=t._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let h=yield Dc(t,e,n,!1,!0);return r(t,h)}return Promise.reject(u)}))}else{let a=yield Dc(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")})}function Jv(t,e){let n=us(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Cn(o,e??{}))return i;Qt(i,"already-initialized")}return n.initialize({options:e})}function kB(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(sr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Xv(t,e,n){let r=Jr(t);W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=BA(e),{host:s,port:a}=OB(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){W(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),W(Cn(l,r.config.emulator)&&Cn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Gr(s)?(dh(`${o}//${s}${u}`),hh("Auth",!0)):i||LB()}function BA(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function OB(t){let e=BA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:hA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:hA(s)}}}function hA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function LB(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var ds=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}};function FB(t,e){return _(this,null,function*(){return lr(t,"POST","/v1/accounts:signUp",e)})}function VB(t,e){return _(this,null,function*(){return Pc(t,"POST","/v1/accounts:signInWithPassword",ur(t,e))})}function jB(t,e){return _(this,null,function*(){return Pc(t,"POST","/v1/accounts:signInWithEmailLink",ur(t,e))})}function UB(t,e){return _(this,null,function*(){return Pc(t,"POST","/v1/accounts:signInWithEmailLink",ur(t,e))})}var Rc=class t extends ds{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fv(e,n,"signInWithPassword",VB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return jB(e,{email:this._email,oobCode:this._password});default:Qt(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fv(e,r,"signUpPassword",FB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return UB(e,{idToken:n,email:this._email,oobCode:this._password});default:Qt(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function ls(t,e){return _(this,null,function*(){return Pc(t,"POST","/v1/accounts:signInWithIdp",ur(t,e))})}var BB="http://localhost",Ah=class t extends ds{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Gu(n,["providerId","signInMethod"]);if(!r||!i)return null;let s=new t(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let n=this.buildRequest();return ls(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,ls(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,ls(e,n)}buildRequest(){let e={requestUri:BB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ss(n)}return e}};function $B(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HB(t){let e=as(cs(t)).link,n=e?as(cs(e)).deep_link_id:null,r=as(cs(t)).deep_link_id;return(r?as(cs(r)).link:null)||r||n||e||t}var Rh=class t{constructor(e){var n,r,i,o,s,a;let u=as(cs(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=$B((i=u.mode)!==null&&i!==void 0?i:null);W(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=HB(e);try{return new t(n)}catch{return null}}};var $A=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Rc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Rh.parseLink(r);return W(i,"argument-error"),Rc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Nc=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Nh=class extends Nc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var zB=(()=>{class t extends Nh{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Ah._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();function qB(t,e){return _(this,null,function*(){return Pc(t,"POST","/v1/accounts:signUp",ur(t,e))})}var hs=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let o=yield Zr._fromIdTokenResponse(e,r,i),s=fA(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=fA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function fA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Vv=class t extends Ht{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function HA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Vv._fromErrorAndOperation(t,o,e,r):o})}function WB(t,e,n=!1){return _(this,null,function*(){let r=yield Sc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return hs._forOperation(t,"link",r)})}function GB(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(Tt(r.app))return Promise.reject(ar(r));let i="reauthenticate";try{let o=yield Sc(t,HA(r,i,e,t),n);W(o.idToken,r,"internal-error");let s=Qv(o.idToken);W(s,r,"internal-error");let{sub:a}=s;return W(t.uid===a,r,"user-mismatch"),hs._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Qt(r,"user-mismatch"),o}})}function zA(t,e,n=!1){return _(this,null,function*(){if(Tt(t.app))return Promise.reject(ar(t));let r="signIn",i=yield HA(t,r,e),o=yield hs._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function e_(t,e){return _(this,null,function*(){return zA(Jr(t),e)})}function qA(t){return _(this,null,function*(){let e=Jr(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function WA(t,e,n){return _(this,null,function*(){if(Tt(t.app))return Promise.reject(ar(t));let r=Jr(t),s=yield Fv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qB,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&qA(t),u}),a=yield hs._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function GA(t,e,n){return Tt(t.app)?Promise.reject(ar(t)):e_(Ae(t),$A.credential(e,n)).catch(r=>_(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&qA(t),r}))}function KB(t,e){return _(this,null,function*(){return lr(t,"POST","/v1/accounts:createAuthUri",ur(t,e))})}function KA(t,e){return _(this,null,function*(){let n=bA()?wh():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=yield KB(Ae(t),r);return i||[]})}function Fh(t,e,n,r){return Ae(t).onIdTokenChanged(e,n,r)}function t_(t,e,n){return Ae(t).beforeAuthStateChanged(e,n)}function Vh(t,e,n,r){return Ae(t).onAuthStateChanged(e,n,r)}function n_(t){return Ae(t).signOut()}var Mh="__sak";var Ph=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mh,"1"),this.storage.removeItem(Mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var QB=1e3,YB=10,ZB=(()=>{class t extends Ph{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);SB()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,YB):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},QB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield Tr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield Tr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield Tr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),QA=ZB;var JB=(()=>{class t extends Ph{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),r_=JB;function XB(t){return Promise.all(t.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var e$=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield XB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function i_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var jv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=i_("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Rn(){return window}function t$(t){Rn().location.href=t}function YA(){return typeof Rn().WorkerGlobalScope<"u"&&typeof Rn().importScripts=="function"}function n$(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function r$(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function i$(){return YA()?self:null}var ZA="firebaseLocalStorageDb",o$=1,xh="firebaseLocalStorage",JA="fbase_key",$i=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function jh(t,e){return t.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function s$(){let t=indexedDB.deleteDatabase(ZA);return new $i(t).toPromise()}function Uv(){let t=indexedDB.open(ZA,o$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(xh,{keyPath:JA})}catch(i){n(i)}}),t.addEventListener("success",()=>_(null,null,function*(){let r=t.result;r.objectStoreNames.contains(xh)?e(r):(r.close(),yield s$(),e(yield Uv()))}))})}function pA(t,e,n){return _(this,null,function*(){let r=jh(t,!0).put({[JA]:e,value:n});return new $i(r).toPromise()})}function a$(t,e){return _(this,null,function*(){let n=jh(t,!1).get(e),r=yield new $i(n).toPromise();return r===void 0?null:r.value})}function gA(t,e){let n=jh(t,!0).delete(e);return new $i(n).toPromise()}var c$=800,u$=3,l$=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield Uv(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>u$)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return YA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=e$._getInstance(i$()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield n$(),!this.activeServiceWorker)return;this.sender=new jv(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||r$()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Uv();return yield pA(n,Mh,"1"),yield gA(n,Mh),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>pA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>a$(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>gA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(o=>{let s=jh(o,!1).getAll();return new $i(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),c$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),XA=l$;var lZ=jA("rcb"),dZ=new Bi(3e4,6e4);function eR(t,e){return e?sr(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Mc=class extends ds{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ls(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ls(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ls(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function d$(t){return zA(t.auth,new Mc(t),t.bypassAuthState)}function h$(t){let{auth:e,user:n}=t;return W(n,e,"internal-error"),GB(n,new Mc(t),t.bypassAuthState)}function f$(t){return _(this,null,function*(){let{auth:e,user:n}=t;return W(n,e,"internal-error"),WB(n,new Mc(t),t.bypassAuthState)})}var kh=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return d$;case"linkViaPopup":case"linkViaRedirect":return f$;case"reauthViaPopup":case"reauthViaRedirect":return h$;default:Qt(this.auth,"internal-error")}}resolve(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var p$=new Bi(2e3,1e4);function o_(t,e,n){return _(this,null,function*(){if(Tt(t.app))return Promise.reject(an(t,"operation-not-supported-in-this-environment"));let r=Jr(t);hB(t,e,Nc);let i=eR(r,n);return new g$(r,"signInViaPopup",e,i).executeNotNull()})}var g$=(()=>{class t extends kh{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return _(this,null,function*(){let n=yield this.execute();return W(n,this.auth,"internal-error"),n})}onExecution(){return _(this,null,function*(){cr(this.filter.length===1,"Popup operations only handle one event");let n=i_();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(an(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(an(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(an(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,p$.get())};n()}}t.currentPopupAction=null;return t})(),m$="pendingRedirect",_h=new Map,Bv=class t extends kh{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=_h.get(this.auth._key());if(!e){try{let r=(yield y$(this.resolver,this.auth))?yield Tr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_h.set(this.auth._key(),e)}return this.bypassAuthState||_h.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return Tr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Tr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function y$(t,e){return _(this,null,function*(){let n=I$(e),r=_$(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function v$(t,e){_h.set(t._key(),e)}function _$(t){return sr(t._redirectPersistence)}function I$(t){return vh(m$,t.config.apiKey,t.name)}function E$(t,e,n=!1){return _(this,null,function*(){if(Tt(t.app))return Promise.reject(ar(t));let r=Jr(t),i=eR(r,e),s=yield new Bv(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var w$=10*60*1e3,$v=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!T$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!tR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(an(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=w$&&this.cachedEventUids.clear(),this.cachedEventUids.has(mA(e))}saveEventToCache(e){this.cachedEventUids.add(mA(e)),this.lastProcessedEventTime=Date.now()}};function mA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function tR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function T$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tR(t);default:return!1}}function D$(n){return _(this,arguments,function*(t,e={}){return lr(t,"GET","/v1/projects",e)})}var b$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C$=/^https?/;function S$(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield D$(t);for(let n of e)try{if(A$(n))return}catch{}Qt(t,"unauthorized-domain")})}function A$(t){let e=wh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!C$.test(n))return!1;if(b$.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var R$=new Bi(3e4,6e4);function yA(){let t=Rn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function N$(t){return new Promise((e,n)=>{var r,i,o;function s(){yA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yA(),n(an(t,"network-request-failed"))},timeout:R$.get()})}if(!((i=(r=Rn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Rn().gapi)===null||o===void 0)&&o.load)s();else{let a=jA("iframefcb");return Rn()[a]=()=>{gapi.load?s():n(an(t,"network-request-failed"))},VA(`${PB()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Ih=null,e})}var Ih=null;function M$(t){return Ih=Ih||N$(t),Ih}var P$=new Bi(5e3,15e3),x$="__/auth/iframe",k$="emulator/auth/iframe",O$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F$(t){let e=t.config;W(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Gv(e,k$):`https://${t.config.authDomain}/${x$}`,r={apiKey:e.apiKey,appName:t.name,v:Qr},i=L$.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ss(r).slice(1)}`}function V$(t){return _(this,null,function*(){let e=yield M$(t),n=Rn().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:F$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O$,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=an(t,"network-request-failed"),a=Rn().setTimeout(()=>{o(s)},P$.get());function u(){Rn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var j$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},U$=500,B$=600,$$="_blank",H$="http://localhost",Oh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function z$(t,e,n,r=U$,i=B$){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},j$),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ze().toLowerCase();n&&(a=MA(l)?$$:n),RA(l)&&(e=e||H$,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[m,w])=>`${g}${m}=${w},`,"");if(CB(l)&&a!=="_self")return q$(e||"",a),new Oh(null);let p=window.open(e||"",a,h);W(p,t,"popup-blocked");try{p.focus()}catch{}return new Oh(p)}function q$(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var W$="__/auth/handler",G$="emulator/auth/handler",K$=encodeURIComponent("fac");function vA(t,e,n,r,i,o){return _(this,null,function*(){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qr,eventId:i};if(e instanceof Nc){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",q0(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Nh){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${K$}=${encodeURIComponent(u)}`:"";return`${Q$(t)}?${ss(a).slice(1)}${l}`})}function Q$({config:t}){return t.emulator?Gv(t,G$):`https://${t.authDomain}/${W$}`}var Cv="webStorageSupport",Hv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=r_,this._completeRedirectFn=E$,this._overrideRedirectResult=v$}_openPopup(e,n,r,i){return _(this,null,function*(){var o;cr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield vA(e,n,r,wh(),i);return z$(e,s,i_())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield vA(e,n,r,wh(),i);return t$(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(cr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield V$(e),r=new $v(e);return n.register("authEvent",i=>(W(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cv,{type:Cv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Cv];s!==void 0&&n(!!s),Qt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=S$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LA()||NA()||Zv()}},nR=Hv;var _A="@firebase/auth",IA="1.10.7";var zv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Y$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Z$(t){sn(new wt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;W(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FA(t)},l=new xv(r,i,o,u);return kB(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sn(new wt("auth-internal",e=>{let n=Jr(e.getProvider("auth").getImmediate());return(r=>new zv(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ue(_A,IA,Y$(t)),Ue(_A,IA,"esm2017")}var J$=5*60,X$=uv("authIdTokenMaxAge")||J$,EA=null,eH=t=>e=>_(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>X$)return;let i=n?.token;EA!==i&&(EA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function rR(t=Ui()){let e=us(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Jv(t,{popupRedirectResolver:nR,persistence:[XA,QA,r_]}),r=uv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=eH(o.toString());t_(n,s,()=>s(n.currentUser)),Fh(n,a=>s(a))}}let i=av("auth");return i&&Xv(n,`http://${i}`),n}function tH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}NB({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=an("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",tH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Z$("Browser");function s_(t){t===void 0&&(_m(s_),t=x(Et));let e=t.get(td);return n=>new ne(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var ps=new Aa("ANGULARFIRE2_VERSION");function a_(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Bh=(t,e)=>{let n=e?[e]:gh(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},fs=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(fs||{}),oR=hy()&&typeof Zone<"u"?fs.WARN:fs.SILENT;var Uh=class{zone;delegate;constructor(e,n=qp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},gs=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=x(_e);this.outsideAngular=n.runOutsideAngular(()=>new Uh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Uh(typeof Zone>"u"?void 0:Zone.current,zp))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),sR=!1;function UH(t,e){!sR&&(oR>fs.SILENT||hy())&&(sR=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),oR>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function BH(t){let e=x(_e,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Hi(t){let e=x(_e,{optional:!0});return e?e.run(()=>t()):t()}var $H=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),it(n,()=>Hi(()=>t.apply(void 0,r)))),zi=(t,e,n)=>(n||=e?fs.WARN:fs.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=x(gs),s=x(td),a=x(rt)}catch{return UH(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Hi(()=>s.add())),i[l]=$H(i[l],r,a));let u=BH(()=>t.apply(this,i));return e?u instanceof ne?u.pipe(Ar(o.outsideAngular),Sr(o.insideAngular),s_(a)):u instanceof Promise?Hi(()=>{let l=s.add();return new Promise((h,p)=>{u.then(g=>it(a,()=>Hi(()=>h(g))),g=>it(a,()=>Hi(()=>p(g)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Hi(()=>u):u instanceof ne?u.pipe(Ar(o.outsideAngular),Sr(o.insideAngular)):Hi(()=>u)});var qi=class{constructor(e){return e}},xc=class{constructor(){return gh()}};function HH(t){return t&&t.length===1?t[0]:new qi(Ui())}var c_=new B("angularfire2._apps"),zH={provide:qi,useFactory:HH,deps:[[new Or,c_]]},qH={provide:xc,deps:[[new Or,c_]]};function WH(t){return(e,n)=>{let r=n.get(Mi);Ue("angularfire",ps.full,"core"),Ue("angularfire",ps.full,"app"),Ue("angular",VC.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new qi(i)}}function fJ(t,...e){return Wn([zH,qH,{provide:c_,useFactory:WH(t),multi:!0,deps:[_e,Et,gs,...e]}])}var pJ=zi(Dv,!0);var GH=new Map,KH={activated:!1,tokenObservers:[]},QH={initialized:!1,enabled:!1};function cn(t){return GH.get(t)||Object.assign({},KH)}function lR(){return QH}var YH="https://content-firebaseappcheck.googleapis.com/v1";var ZH="exchangeDebugToken",aR={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},TJ=24*60*60*1e3;var d_=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new Vi,this.pending.promise.catch(n=>{}),yield JH(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Vi,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function JH(t){return new Promise(e=>{setTimeout(e,t)})}var XH={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Xr=new on("appCheck","AppCheck",XH);function dR(t){if(!cn(t).activated)throw Xr.create("use-before-activation",{appName:t.name})}function hR(r,i){return _(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(m){throw Xr.create("fetch-network-error",{originalErrorMessage:m?.message})}if(u.status!==200)throw Xr.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(m){throw Xr.create("fetch-parse-error",{originalErrorMessage:m?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Xr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function fR(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${YH}/projects/${n}/apps/${r}:${ZH}?key=${i}`,body:{debug_token:e}}}var e4="firebase-app-check-database",t4=1,h_="firebase-app-check-store";var $h=null;function n4(){return $h||($h=new Promise((t,e)=>{try{let n=indexedDB.open(e4,t4);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Xr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(h_,{keyPath:"compositeKey"})}}}catch(n){e(Xr.create("storage-open",{originalErrorMessage:n?.message}))}}),$h)}function r4(t,e){return i4(o4(t),e)}function i4(t,e){return _(this,null,function*(){let r=(yield n4()).transaction(h_,"readwrite"),o=r.objectStore(h_).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Xr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function o4(t){return`${t.options.appId}-${t.name}`}var kc=new Sn("@firebase/app-check");function u_(t,e){return Ec()?r4(t,e).catch(n=>{kc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function pR(){return lR().enabled}function gR(){return _(this,null,function*(){let t=lR();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var s4={error:"UNKNOWN_ERROR"};function a4(t){return ch.encodeString(JSON.stringify(t),!1)}function f_(t,e=!1,n=!1){return _(this,null,function*(){let r=t.app;dR(r);let i=cn(r),o=i.token,s;if(o&&!Oc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Oc(l)?o=l:yield u_(r,void 0))}if(!e&&o&&Oc(o))return{token:o.token};let a=!1;if(pR())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=hR(fR(r,yield gR()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield u_(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?kc.warn(l.message):n&&kc.error(l),l_(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield cn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?kc.warn(l.message):n&&kc.error(l),s=l}let u;return o?s?Oc(o)?u={token:o.token,internalError:s}:u=l_(s):(u={token:o.token},i.token=o,yield u_(r,o)):u=l_(s),a&&d4(r,u),u})}function c4(t){return _(this,null,function*(){let e=t.app;dR(e);let{provider:n}=cn(e);if(pR()){let r=yield gR(),{token:i}=yield hR(fR(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function u4(t,e,n,r){let{app:i}=t,o=cn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Oc(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),cR(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>cR(t))}function mR(t,e){let n=cn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function cR(t){let{app:e}=t,n=cn(e),r=n.tokenRefresher;r||(r=l4(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function l4(t){let{app:e}=t;return new d_(()=>_(null,null,function*(){let n=cn(e),r;if(n.token?r=yield f_(t,!0):r=yield f_(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=cn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},aR.RETRIAL_MIN_WAIT,aR.RETRIAL_MAX_WAIT)}function d4(t,e){let n=cn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Oc(t){return t.expireTimeMillis-Date.now()>0}function l_(t){return{token:a4(s4),error:t}}var p_=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=cn(this.app);for(let n of e)mR(this.app,n.next);return Promise.resolve()}};function h4(t,e){return new p_(t,e)}function f4(t){return{getToken:e=>f_(t,e),getLimitedUseToken:()=>c4(t),addTokenListener:e=>u4(t,"INTERNAL",e),removeTokenListener:e=>mR(t.app,e)}}var p4="@firebase/app-check",g4="0.10.0";var m4="app-check",uR="app-check-internal";function y4(){sn(new wt(m4,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return h4(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(uR).initialize()})),sn(new wt(uR,t=>{let e=t.getProvider("app-check").getImmediate();return f4(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ue(p4,g4)}y4();var v4="app-check";var Hh=class{constructor(){return Bh(v4)}};var _4=["localhost","0.0.0.0","127.0.0.1"],LJ=typeof window<"u"&&_4.includes(window.location.hostname);function yR(t){return new ne(function(e){var n=Vh(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var vR="auth",Lc=class{constructor(e){return e}},g_=class{constructor(){return Bh(vR)}};var m_=new B("angularfire2.auth-instances");function I4(t,e){let n=a_(vR,t,e);return n&&new Lc(n)}function E4(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Lc(r)}}var w4={provide:g_,deps:[[new Or,m_]]},T4={provide:Lc,useFactory:I4,deps:[[new Or,m_],qi]};function JJ(t,...e){return Ue("angularfire",ps.full,"auth"),Wn([T4,w4,{provide:m_,useFactory:E4(t),multi:!0,deps:[_e,Et,gs,xc,[new Or,Hh],...e]}])}var XJ=zi(yR,!0);var eX=zi(o_,!0,2);var tX=zi(n_,!0,2);var _R=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},IR={};var dr,y_;(function(){var t;function e(D,v){function E(){}E.prototype=v.prototype,D.D=v.prototype,D.prototype=new E,D.prototype.constructor=D,D.C=function(T,b,S){for(var I=Array(arguments.length-2),Ln=2;Ln<arguments.length;Ln++)I[Ln-2]=arguments[Ln];return v.prototype[b].apply(T,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,E){E||(E=0);var T=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)T[b]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(b=0;16>b;++b)T[b]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=D.g[0],E=D.g[1],b=D.g[2];var S=D.g[3],I=v+(S^E&(b^S))+T[0]+3614090360&4294967295;v=E+(I<<7&4294967295|I>>>25),I=S+(b^v&(E^b))+T[1]+3905402710&4294967295,S=v+(I<<12&4294967295|I>>>20),I=b+(E^S&(v^E))+T[2]+606105819&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(v^b&(S^v))+T[3]+3250441966&4294967295,E=b+(I<<22&4294967295|I>>>10),I=v+(S^E&(b^S))+T[4]+4118548399&4294967295,v=E+(I<<7&4294967295|I>>>25),I=S+(b^v&(E^b))+T[5]+1200080426&4294967295,S=v+(I<<12&4294967295|I>>>20),I=b+(E^S&(v^E))+T[6]+2821735955&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(v^b&(S^v))+T[7]+4249261313&4294967295,E=b+(I<<22&4294967295|I>>>10),I=v+(S^E&(b^S))+T[8]+1770035416&4294967295,v=E+(I<<7&4294967295|I>>>25),I=S+(b^v&(E^b))+T[9]+2336552879&4294967295,S=v+(I<<12&4294967295|I>>>20),I=b+(E^S&(v^E))+T[10]+4294925233&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(v^b&(S^v))+T[11]+2304563134&4294967295,E=b+(I<<22&4294967295|I>>>10),I=v+(S^E&(b^S))+T[12]+1804603682&4294967295,v=E+(I<<7&4294967295|I>>>25),I=S+(b^v&(E^b))+T[13]+4254626195&4294967295,S=v+(I<<12&4294967295|I>>>20),I=b+(E^S&(v^E))+T[14]+2792965006&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(v^b&(S^v))+T[15]+1236535329&4294967295,E=b+(I<<22&4294967295|I>>>10),I=v+(b^S&(E^b))+T[1]+4129170786&4294967295,v=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(v^E))+T[6]+3225465664&4294967295,S=v+(I<<9&4294967295|I>>>23),I=b+(v^E&(S^v))+T[11]+643717713&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^v&(b^S))+T[0]+3921069994&4294967295,E=b+(I<<20&4294967295|I>>>12),I=v+(b^S&(E^b))+T[5]+3593408605&4294967295,v=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(v^E))+T[10]+38016083&4294967295,S=v+(I<<9&4294967295|I>>>23),I=b+(v^E&(S^v))+T[15]+3634488961&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^v&(b^S))+T[4]+3889429448&4294967295,E=b+(I<<20&4294967295|I>>>12),I=v+(b^S&(E^b))+T[9]+568446438&4294967295,v=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(v^E))+T[14]+3275163606&4294967295,S=v+(I<<9&4294967295|I>>>23),I=b+(v^E&(S^v))+T[3]+4107603335&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^v&(b^S))+T[8]+1163531501&4294967295,E=b+(I<<20&4294967295|I>>>12),I=v+(b^S&(E^b))+T[13]+2850285829&4294967295,v=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(v^E))+T[2]+4243563512&4294967295,S=v+(I<<9&4294967295|I>>>23),I=b+(v^E&(S^v))+T[7]+1735328473&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^v&(b^S))+T[12]+2368359562&4294967295,E=b+(I<<20&4294967295|I>>>12),I=v+(E^b^S)+T[5]+4294588738&4294967295,v=E+(I<<4&4294967295|I>>>28),I=S+(v^E^b)+T[8]+2272392833&4294967295,S=v+(I<<11&4294967295|I>>>21),I=b+(S^v^E)+T[11]+1839030562&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^v)+T[14]+4259657740&4294967295,E=b+(I<<23&4294967295|I>>>9),I=v+(E^b^S)+T[1]+2763975236&4294967295,v=E+(I<<4&4294967295|I>>>28),I=S+(v^E^b)+T[4]+1272893353&4294967295,S=v+(I<<11&4294967295|I>>>21),I=b+(S^v^E)+T[7]+4139469664&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^v)+T[10]+3200236656&4294967295,E=b+(I<<23&4294967295|I>>>9),I=v+(E^b^S)+T[13]+681279174&4294967295,v=E+(I<<4&4294967295|I>>>28),I=S+(v^E^b)+T[0]+3936430074&4294967295,S=v+(I<<11&4294967295|I>>>21),I=b+(S^v^E)+T[3]+3572445317&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^v)+T[6]+76029189&4294967295,E=b+(I<<23&4294967295|I>>>9),I=v+(E^b^S)+T[9]+3654602809&4294967295,v=E+(I<<4&4294967295|I>>>28),I=S+(v^E^b)+T[12]+3873151461&4294967295,S=v+(I<<11&4294967295|I>>>21),I=b+(S^v^E)+T[15]+530742520&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^v)+T[2]+3299628645&4294967295,E=b+(I<<23&4294967295|I>>>9),I=v+(b^(E|~S))+T[0]+4096336452&4294967295,v=E+(I<<6&4294967295|I>>>26),I=S+(E^(v|~b))+T[7]+1126891415&4294967295,S=v+(I<<10&4294967295|I>>>22),I=b+(v^(S|~E))+T[14]+2878612391&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~v))+T[5]+4237533241&4294967295,E=b+(I<<21&4294967295|I>>>11),I=v+(b^(E|~S))+T[12]+1700485571&4294967295,v=E+(I<<6&4294967295|I>>>26),I=S+(E^(v|~b))+T[3]+2399980690&4294967295,S=v+(I<<10&4294967295|I>>>22),I=b+(v^(S|~E))+T[10]+4293915773&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~v))+T[1]+2240044497&4294967295,E=b+(I<<21&4294967295|I>>>11),I=v+(b^(E|~S))+T[8]+1873313359&4294967295,v=E+(I<<6&4294967295|I>>>26),I=S+(E^(v|~b))+T[15]+4264355552&4294967295,S=v+(I<<10&4294967295|I>>>22),I=b+(v^(S|~E))+T[6]+2734768916&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~v))+T[13]+1309151649&4294967295,E=b+(I<<21&4294967295|I>>>11),I=v+(b^(E|~S))+T[4]+4149444226&4294967295,v=E+(I<<6&4294967295|I>>>26),I=S+(E^(v|~b))+T[11]+3174756917&4294967295,S=v+(I<<10&4294967295|I>>>22),I=b+(v^(S|~E))+T[2]+718787259&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~v))+T[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(b+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+S&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var E=v-this.blockSize,T=this.B,b=this.h,S=0;S<v;){if(b==0)for(;S<=E;)i(this,D,S),S+=this.blockSize;if(typeof D=="string"){for(;S<v;)if(T[b++]=D.charCodeAt(S++),b==this.blockSize){i(this,T),b=0;break}}else for(;S<v;)if(T[b++]=D[S++],b==this.blockSize){i(this,T),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var E=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=E&255,E/=256;for(this.u(D),D=Array(16),v=E=0;4>v;++v)for(var T=0;32>T;T+=8)D[E++]=this.g[v]>>>T&255;return D};function o(D,v){var E=a;return Object.prototype.hasOwnProperty.call(E,D)?E[D]:E[D]=v(D)}function s(D,v){this.h=v;for(var E=[],T=!0,b=D.length-1;0<=b;b--){var S=D[b]|0;T&&S==v||(E[b]=S,T=!1)}this.g=E}var a={};function u(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var v=[],E=1,T=0;D>=E;T++)v[T]=D/E|0,E*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return R(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),T=p,b=0;b<D.length;b+=8){var S=Math.min(8,D.length-b),I=parseInt(D.substring(b,b+S),v);8>S?(S=l(Math.pow(v,S)),T=T.j(S).add(l(I))):(T=T.j(E),T=T.add(l(I)))}return T}var p=u(0),g=u(1),m=u(16777216);t=s.prototype,t.m=function(){if(A(this))return-R(this).m();for(var D=0,v=1,E=0;E<this.g.length;E++){var T=this.i(E);D+=(0<=T?T:4294967296+T)*v,v*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(w(this))return"0";if(A(this))return"-"+R(this).toString(D);for(var v=l(Math.pow(D,6)),E=this,T="";;){var b=he(E,v).g;E=k(E,b.j(v));var S=((0<E.g.length?E.g[0]:E.h)>>>0).toString(D);if(E=b,w(E))return S+T;for(;6>S.length;)S="0"+S;T=S+T}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function w(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function A(D){return D.h==-1}t.l=function(D){return D=k(this,D),A(D)?-1:w(D)?0:1};function R(D){for(var v=D.g.length,E=[],T=0;T<v;T++)E[T]=~D.g[T];return new s(E,~D.h).add(g)}t.abs=function(){return A(this)?R(this):this},t.add=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],T=0,b=0;b<=v;b++){var S=T+(this.i(b)&65535)+(D.i(b)&65535),I=(S>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);T=I>>>16,S&=65535,I&=65535,E[b]=I<<16|S}return new s(E,E[E.length-1]&-2147483648?-1:0)};function k(D,v){return D.add(R(v))}t.j=function(D){if(w(this)||w(D))return p;if(A(this))return A(D)?R(this).j(R(D)):R(R(this).j(D));if(A(D))return R(this.j(R(D)));if(0>this.l(m)&&0>D.l(m))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,E=[],T=0;T<2*v;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(var b=0;b<D.g.length;b++){var S=this.i(T)>>>16,I=this.i(T)&65535,Ln=D.i(b)>>>16,Bs=D.i(b)&65535;E[2*T+2*b]+=I*Bs,$(E,2*T+2*b),E[2*T+2*b+1]+=S*Bs,$(E,2*T+2*b+1),E[2*T+2*b+1]+=I*Ln,$(E,2*T+2*b+1),E[2*T+2*b+2]+=S*Ln,$(E,2*T+2*b+2)}for(T=0;T<v;T++)E[T]=E[2*T+1]<<16|E[2*T];for(T=v;T<2*v;T++)E[T]=0;return new s(E,0)};function $(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function U(D,v){this.g=D,this.h=v}function he(D,v){if(w(v))throw Error("division by zero");if(w(D))return new U(p,p);if(A(D))return v=he(R(D),v),new U(R(v.g),R(v.h));if(A(v))return v=he(D,R(v)),new U(R(v.g),v.h);if(30<D.g.length){if(A(D)||A(v))throw Error("slowDivide_ only works with positive integers.");for(var E=g,T=v;0>=T.l(D);)E=ze(E),T=ze(T);var b=ce(E,1),S=ce(T,1);for(T=ce(T,2),E=ce(E,2);!w(T);){var I=S.add(T);0>=I.l(D)&&(b=b.add(E),S=I),T=ce(T,1),E=ce(E,1)}return v=k(D,b.j(v)),new U(b,v)}for(b=p;0<=D.l(v);){for(E=Math.max(1,Math.floor(D.m()/v.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),S=l(E),I=S.j(v);A(I)||0<I.l(D);)E-=T,S=l(E),I=S.j(v);w(S)&&(S=g),b=b.add(S),D=k(D,I)}return new U(b,D)}t.A=function(D){return he(this,D).h},t.and=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],T=0;T<v;T++)E[T]=this.i(T)&D.i(T);return new s(E,this.h&D.h)},t.or=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],T=0;T<v;T++)E[T]=this.i(T)|D.i(T);return new s(E,this.h|D.h)},t.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],T=0;T<v;T++)E[T]=this.i(T)^D.i(T);return new s(E,this.h^D.h)};function ze(D){for(var v=D.g.length+1,E=[],T=0;T<v;T++)E[T]=D.i(T)<<1|D.i(T-1)>>>31;return new s(E,D.h)}function ce(D,v){var E=v>>5;v%=32;for(var T=D.g.length-E,b=[],S=0;S<T;S++)b[S]=0<v?D.i(S+E)>>>v|D.i(S+E+1)<<32-v:D.i(S+E);return new s(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,y_=IR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,dr=IR.Integer=s}).apply(typeof _R<"u"?_R:typeof self<"u"?self:typeof window<"u"?window:{});var zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hr={};var v_,D4,ms,__,Fc,qh,I_,E_,w_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof zh=="object"&&zh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var y=0;y<c.length-1;y++){var C=c[y];if(!(C in f))break e;f=f[C]}c=c[c.length-1],y=f[c],d=d(y),d!=y&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,y=!1,C={next:function(){if(!y&&f<c.length){var N=f++;return{value:d(N,c[N]),done:!1}}return y=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,y),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function m(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),c.apply(this,y)}}function w(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(y,C,N){for(var O=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)O[Ee-2]=arguments[Ee];return d.prototype[C].apply(y,O)}}function A(c){let d=c.length;if(0<d){let f=Array(d);for(let y=0;y<d;y++)f[y]=c[y];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let y=arguments[f];if(u(y)){let C=c.length||0,N=y.length||0;c.length=C+N;for(let O=0;O<N;O++)c[C+O]=y[O]}else c.push(y)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function $(c){return/^[\s\xa0]*$/.test(c)}function U(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function he(c){return he[" "](c),c}he[" "]=function(){};var ze=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function ce(c,d,f){for(let y in c)d.call(f,c[y],y,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(c,d){let f,y;for(let C=1;C<arguments.length;C++){y=arguments[C];for(f in y)c[f]=y[f];for(let N=0;N<E.length;N++)f=E[N],Object.prototype.hasOwnProperty.call(y,f)&&(c[f]=y[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Gf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Ln{constructor(){this.h=this.g=null}add(d,f){let y=Bs.get();y.set(d,f),this.h?this.h.next=y:this.g=y,this.h=y}}var Bs=new k(()=>new UM,c=>c.reset());class UM{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let $s,Hs=!1,Gf=new Ln,LE=()=>{let c=a.Promise.resolve(void 0);$s=()=>{c.then(BM)}};var BM=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){S(f)}var d=Bs;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Hs=!1};function _r(){this.s=this.s,this.C=this.C}_r.prototype.s=!1,_r.prototype.ma=function(){this.s||(this.s=!0,this.N())},_r.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var $M=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function zs(c,d){if(st.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,y=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(ze){e:{try{he(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:HM[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&zs.aa.h.call(this)}}w(zs,st);var HM={2:"touch",3:"pen",4:"mouse"};zs.prototype.h=function(){zs.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var qs="closure_listenable_"+(1e6*Math.random()|0),zM=0;function qM(c,d,f,y,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!y,this.ha=C,this.key=++zM,this.da=this.fa=!1}function lu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function du(c){this.src=c,this.g={},this.h=0}du.prototype.add=function(c,d,f,y,C){var N=c.toString();c=this.g[N],c||(c=this.g[N]=[],this.h++);var O=Qf(c,d,y,C);return-1<O?(d=c[O],f||(d.fa=!1)):(d=new qM(d,this.src,N,!!y,C),d.fa=f,c.push(d)),d};function Kf(c,d){var f=d.type;if(f in c.g){var y=c.g[f],C=Array.prototype.indexOf.call(y,d,void 0),N;(N=0<=C)&&Array.prototype.splice.call(y,C,1),N&&(lu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Qf(c,d,f,y){for(var C=0;C<c.length;++C){var N=c[C];if(!N.da&&N.listener==d&&N.capture==!!f&&N.ha==y)return C}return-1}var Yf="closure_lm_"+(1e6*Math.random()|0),Zf={};function FE(c,d,f,y,C){if(y&&y.once)return jE(c,d,f,y,C);if(Array.isArray(d)){for(var N=0;N<d.length;N++)FE(c,d[N],f,y,C);return null}return f=tp(f),c&&c[qs]?c.K(d,f,l(y)?!!y.capture:!!y,C):VE(c,d,f,!1,y,C)}function VE(c,d,f,y,C,N){if(!d)throw Error("Invalid event type");var O=l(C)?!!C.capture:!!C,Ee=Xf(c);if(Ee||(c[Yf]=Ee=new du(c)),f=Ee.add(d,f,y,O,N),f.proxy)return f;if(y=WM(),f.proxy=y,y.src=c,y.listener=f,c.addEventListener)$M||(C=O),C===void 0&&(C=!1),c.addEventListener(d.toString(),y,C);else if(c.attachEvent)c.attachEvent(BE(d.toString()),y);else if(c.addListener&&c.removeListener)c.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function WM(){function c(f){return d.call(c.src,c.listener,f)}let d=GM;return c}function jE(c,d,f,y,C){if(Array.isArray(d)){for(var N=0;N<d.length;N++)jE(c,d[N],f,y,C);return null}return f=tp(f),c&&c[qs]?c.L(d,f,l(y)?!!y.capture:!!y,C):VE(c,d,f,!0,y,C)}function UE(c,d,f,y,C){if(Array.isArray(d))for(var N=0;N<d.length;N++)UE(c,d[N],f,y,C);else y=l(y)?!!y.capture:!!y,f=tp(f),c&&c[qs]?(c=c.i,d=String(d).toString(),d in c.g&&(N=c.g[d],f=Qf(N,f,y,C),-1<f&&(lu(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete c.g[d],c.h--)))):c&&(c=Xf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Qf(d,f,y,C)),(f=-1<c?d[c]:null)&&Jf(f))}function Jf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[qs])Kf(d.i,c);else{var f=c.type,y=c.proxy;d.removeEventListener?d.removeEventListener(f,y,c.capture):d.detachEvent?d.detachEvent(BE(f),y):d.addListener&&d.removeListener&&d.removeListener(y),(f=Xf(d))?(Kf(f,c),f.h==0&&(f.src=null,d[Yf]=null)):lu(c)}}}function BE(c){return c in Zf?Zf[c]:Zf[c]="on"+c}function GM(c,d){if(c.da)c=!0;else{d=new zs(d,this);var f=c.listener,y=c.ha||c.src;c.fa&&Jf(c),c=f.call(y,d)}return c}function Xf(c){return c=c[Yf],c instanceof du?c:null}var ep="__closure_events_fn_"+(1e9*Math.random()>>>0);function tp(c){return typeof c=="function"?c:(c[ep]||(c[ep]=function(d){return c.handleEvent(d)}),c[ep])}function at(){_r.call(this),this.i=new du(this),this.M=this,this.F=null}w(at,_r),at.prototype[qs]=!0,at.prototype.removeEventListener=function(c,d,f,y){UE(this,c,d,f,y)};function mt(c,d){var f,y=c.F;if(y)for(f=[];y;y=y.F)f.push(y);if(c=c.M,y=d.type||d,typeof d=="string")d=new st(d,c);else if(d instanceof st)d.target=d.target||c;else{var C=d;d=new st(y,c),T(d,C)}if(C=!0,f)for(var N=f.length-1;0<=N;N--){var O=d.g=f[N];C=hu(O,y,!0,d)&&C}if(O=d.g=c,C=hu(O,y,!0,d)&&C,C=hu(O,y,!1,d)&&C,f)for(N=0;N<f.length;N++)O=d.g=f[N],C=hu(O,y,!1,d)&&C}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],y=0;y<f.length;y++)lu(f[y]);delete c.g[d],c.h--}}this.F=null},at.prototype.K=function(c,d,f,y){return this.i.add(String(c),d,!1,f,y)},at.prototype.L=function(c,d,f,y){return this.i.add(String(c),d,!0,f,y)};function hu(c,d,f,y){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,N=0;N<d.length;++N){var O=d[N];if(O&&!O.da&&O.capture==f){var Ee=O.listener,et=O.ha||O.src;O.fa&&Kf(c.i,O),C=Ee.call(et,y)!==!1&&C}}return C&&!y.defaultPrevented}function $E(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function HE(c){c.g=$E(()=>{c.g=null,c.i&&(c.i=!1,HE(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class KM extends _r{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:HE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ws(c){_r.call(this),this.h=c,this.g={}}w(Ws,_r);var zE=[];function qE(c){ce(c.g,function(d,f){this.g.hasOwnProperty(f)&&Jf(d)},c),c.g={}}Ws.prototype.N=function(){Ws.aa.N.call(this),qE(this)},Ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var np=a.JSON.stringify,QM=a.JSON.parse,YM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function rp(){}rp.prototype.h=null;function WE(c){return c.h||(c.h=c.i())}function GE(){}var Gs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ip(){st.call(this,"d")}w(ip,st);function op(){st.call(this,"c")}w(op,st);var si={},KE=null;function fu(){return KE=KE||new at}si.La="serverreachability";function QE(c){st.call(this,si.La,c)}w(QE,st);function Ks(c){let d=fu();mt(d,new QE(d))}si.STAT_EVENT="statevent";function YE(c,d){st.call(this,si.STAT_EVENT,c),this.stat=d}w(YE,st);function yt(c){let d=fu();mt(d,new YE(d,c))}si.Ma="timingevent";function ZE(c,d){st.call(this,si.Ma,c),this.size=d}w(ZE,st);function Qs(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ys(){this.g=!0}Ys.prototype.xa=function(){this.g=!1};function ZM(c,d,f,y,C,N){c.info(function(){if(c.g)if(N)for(var O="",Ee=N.split("&"),et=0;et<Ee.length;et++){var ge=Ee[et].split("=");if(1<ge.length){var ct=ge[0];ge=ge[1];var ut=ct.split("_");O=2<=ut.length&&ut[1]=="type"?O+(ct+"="+ge+"&"):O+(ct+"=redacted&")}}else O=null;else O=N;return"XMLHTTP REQ ("+y+") [attempt "+C+"]: "+d+`
`+f+`
`+O})}function JM(c,d,f,y,C,N,O){c.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+C+"]: "+d+`
`+f+`
`+N+" "+O})}function ro(c,d,f,y){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+eP(c,f)+(y?" "+y:"")})}function XM(c,d){c.info(function(){return"TIMEOUT: "+d})}Ys.prototype.info=function(){};function eP(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var y=f[c];if(!(2>y.length)){var C=y[1];if(Array.isArray(C)&&!(1>C.length)){var N=C[0];if(N!="noop"&&N!="stop"&&N!="close")for(var O=1;O<C.length;O++)C[O]=""}}}}return np(f)}catch{return d}}var pu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},JE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},sp;function gu(){}w(gu,rp),gu.prototype.g=function(){return new XMLHttpRequest},gu.prototype.i=function(){return{}},sp=new gu;function Ir(c,d,f,y){this.j=c,this.i=d,this.l=f,this.R=y||1,this.U=new Ws(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new XE}function XE(){this.i=null,this.g="",this.h=!1}var ew={},ap={};function cp(c,d,f){c.L=1,c.v=_u(Fn(d)),c.m=f,c.P=!0,tw(c,null)}function tw(c,d){c.F=Date.now(),mu(c),c.A=Fn(c.v);var f=c.A,y=c.R;Array.isArray(y)||(y=[String(y)]),gw(f.i,"t",y),c.C=0,f=c.j.J,c.h=new XE,c.g=xw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new KM(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,y=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(zE[0]=C.toString()),C=zE);for(var N=0;N<C.length;N++){var O=FE(f,C[N],y||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ks(),ZM(c.i,c.u,c.A,c.l,c.R,c.m)}Ir.prototype.ca=function(c){c=c.target;let d=this.M;d&&Vn(c)==3?d.j():this.Y(c)},Ir.prototype.Y=function(c){try{if(c==this.g)e:{let ut=Vn(this.g);var d=this.g.Ba();let so=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||ww(this.g)))){this.J||ut!=4||d==7||(d==8||0>=so?Ks(3):Ks(2)),up(this);var f=this.g.Z();this.X=f;t:if(nw(this)){var y=ww(this.g);c="";var C=y.length,N=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ai(this),Zs(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(y[d],{stream:!(N&&d==C-1)});y.length=0,this.h.g+=c,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=f==200,JM(this.i,this.u,this.A,this.l,this.R,ut,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,et=this.g;if((Ee=et.g?et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Ee)){var ge=Ee;break t}}ge=null}if(f=ge)ro(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lp(this,f);else{this.o=!1,this.s=3,yt(12),ai(this),Zs(this);break e}}if(this.P){f=!0;let Jt;for(;!this.J&&this.C<O.length;)if(Jt=tP(this,O),Jt==ap){ut==4&&(this.s=4,yt(14),f=!1),ro(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==ew){this.s=4,yt(15),ro(this.i,this.l,O,"[Invalid Chunk]"),f=!1;break}else ro(this.i,this.l,Jt,null),lp(this,Jt);if(nw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||O.length!=0||this.h.h||(this.s=1,yt(16),f=!1),this.o=this.o&&f,!f)ro(this.i,this.l,O,"[Invalid Chunked Response]"),ai(this),Zs(this);else if(0<O.length&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.ba&&!ct.M&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),mp(ct),ct.M=!0,yt(11))}}else ro(this.i,this.l,O,null),lp(this,O);ut==4&&ai(this),this.o&&!this.J&&(ut==4?Rw(this.j,this):(this.o=!1,mu(this)))}else vP(this.g),f==400&&0<O.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),ai(this),Zs(this)}}}catch{}finally{}};function nw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function tP(c,d){var f=c.C,y=d.indexOf(`
`,f);return y==-1?ap:(f=Number(d.substring(f,y)),isNaN(f)?ew:(y+=1,y+f>d.length?ap:(d=d.slice(y,y+f),c.C=y+f,d)))}Ir.prototype.cancel=function(){this.J=!0,ai(this)};function mu(c){c.S=Date.now()+c.I,rw(c,c.I)}function rw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Qs(g(c.ba,c),d)}function up(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Ir.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(XM(this.i,this.A),this.L!=2&&(Ks(),yt(17)),ai(this),this.s=2,Zs(this)):rw(this,this.S-c)};function Zs(c){c.j.G==0||c.J||Rw(c.j,c)}function ai(c){up(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,qE(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function lp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||dp(f.h,c))){if(!c.K&&dp(f.h,c)&&f.G==3){try{var y=f.Da.g.parse(d)}catch{y=null}if(Array.isArray(y)&&y.length==3){var C=y;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Du(f),wu(f);else break e;gp(f),yt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Qs(g(f.Za,f),6e3));if(1>=sw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ui(f,11)}else if((c.K||f.g==c)&&Du(f),!$(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let ge=C[d];if(f.T=ge[0],ge=ge[1],f.G==2)if(ge[0]=="c"){f.K=ge[1],f.ia=ge[2];let ct=ge[3];ct!=null&&(f.la=ct,f.j.info("VER="+f.la));let ut=ge[4];ut!=null&&(f.Aa=ut,f.j.info("SVER="+f.Aa));let so=ge[5];so!=null&&typeof so=="number"&&0<so&&(y=1.5*so,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;let Jt=c.g;if(Jt){let Cu=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cu){var N=y.h;N.g||Cu.indexOf("spdy")==-1&&Cu.indexOf("quic")==-1&&Cu.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(hp(N,N.h),N.h=null))}if(y.D){let yp=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;yp&&(y.ya=yp,be(y.I,y.D,yp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var O=c;if(y.qa=Pw(y,y.J?y.ia:null,y.W),O.K){aw(y.h,O);var Ee=O,et=y.L;et&&(Ee.I=et),Ee.B&&(up(Ee),mu(Ee)),y.g=O}else Sw(y);0<f.i.length&&Tu(f)}else ge[0]!="stop"&&ge[0]!="close"||ui(f,7);else f.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?ui(f,7):pp(f):ge[0]!="noop"&&f.l&&f.l.ta(ge),f.v=0)}}Ks(4)}catch{}}var nP=class{constructor(c,d){this.g=c,this.map=d}};function iw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ow(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function sw(c){return c.h?1:c.g?c.g.size:0}function dp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function hp(c,d){c.g?c.g.add(d):c.h=d}function aw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}iw.prototype.cancel=function(){if(this.i=cw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function cw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return A(c.i)}function rP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,y=0;y<f;y++)d.push(c[y]);return d}d=[],f=0;for(y in c)d[f++]=c[y];return d}function iP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let y in c)d[f++]=y;return d}}}function uw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=iP(c),y=rP(c),C=y.length,N=0;N<C;N++)d.call(void 0,y[N],f&&f[N],c)}var lw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oP(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var y=c[f].indexOf("="),C=null;if(0<=y){var N=c[f].substring(0,y);C=c[f].substring(y+1)}else N=c[f];d(N,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function ci(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ci){this.h=c.h,yu(this,c.j),this.o=c.o,this.g=c.g,vu(this,c.s),this.l=c.l;var d=c.i,f=new ea;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),dw(this,f),this.m=c.m}else c&&(d=String(c).match(lw))?(this.h=!1,yu(this,d[1]||"",!0),this.o=Js(d[2]||""),this.g=Js(d[3]||"",!0),vu(this,d[4]),this.l=Js(d[5]||"",!0),dw(this,d[6]||"",!0),this.m=Js(d[7]||"")):(this.h=!1,this.i=new ea(null,this.h))}ci.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Xs(d,hw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Xs(d,hw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Xs(f,f.charAt(0)=="/"?cP:aP,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Xs(f,lP)),c.join("")};function Fn(c){return new ci(c)}function yu(c,d,f){c.j=f?Js(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function vu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function dw(c,d,f){d instanceof ea?(c.i=d,dP(c.i,c.h)):(f||(d=Xs(d,uP)),c.i=new ea(d,c.h))}function be(c,d,f){c.i.set(d,f)}function _u(c){return be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Js(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Xs(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,sP),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var hw=/[#\/\?@]/g,aP=/[#\?:]/g,cP=/[#\?]/g,uP=/[#\?@]/g,lP=/#/g;function ea(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Er(c){c.g||(c.g=new Map,c.h=0,c.i&&oP(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=ea.prototype,t.add=function(c,d){Er(this),this.i=null,c=io(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function fw(c,d){Er(c),d=io(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function pw(c,d){return Er(c),d=io(c,d),c.g.has(d)}t.forEach=function(c,d){Er(this),this.g.forEach(function(f,y){f.forEach(function(C){c.call(d,C,y,this)},this)},this)},t.na=function(){Er(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let y=0;y<d.length;y++){let C=c[y];for(let N=0;N<C.length;N++)f.push(d[y])}return f},t.V=function(c){Er(this);let d=[];if(typeof c=="string")pw(this,c)&&(d=d.concat(this.g.get(io(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return Er(this),this.i=null,c=io(this,c),pw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function gw(c,d,f){fw(c,d),0<f.length&&(c.i=null,c.g.set(io(c,d),A(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var y=d[f];let N=encodeURIComponent(String(y)),O=this.V(y);for(y=0;y<O.length;y++){var C=N;O[y]!==""&&(C+="="+encodeURIComponent(String(O[y]))),c.push(C)}}return this.i=c.join("&")};function io(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function dP(c,d){d&&!c.j&&(Er(c),c.i=null,c.g.forEach(function(f,y){var C=y.toLowerCase();y!=C&&(fw(this,y),gw(this,C,f))},c)),c.j=d}function hP(c,d){let f=new Ys;if(a.Image){let y=new Image;y.onload=m(wr,f,"TestLoadImage: loaded",!0,d,y),y.onerror=m(wr,f,"TestLoadImage: error",!1,d,y),y.onabort=m(wr,f,"TestLoadImage: abort",!1,d,y),y.ontimeout=m(wr,f,"TestLoadImage: timeout",!1,d,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=c}else d(!1)}function fP(c,d){let f=new Ys,y=new AbortController,C=setTimeout(()=>{y.abort(),wr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:y.signal}).then(N=>{clearTimeout(C),N.ok?wr(f,"TestPingServer: ok",!0,d):wr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),wr(f,"TestPingServer: error",!1,d)})}function wr(c,d,f,y,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),y(f)}catch{}}function pP(){this.g=new YM}function gP(c,d,f){let y=f||"";try{uw(c,function(C,N){let O=C;l(C)&&(O=np(C)),d.push(y+N+"="+encodeURIComponent(O))})}catch(C){throw d.push(y+"type="+encodeURIComponent("_badmap")),C}}function ta(c){this.l=c.Ub||null,this.j=c.eb||!1}w(ta,rp),ta.prototype.g=function(){return new Iu(this.l,this.j)},ta.prototype.i=function(c){return function(){return c}}({});function Iu(c,d){at.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Iu,at),t=Iu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ra(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,na(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ra(this)),this.g&&(this.readyState=3,ra(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function mw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?na(this):ra(this),this.readyState==3&&mw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,na(this))},t.Qa=function(c){this.g&&(this.response=c,na(this))},t.ga=function(){this.g&&na(this)};function na(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ra(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function ra(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Iu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function yw(c){let d="";return ce(c,function(f,y){d+=y,d+=":",d+=f,d+=`\r
`}),d}function fp(c,d,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=yw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):be(c,d,f))}function Ne(c){at.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Ne,at);var mP=/^https?$/i,yP=["POST","PUT"];t=Ne.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sp.g(),this.v=this.o?WE(this.o):WE(sp),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(N){vw(this,N);return}if(c=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var C in y)f.set(C,y[C]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let N of y.keys())f.set(N,y.get(N));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(yP,d,void 0))||y||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,O]of f)this.g.setRequestHeader(N,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ew(this),this.u=!0,this.g.send(c),this.u=!1}catch(N){vw(this,N)}};function vw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,_w(c),Eu(c)}function _w(c){c.A||(c.A=!0,mt(c,"complete"),mt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,mt(this,"complete"),mt(this,"abort"),Eu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Eu(this,!0)),Ne.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Iw(this):this.bb())},t.bb=function(){Iw(this)};function Iw(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Vn(c)!=4||c.Z()!=2)){if(c.u&&Vn(c)==4)$E(c.Ea,0,c);else if(mt(c,"readystatechange"),Vn(c)==4){c.h=!1;try{let O=c.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var y;if(y=O===0){var C=String(c.D).match(lw)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),y=!mP.test(C?C.toLowerCase():"")}f=y}if(f)mt(c,"complete"),mt(c,"success");else{c.m=6;try{var N=2<Vn(c)?c.g.statusText:""}catch{N=""}c.l=N+" ["+c.Z()+"]",_w(c)}}finally{Eu(c)}}}}function Eu(c,d){if(c.g){Ew(c);let f=c.g,y=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||mt(c,"ready");try{f.onreadystatechange=y}catch{}}}function Ew(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Vn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),QM(d)}};function ww(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function vP(c){let d={};c=(c.g&&2<=Vn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<c.length;y++){if($(c[y]))continue;var f=b(c[y]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let N=d[C]||[];d[C]=N,N.push(f)}D(d,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ia(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Tw(c){this.Aa=0,this.i=[],this.j=new Ys,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ia("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ia("baseRetryDelayMs",5e3,c),this.cb=ia("retryDelaySeedMs",1e4,c),this.Wa=ia("forwardChannelMaxRetries",2,c),this.wa=ia("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new iw(c&&c.concurrentRequestLimit),this.Da=new pP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Tw.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,y){yt(0),this.W=c,this.H=d||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=Pw(this,null,this.W),Tu(this)};function pp(c){if(Dw(c),c.G==3){var d=c.U++,f=Fn(c.I);if(be(f,"SID",c.K),be(f,"RID",d),be(f,"TYPE","terminate"),oa(c,f),d=new Ir(c,c.j,d),d.L=2,d.v=_u(Fn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=xw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),mu(d)}Mw(c)}function wu(c){c.g&&(mp(c),c.g.cancel(),c.g=null)}function Dw(c){wu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Du(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Tu(c){if(!ow(c.h)&&!c.s){c.s=!0;var d=c.Ga;$s||LE(),Hs||($s(),Hs=!0),Gf.add(d,c),c.B=0}}function _P(c,d){return sw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Qs(g(c.Ga,c,d),Nw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new Ir(this,this.j,c),N=this.o;if(this.S&&(N?(N=v(N),T(N,this.S)):N=this.S),this.m!==null||this.O||(C.H=N,N=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(d+=y,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Cw(this,C,d),f=Fn(this.I),be(f,"RID",c),be(f,"CVER",22),this.D&&be(f,"X-HTTP-Session-Id",this.D),oa(this,f),N&&(this.O?d="headers="+encodeURIComponent(String(yw(N)))+"&"+d:this.m&&fp(f,this.m,N)),hp(this.h,C),this.Ua&&be(f,"TYPE","init"),this.P?(be(f,"$req",d),be(f,"SID","null"),C.T=!0,cp(C,f,null)):cp(C,f,d),this.G=2}}else this.G==3&&(c?bw(this,c):this.i.length==0||ow(this.h)||bw(this))};function bw(c,d){var f;d?f=d.l:f=c.U++;let y=Fn(c.I);be(y,"SID",c.K),be(y,"RID",f),be(y,"AID",c.T),oa(c,y),c.m&&c.o&&fp(y,c.m,c.o),f=new Ir(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Cw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),hp(c.h,f),cp(f,y,d)}function oa(c,d){c.H&&ce(c.H,function(f,y){be(d,y,f)}),c.l&&uw({},function(f,y){be(d,y,f)})}function Cw(c,d,f){f=Math.min(c.i.length,f);var y=c.l?g(c.l.Na,c.l,c):null;e:{var C=c.i;let N=-1;for(;;){let O=["count="+f];N==-1?0<f?(N=C[0].g,O.push("ofs="+N)):N=0:O.push("ofs="+N);let Ee=!0;for(let et=0;et<f;et++){let ge=C[et].g,ct=C[et].map;if(ge-=N,0>ge)N=Math.max(0,C[et].g-100),Ee=!1;else try{gP(ct,O,"req"+ge+"_")}catch{y&&y(ct)}}if(Ee){y=O.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,y}function Sw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;$s||LE(),Hs||($s(),Hs=!0),Gf.add(d,c),c.v=0}}function gp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Qs(g(c.Fa,c),Nw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Aw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Qs(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),wu(this),Aw(this))};function mp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Aw(c){c.g=new Ir(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Fn(c.qa);be(d,"RID","rpc"),be(d,"SID",c.K),be(d,"AID",c.T),be(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&be(d,"TO",c.ja),be(d,"TYPE","xmlhttp"),oa(c,d),c.m&&c.o&&fp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=_u(Fn(d)),f.m=null,f.P=!0,tw(f,c)}t.Za=function(){this.C!=null&&(this.C=null,wu(this),gp(this),yt(19))};function Du(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Rw(c,d){var f=null;if(c.g==d){Du(c),mp(c),c.g=null;var y=2}else if(dp(c.h,d))f=d.D,aw(c.h,d),y=1;else return;if(c.G!=0){if(d.o)if(y==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;y=fu(),mt(y,new ZE(y,f)),Tu(c)}else Sw(c);else if(C=d.s,C==3||C==0&&0<d.X||!(y==1&&_P(c,d)||y==2&&gp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:ui(c,5);break;case 4:ui(c,10);break;case 3:ui(c,6);break;default:ui(c,2)}}}function Nw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function ui(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),y=c.Xa;let C=!y;y=new ci(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||yu(y,"https"),_u(y),C?hP(y.toString(),f):fP(y.toString(),f)}else yt(2);c.G=0,c.l&&c.l.sa(d),Mw(c),Dw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Mw(c){if(c.G=0,c.ka=[],c.l){let d=cw(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.ra()}}function Pw(c,d,f){var y=f instanceof ci?Fn(f):new ci(f);if(y.g!="")d&&(y.g=d+"."+y.g),vu(y,y.s);else{var C=a.location;y=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var N=new ci(null);y&&yu(N,y),d&&(N.g=d),C&&vu(N,C),f&&(N.l=f),y=N}return f=c.D,d=c.ya,f&&d&&be(y,f,d),be(y,"VER",c.la),oa(c,y),y}function xw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ne(new ta({eb:f})):new Ne(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function kw(){}t=kw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function bu(){}bu.prototype.g=function(c,d){return new kt(c,d)};function kt(c,d){at.call(this),this.g=new Tw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!$(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!$(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new oo(this)}w(kt,at),kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){pp(this.g)},kt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=np(c),c=f);d.i.push(new nP(d.Ya++,c)),d.G==3&&Tu(d)},kt.prototype.N=function(){this.g.l=null,delete this.j,pp(this.g),delete this.g,kt.aa.N.call(this)};function Ow(c){ip.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}w(Ow,ip);function Lw(){op.call(this),this.status=1}w(Lw,op);function oo(c){this.g=c}w(oo,kw),oo.prototype.ua=function(){mt(this.g,"a")},oo.prototype.ta=function(c){mt(this.g,new Ow(c))},oo.prototype.sa=function(c){mt(this.g,new Lw)},oo.prototype.ra=function(){mt(this.g,"b")},bu.prototype.createWebChannel=bu.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,w_=hr.createWebChannelTransport=function(){return new bu},E_=hr.getStatEventTarget=function(){return fu()},I_=hr.Event=si,qh=hr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pu.NO_ERROR=0,pu.TIMEOUT=8,pu.HTTP_ERROR=6,Fc=hr.ErrorCode=pu,JE.COMPLETE="complete",__=hr.EventType=JE,GE.EventType=Gs,Gs.OPEN="a",Gs.CLOSE="b",Gs.ERROR="c",Gs.MESSAGE="d",at.prototype.listen=at.prototype.K,ms=hr.WebChannel=GE,D4=hr.FetchXmlHttpFactory=ta,Ne.prototype.listenOnce=Ne.prototype.L,Ne.prototype.getLastError=Ne.prototype.Ka,Ne.prototype.getLastErrorCode=Ne.prototype.Ba,Ne.prototype.getStatus=Ne.prototype.Z,Ne.prototype.getResponseJson=Ne.prototype.Oa,Ne.prototype.getResponseText=Ne.prototype.oa,Ne.prototype.send=Ne.prototype.ea,Ne.prototype.setWithCredentials=Ne.prototype.Ha,v_=hr.XhrIo=Ne}).apply(typeof zh<"u"?zh:typeof self<"u"?self:typeof window<"u"?window:{});var ER="@firebase/firestore",wR="4.7.17";var Je=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");var Fs="11.9.0";var Qi=new Sn("@firebase/firestore");function ys(){return Qi.logLevel}function j(t,...e){if(Qi.logLevel<=ue.DEBUG){let n=e.map(dE);Qi.debug(`Firestore (${Fs}): ${t}`,...n)}}function fr(t,...e){if(Qi.logLevel<=ue.ERROR){let n=e.map(dE);Qi.error(`Firestore (${Fs}): ${t}`,...n)}}function Ds(t,...e){if(Qi.logLevel<=ue.WARN){let n=e.map(dE);Qi.warn(`Firestore (${Fs}): ${t}`,...n)}}function dE(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function q(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,pN(t,r,n)}function pN(t,e,n){let r=`FIRESTORE (${Fs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw fr(r),new Error(r)}function ve(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||pN(e,i,r)}function Y(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends Ht{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var un=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Jh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},S_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Je.UNAUTHENTICATED))}shutdown(){}},A_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},R_=class{constructor(e){this.t=e,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ve(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new un;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new un,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new un)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string",31837,{l:r}),new Jh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string",2055,{h:e}),new Je(e)}},N_=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},M_=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new N_(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Xh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},P_=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ve(this.o===void 0,3512);let r=o=>{o.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,j("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Xh(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Xh(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function b4(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function gN(){return new TextEncoder}var ef=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=b4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function ae(t,e){return t<e?-1:t>e?1:0}function x_(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ae(r,i);{let o=gN(),s=C4(o.encode(TR(t,n)),o.encode(TR(e,n)));return s!==0?s:ae(r,i)}}n+=r>65535?2:1}return ae(t.length,e.length)}function TR(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function C4(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ae(t[n],e[n]);return ae(t.length,e.length)}function bs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var DR=-62135596800,bR=1e6,ot=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*bR);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<DR)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bR}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-DR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var X=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new ot(0,0))}static max(){return new t(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var CR="__name__",tf=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&q(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&q(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ae(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):x_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return dr.fromString(e.substring(4,e.length-2))}},Re=class t extends tf{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},S4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qt=class t extends tf{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return S4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===CR}static keyField(){return new t([CR])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new L(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var z=class t{constructor(e){this.path=e}static fromPath(e){return new t(Re.fromString(e))}static fromName(e){return new t(Re.fromString(e).popFirst(5))}static empty(){return new t(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Re(e.slice()))}};var Hc=-1,k_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};k_.UNKNOWN_ID=-1;function A4(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new Yi(i,z.empty(),e)}function R4(t){return new Yi(t.readTime,t.key,Hc)}var Yi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(X.min(),z.empty(),Hc)}static max(){return new t(X.max(),z.empty(),Hc)}};function N4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}var M4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",O_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Vs(t){return _(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==M4)throw t;j("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function P4(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function js(t){return t.name==="IndexedDbTransactionError"}var hE=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ce&&this.ce(n),n}}t.le=-1;return t})(),fE=-1;function Of(t){return t==null}function zc(t){return t===0&&1/t==-1/0}function x4(t){return typeof t=="number"&&Number.isInteger(t)&&!zc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var mN="";function k4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=SR(e)),e=O4(t.get(n),e);return SR(e)}function O4(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case mN:n+="";break;default:n+=o}}return n}function SR(t){return t+mN+""}var L4="remoteDocuments",yN="owner";var vN="mutationQueues";var _N="mutations";var IN="documentMutations",F4="remoteDocumentsV14";var EN="remoteDocumentGlobal";var wN="targets";var TN="targetDocuments";var DN="targetGlobal",bN="collectionParents";var CN="clientMetadata";var SN="bundles";var AN="namedQueries";var V4="indexConfiguration";var j4="indexState";var U4="indexEntries";var RN="documentOverlays";var B4="globals";var $4=[vN,_N,IN,L4,wN,yN,DN,TN,CN,EN,bN,SN,AN],mX=[...$4,RN],H4=[vN,_N,IN,F4,wN,yN,DN,TN,CN,EN,bN,SN,AN,RN],z4=H4,q4=[...z4,V4,j4,U4];var yX=[...q4,B4];function AR(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oi(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function NN(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Pe=class t{constructor(e,n){this.comparator=e,this.root=n||Nn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Es(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Es(this.root,e,this.comparator,!1)}getReverseIterator(){return new Es(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Es(this.root,e,this.comparator,!0)}},Es=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Nn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw q(27949);return e+(this.isRed()?0:1)}};Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw q(57766)}get value(){throw q(16141)}get color(){throw q(16727)}get left(){throw q(29726)}get right(){throw q(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Xe=class t{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nf(this.data.getIterator())}getIteratorFrom(e){return new nf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},nf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Zt=class t{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Xe(qt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var rf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var gt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new rf("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};gt.EMPTY_BYTE_STRING=new gt("");var W4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pr(t){if(ve(!!t,39018),typeof t=="string"){let e=0,n=W4.exec(t);if(ve(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ce(t.seconds),nanos:Ce(t.nanos)}}function Ce(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function gr(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}var MN="server_timestamp",PN="__type__",xN="__previous_value__",kN="__local_write_time__";function pE(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[PN])===null||n===void 0?void 0:n.stringValue)===MN}function Lf(t){let e=t.mapValue.fields[xN];return pE(e)?Lf(e):e}function qc(t){let e=pr(t.mapValue.fields[kN].timestampValue);return new ot(e.seconds,e.nanos)}var L_=class{constructor(e,n,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},of="(default)",sf=class t{constructor(e,n){this.projectId=e,this.database=n||of}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===of}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var gE="__type__",ON="__max__",Wh={mapValue:{fields:{__type__:{stringValue:ON}}}},mE="__vector__",Cs="value";function ti(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pE(t)?4:FN(t)?9007199254740991:LN(t)?10:11:q(28295,{value:t})}function kn(t,e){if(t===e)return!0;let n=ti(t);if(n!==ti(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qc(t).isEqual(qc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=pr(i.timestampValue),a=pr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return gr(i.bytesValue).isEqual(gr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ce(i.geoPointValue.latitude)===Ce(o.geoPointValue.latitude)&&Ce(i.geoPointValue.longitude)===Ce(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ce(i.integerValue)===Ce(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ce(i.doubleValue),a=Ce(o.doubleValue);return s===a?zc(s)===zc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return bs(t.arrayValue.values||[],e.arrayValue.values||[],kn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(AR(s)!==AR(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!kn(s[u],a[u])))return!1;return!0}(t,e);default:return q(52216,{left:t})}}function Wc(t,e){return(t.values||[]).find(n=>kn(n,e))!==void 0}function Ss(t,e){if(t===e)return 0;let n=ti(t),r=ti(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ce(o.integerValue||o.doubleValue),u=Ce(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return RR(t.timestampValue,e.timestampValue);case 4:return RR(qc(t),qc(e));case 5:return x_(t.stringValue,e.stringValue);case 6:return function(o,s){let a=gr(o),u=gr(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ae(a[l],u[l]);if(h!==0)return h}return ae(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ae(Ce(o.latitude),Ce(s.latitude));return a!==0?a:ae(Ce(o.longitude),Ce(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return NR(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},m=(a=p[Cs])===null||a===void 0?void 0:a.arrayValue,w=(u=g[Cs])===null||u===void 0?void 0:u.arrayValue,A=ae(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((h=w?.values)===null||h===void 0?void 0:h.length)||0);return A!==0?A:NR(m,w)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Wh.mapValue&&s===Wh.mapValue)return 0;if(o===Wh.mapValue)return 1;if(s===Wh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=x_(u[p],h[p]);if(g!==0)return g;let m=Ss(a[u[p]],l[h[p]]);if(m!==0)return m}return ae(u.length,h.length)}(t.mapValue,e.mapValue);default:throw q(23264,{Pe:n})}}function RR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);let n=pr(t),r=pr(e),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function NR(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Ss(n[i],r[i]);if(o)return o}return ae(n.length,r.length)}function As(t){return F_(t)}function F_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=pr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return gr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=F_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${F_(n.fields[s])}`;return i+"}"}(t.mapValue):q(61005,{value:t})}function Qh(t){switch(ti(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Lf(t);return e?16+Qh(e):16;case 5:return 2*t.stringValue.length;case 6:return gr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Qh(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return oi(r.fields,(o,s)=>{i+=o.length+Qh(s)}),i}(t.mapValue);default:throw q(13486,{value:t})}}function MR(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function V_(t){return!!t&&"integerValue"in t}function yE(t){return!!t&&"arrayValue"in t}function PR(t){return!!t&&"nullValue"in t}function xR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yh(t){return!!t&&"mapValue"in t}function LN(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[gE])===null||n===void 0?void 0:n.stringValue)===mE}function jc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return oi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=jc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function FN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ON}var _X={mapValue:{fields:{[gE]:{stringValue:mE},[Cs]:{arrayValue:{}}}}};var zt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jc(n)}setAll(e){let n=qt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=jc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Yh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return kn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Yh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){oi(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(jc(this.value))}};function VN(t){let e=[];return oi(t.fields,(n,r)=>{let i=new qt([n]);if(Yh(r)){let o=VN(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Zt(e)}var ln=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,X.min(),X.min(),X.min(),zt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,X.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,X.min(),X.min(),zt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,X.min(),X.min(),zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Rs=class{constructor(e,n){this.position=e,this.inclusive=n}};function kR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=z.comparator(z.fromName(s.referenceValue),n.key):r=Ss(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function OR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!kn(t.position[n],e.position[n]))return!1;return!0}var Zi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function G4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var af=class{},He=class t extends af{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new U_(e,n,r):n==="array-contains"?new H_(e,r):n==="in"?new z_(e,r):n==="not-in"?new q_(e,r):n==="array-contains-any"?new W_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new B_(e,r):new $_(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ss(n,this.value)):n!==null&&ti(this.value)===ti(n)&&this.matchesComparison(Ss(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},dn=class t extends af{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new t(e,n)}matches(e){return jN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function jN(t){return t.op==="and"}function UN(t){return K4(t)&&jN(t)}function K4(t){for(let e of t.filters)if(e instanceof dn)return!1;return!0}function j_(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+As(t.value);if(UN(t))return t.filters.map(e=>j_(e)).join(",");{let e=t.filters.map(n=>j_(n)).join(",");return`${t.op}(${e})`}}function BN(t,e){return t instanceof He?function(r,i){return i instanceof He&&r.op===i.op&&r.field.isEqual(i.field)&&kn(r.value,i.value)}(t,e):t instanceof dn?function(r,i){return i instanceof dn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&BN(s,i.filters[a]),!0):!1}(t,e):void q(19439)}function $N(t){return t instanceof He?function(n){return`${n.field.canonicalString()} ${n.op} ${As(n.value)}`}(t):t instanceof dn?function(n){return n.op.toString()+" {"+n.getFilters().map($N).join(" ,")+"}"}(t):"Filter"}var U_=class extends He{constructor(e,n,r){super(e,n,r),this.key=z.fromName(r.referenceValue)}matches(e){let n=z.comparator(e.key,this.key);return this.matchesComparison(n)}},B_=class extends He{constructor(e,n){super(e,"in",n),this.keys=HN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},$_=class extends He{constructor(e,n){super(e,"not-in",n),this.keys=HN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function HN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>z.fromName(r.referenceValue))}var H_=class extends He{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return yE(n)&&Wc(n.arrayValue,this.value)}},z_=class extends He{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Wc(this.value.arrayValue,n)}},q_=class extends He{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wc(this.value.arrayValue,n)}},W_=class extends He{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!yE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wc(this.value.arrayValue,r))}};var G_=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function LR(t,e=null,n=[],r=[],i=null,o=null,s=null){return new G_(t,e,n,r,i,o,s)}function vE(t){let e=Y(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>j_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>As(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>As(r)).join(",")),e.Ie=n}return e.Ie}function _E(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!G4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OR(t.startAt,e.startAt)&&OR(t.endAt,e.endAt)}function K_(t){return z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ni=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function Q4(t,e,n,r,i,o,s,a){return new ni(t,e,n,r,i,o,s,a)}function Ff(t){return new ni(t)}function FR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zN(t){return t.collectionGroup!==null}function Uc(t){let e=Y(t);if(e.Ee===null){e.Ee=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Xe(qt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Zi(o,r))}),n.has(qt.keyField().canonicalString())||e.Ee.push(new Zi(qt.keyField(),r))}return e.Ee}function Mn(t){let e=Y(t);return e.de||(e.de=Y4(e,Uc(t))),e.de}function Y4(t,e){if(t.limitType==="F")return LR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Zi(i.field,o)});let n=t.endAt?new Rs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Rs(t.startAt.position,t.startAt.inclusive):null;return LR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Q_(t,e){let n=t.filters.concat([e]);return new ni(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function cf(t,e,n){return new ni(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vf(t,e){return _E(Mn(t),Mn(e))&&t.limitType===e.limitType}function qN(t){return`${vE(Mn(t))}|lt:${t.limitType}`}function vs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>$N(i)).join(", ")}]`),Of(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>As(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>As(i)).join(",")),`Target(${r})`}(Mn(t))}; limitType=${t.limitType})`}function jf(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Uc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=kR(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Uc(r),i)||r.endAt&&!function(s,a,u){let l=kR(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Uc(r),i))}(t,e)}function Z4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function WN(t){return(e,n)=>{let r=!1;for(let i of Uc(t)){let o=J4(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function J4(t,e,n){let r=t.field.isKeyField()?z.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Ss(u,l):q(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return q(19790,{direction:t.dir})}}var mr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){oi(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return NN(this.inner)}size(){return this.innerSize}};var X4=new Pe(z.comparator);function yr(){return X4}var GN=new Pe(z.comparator);function Vc(...t){let e=GN;for(let n of t)e=e.insert(n.key,n);return e}function KN(t){let e=GN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wi(){return Bc()}function QN(){return Bc()}function Bc(){return new mr(t=>t.toString(),(t,e)=>t.isEqual(e))}var ez=new Pe(z.comparator),tz=new Xe(z.comparator);function de(...t){let e=tz;for(let n of t)e=e.add(n);return e}var nz=new Xe(ae);function rz(){return nz}function IE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zc(e)?"-0":e}}function YN(t){return{integerValue:""+t}}function iz(t,e){return x4(e)?YN(e):IE(t,e)}var Ns=class{constructor(){this._=void 0}};function oz(t,e,n){return t instanceof Ms?function(i,o){let s={fields:{[PN]:{stringValue:MN},[kN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&pE(o)&&(o=Lf(o)),o&&(s.fields[xN]=o),{mapValue:s}}(n,e):t instanceof Ji?JN(t,e):t instanceof Xi?XN(t,e):function(i,o){let s=ZN(i,o),a=VR(s)+VR(i.Re);return V_(s)&&V_(i.Re)?YN(a):IE(i.serializer,a)}(t,e)}function sz(t,e,n){return t instanceof Ji?JN(t,e):t instanceof Xi?XN(t,e):n}function ZN(t,e){return t instanceof Ps?function(r){return V_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ms=class extends Ns{},Ji=class extends Ns{constructor(e){super(),this.elements=e}};function JN(t,e){let n=eM(e);for(let r of t.elements)n.some(i=>kn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Xi=class extends Ns{constructor(e){super(),this.elements=e}};function XN(t,e){let n=eM(e);for(let r of t.elements)n=n.filter(i=>!kn(i,r));return{arrayValue:{values:n}}}var Ps=class extends Ns{constructor(e,n){super(),this.serializer=e,this.Re=n}};function VR(t){return Ce(t.integerValue||t.doubleValue)}function eM(t){return yE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function az(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ji&&i instanceof Ji||r instanceof Xi&&i instanceof Xi?bs(r.elements,i.elements,kn):r instanceof Ps&&i instanceof Ps?kn(r.Re,i.Re):r instanceof Ms&&i instanceof Ms}(t.transform,e.transform)}var Y_=class{constructor(e,n){this.version=e,this.transformResults=n}},Pn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Zh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var xs=class{};function tM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Gc(t.key,Pn.none()):new eo(t.key,t.data,Pn.none());{let n=t.data,r=zt.empty(),i=new Xe(qt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new On(t.key,r,new Zt(i.toArray()),Pn.none())}}function cz(t,e,n){t instanceof eo?function(i,o,s){let a=i.value.clone(),u=UR(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof On?function(i,o,s){if(!Zh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=UR(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(nM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function $c(t,e,n,r){return t instanceof eo?function(o,s,a,u){if(!Zh(o.precondition,s))return a;let l=o.value.clone(),h=BR(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof On?function(o,s,a,u){if(!Zh(o.precondition,s))return a;let l=BR(o.fieldTransforms,u,s),h=s.data;return h.setAll(nM(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Zh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function uz(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=ZN(r.transform,i||null);o!=null&&(n===null&&(n=zt.empty()),n.set(r.field,o))}return n||null}function jR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&bs(r,i,(o,s)=>az(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var eo=class extends xs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},On=class extends xs{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function nM(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function UR(t,e,n){let r=new Map;ve(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,sz(s,a,n[i]))}return r}function BR(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,oz(o,s,e))}return r}var Gc=class extends xs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Z_=class extends xs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var J_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&cz(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=$c(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=$c(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=QN();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=tM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&bs(this.mutations,e.mutations,(n,r)=>jR(n,r))&&bs(this.baseMutations,e.baseMutations,(n,r)=>jR(n,r))}},X_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ve(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return ez}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var eI=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var tI=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Be,pe;function lz(t){switch(t){case M.OK:return q(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return q(15467,{code:t})}}function rM(t){if(t===void 0)return fr("GRPC error has no .code"),M.UNKNOWN;switch(t){case Be.OK:return M.OK;case Be.CANCELLED:return M.CANCELLED;case Be.UNKNOWN:return M.UNKNOWN;case Be.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Be.INTERNAL:return M.INTERNAL;case Be.UNAVAILABLE:return M.UNAVAILABLE;case Be.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Be.NOT_FOUND:return M.NOT_FOUND;case Be.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Be.ABORTED:return M.ABORTED;case Be.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Be.DATA_LOSS:return M.DATA_LOSS;default:return q(39323,{code:t})}}(pe=Be||(Be={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";var $R=null;var dz=new dr([4294967295,4294967295],0);function HR(t){let e=gN().encode(t),n=new y_;return n.update(e),new Uint8Array(n.digest())}function zR(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new dr([n,r],0),new dr([i,o],0)]}var nI=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gi(`Invalid padding: ${n}`);if(r<0)throw new Gi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Gi(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=dr.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(dr.fromNumber(r)));return i.compare(dz)===1&&(i=new dr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let n=HR(e),[r,i]=zR(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let n=HR(e),[r,i]=zR(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Gi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var uf=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Kc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(X.min(),i,new Pe(ae),yr(),de())}},Kc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,de(),de(),de())}};var ws=class{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}},lf=class{constructor(e,n){this.targetId=e,this.Ce=n}},df=class{constructor(e,n,r=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},hf=class{constructor(){this.Fe=0,this.Me=qR(),this.xe=gt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=de(),n=de(),r=de();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:q(38017,{changeType:o})}}),new Kc(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=qR()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ve(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},rI=class{constructor(e){this.ze=e,this.je=new Map,this.He=yr(),this.Je=Gh(),this.Ye=Gh(),this.Ze=new Pe(ae)}Xe(e){for(let n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(let n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{let r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){let n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){let o=i.target;if(K_(o))if(r===0){let s=new z(o.path);this.tt(n,s,ln.newNoDocument(s,X.min()))}else ve(r===1,20013,{expectedCount:r});else{let s=this.ut(n);if(s!==r){let a=this.ct(e),u=a?this.lt(a,e,s):1;if(u!==0){this.st(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,l)}$R?.ht(function(h,p,g,m,w){var A,R,k,$,U,he;let ze={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},ce=p.unchangedNames;return ce&&(ze.bloomFilter={applied:w===0,hashCount:(A=ce?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:($=(k=(R=ce?.bits)===null||R===void 0?void 0:R.bitmap)===null||k===void 0?void 0:k.length)!==null&&$!==void 0?$:0,padding:(he=(U=ce?.bits)===null||U===void 0?void 0:U.padding)!==null&&he!==void 0?he:0,mightContain:D=>{var v;return(v=m?.mightContain(D))!==null&&v!==void 0&&v}}),ze}(s,e.Ce,this.ze.Pt(),a,u))}}}}ct(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=gr(r).toUint8Array()}catch(u){if(u instanceof rf)return Ds("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new nI(s,i,o)}catch(u){return Ds(u instanceof Gi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){let r=this.ze.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,o,null),i++)}),i}It(e){let n=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&K_(a.target)){let u=new z(a.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,ln.newNoDocument(u,e))}o.Le&&(n.set(s,o.qe()),o.Qe())}});let r=de();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this._t(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new uf(e,n,this.Ze,this.He,r);return this.He=yr(),this.Je=Gh(),this.Ye=Gh(),this.Ze=new Pe(ae),i}et(e,n){if(!this.it(e))return;let r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){let n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new hf,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Xe(ae),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Xe(ae),this.Je=this.Je.insert(e,n)),n}it(e){let n=this._t(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}_t(e){let n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new hf),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}};function Gh(){return new Pe(z.comparator)}function qR(){return new Pe(z.comparator)}var hz={asc:"ASCENDING",desc:"DESCENDING"},fz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pz={and:"AND",or:"OR"},iI=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function oI(t,e){return t.useProto3Json||Of(e)?e:{value:e}}function ff(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gz(t,e){return ff(t,e.toTimestamp())}function xn(t){return ve(!!t,49232),X.fromTimestamp(function(n){let r=pr(n);return new ot(r.seconds,r.nanos)}(t))}function EE(t,e){return sI(t,e).canonicalString()}function sI(t,e){let n=function(i){return new Re(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function oM(t){let e=Re.fromString(t);return ve(lM(e),10190,{key:e.toString()}),e}function aI(t,e){return EE(t.databaseId,e.path)}function T_(t,e){let n=oM(e);if(n.get(1)!==t.databaseId.projectId)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z(aM(n))}function sM(t,e){return EE(t.databaseId,e)}function mz(t){let e=oM(t);return e.length===4?Re.emptyPath():aM(e)}function cI(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aM(t){return ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function WR(t,e,n){return{name:aI(t,e),fields:n.value.mapValue.fields}}function yz(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:q(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(ve(h===void 0||typeof h=="string",58123),gt.fromBase64String(h||"")):(ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),gt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?M.UNKNOWN:rM(l.code);return new L(h,l.message||"")}(s);n=new df(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=T_(t,r.document.name),o=xn(r.document.updateTime),s=r.document.createTime?xn(r.document.createTime):X.min(),a=new zt({mapValue:{fields:r.document.fields}}),u=ln.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new ws(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=T_(t,r.document),o=r.readTime?xn(r.readTime):X.min(),s=ln.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ws([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=T_(t,r.document),o=r.removedTargetIds||[];n=new ws([],o,i,null)}else{if(!("filter"in e))return q(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new tI(i,o),a=r.targetId;n=new lf(a,s)}}return n}function vz(t,e){let n;if(e instanceof eo)n={update:WR(t,e.key,e.value)};else if(e instanceof Gc)n={delete:aI(t,e.key)};else if(e instanceof On)n={update:WR(t,e.key,e.data),updateMask:Sz(e.fieldMask)};else{if(!(e instanceof Z_))return q(16599,{ft:e.type});n={verify:aI(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Ms)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ji)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Xi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ps)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw q(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:gz(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:q(27497)}(t,e.precondition)),n}function _z(t,e){return t&&t.length>0?(ve(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?xn(i.updateTime):xn(o);return s.isEqual(X.min())&&(s=xn(o)),new Y_(s,i.transformResults||[])}(n,e))):[]}function Iz(t,e){return{documents:[sM(t,e.path)]}}function Ez(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sM(t,i);let o=function(l){if(l.length!==0)return uM(dn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:_s(g.field),direction:Dz(g.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=oI(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:n,parent:i}}function wz(t){let e=mz(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ve(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let g=cM(p);return g instanceof dn&&UN(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(g=>function(w){return new Zi(Is(w.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,Of(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){let g=!!p.before,m=p.values||[];return new Rs(m,g)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let g=!p.before,m=p.values||[];return new Rs(m,g)}(n.endAt)),Q4(e,i,s,o,a,"F",u,l)}function Tz(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Is(n.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Is(n.unaryFilter.field);return He.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Is(n.unaryFilter.field);return He.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Is(n.unaryFilter.field);return He.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return q(61313);default:return q(60726)}}(t):t.fieldFilter!==void 0?function(n){return He.create(Is(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return q(58110);default:return q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return dn.create(n.compositeFilter.filters.map(r=>cM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q(1026)}}(n.compositeFilter.op))}(t):q(30097,{filter:t})}function Dz(t){return hz[t]}function bz(t){return fz[t]}function Cz(t){return pz[t]}function _s(t){return{fieldPath:t.canonicalString()}}function Is(t){return qt.fromServerFormat(t.fieldPath)}function uM(t){return t instanceof He?function(n){if(n.op==="=="){if(xR(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NAN"}};if(PR(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xR(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NOT_NAN"}};if(PR(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_s(n.field),op:bz(n.op),value:n.value}}}(t):t instanceof dn?function(n){let r=n.getFilters().map(i=>uM(i));return r.length===1?r[0]:{compositeFilter:{op:Cz(n.op),filters:r}}}(t):q(54877,{filter:t})}function Sz(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Qc=class t{constructor(e,n,r,i,o=X.min(),s=X.min(),a=gt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var uI=class{constructor(e){this.wt=e}};function Az(t){let e=wz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cf(e,e.limit,"L"):e}var pf=class{constructor(){}vt(e,n){this.Ct(e,n),n.Ft()}Ct(e,n){if("nullValue"in e)this.Mt(n,5);else if("booleanValue"in e)this.Mt(n,10),n.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(n,15),n.xt(Ce(e.integerValue));else if("doubleValue"in e){let r=Ce(e.doubleValue);isNaN(r)?this.Mt(n,13):(this.Mt(n,15),zc(r)?n.xt(0):n.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(n,20),typeof r=="string"&&(r=pr(r)),n.Ot(`${r.seconds||""}`),n.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,n),this.Bt(n);else if("bytesValue"in e)this.Mt(n,30),n.Lt(gr(e.bytesValue)),this.Bt(n);else if("referenceValue"in e)this.kt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(n,45),n.xt(r.latitude||0),n.xt(r.longitude||0)}else"mapValue"in e?FN(e)?this.Mt(n,Number.MAX_SAFE_INTEGER):LN(e)?this.qt(e.mapValue,n):(this.Qt(e.mapValue,n),this.Bt(n)):"arrayValue"in e?(this.$t(e.arrayValue,n),this.Bt(n)):q(19022,{Ut:e})}Nt(e,n){this.Mt(n,25),this.Kt(e,n)}Kt(e,n){n.Ot(e)}Qt(e,n){let r=e.fields||{};this.Mt(n,55);for(let i of Object.keys(r))this.Nt(i,n),this.Ct(r[i],n)}qt(e,n){var r,i;let o=e.fields||{};this.Mt(n,53);let s=Cs,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(n,15),n.xt(Ce(a)),this.Nt(s,n),this.Ct(o[s],n)}$t(e,n){let r=e.values||[];this.Mt(n,50);for(let i of r)this.Ct(i,n)}kt(e,n){this.Mt(n,37),z.fromName(e).path.forEach(r=>{this.Mt(n,60),this.Kt(r,n)})}Mt(e,n){e.xt(n)}Bt(e){e.xt(2)}};pf.Wt=new pf;var lI=class{constructor(){this.Cn=new dI}addToCollectionParentIndex(e,n){return this.Cn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Yi.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Yi.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},dI=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xe(Re.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xe(Re.comparator)).toArray()}};var IX=new Uint8Array(0);var GR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dM=41943040,Yt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(dM,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);var Yc=class t{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new t(0)}static lr(){return new t(-1)}};var KR="LruGarbageCollector",Rz=1048576;function QR([t,e],[n,r]){let i=ae(t,n);return i===0?ae(e,r):i}var hI=class{constructor(e){this.Er=e,this.buffer=new Xe(QR),this.dr=0}Ar(){return++this.dr}Rr(e){let n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();QR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},fI=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){j(KR,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){js(n)?j(KR,"Ignoring IndexedDB error during garbage collection: ",n):yield Vs(n)}yield this.mr(3e5)}))}},pI=class{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(hE.le);let r=new hI(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(j("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(GR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GR):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(j("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),ys()<=ue.DEBUG&&j("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function Nz(t,e){return new pI(t,e)}var gI=class{constructor(){this.changes=new mr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var mI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var yI=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&$c(r.mutation,i,Zt.empty(),ot.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){let i=Wi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Vc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Wi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=yr(),s=Bc(),a=function(){return Bc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof On)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),$c(h.mutation,l,h.mutation.getFieldMask(),ot.now())):s.set(l.key,Zt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new mI(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Bc(),i=new Pe((s,a)=>s-a),o=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Zt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||de()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=QN();h.forEach(g=>{if(!o.has(g)){let m=tM(n.get(g),r.get(g));m!==null&&p.set(g,m),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(Wi()),a=Hc,u=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,de())).next(h=>({batchId:a,changes:KN(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(r=>{let i=Vc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Vc();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{let l=function(p,g){return new ni(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,ln.newInvalidDocument(h)))});let a=Vc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&$c(h.mutation,l,Zt.empty(),ot.now()),jf(n,l)&&(a=a.insert(u,l))}),a})}};var vI=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return P.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:xn(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:Az(i.bundledQuery),readTime:xn(i.readTime)}}(n)),P.resolve()}};var _I=class{constructor(){this.overlays=new Pe(z.comparator),this.Qr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Wi();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=Wi(),o=n.length+1,s=new z(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Pe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Wi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Wi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}St(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new eI(n,r));let o=this.Qr.get(n);o===void 0&&(o=de(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}};var II=class{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var Zc=class{constructor(){this.$r=new Xe($e.Ur),this.Kr=new Xe($e.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){let r=new $e(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new $e(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){let n=new z(new Re([])),r=new $e(n,e),i=new $e(n,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let n=new z(new Re([])),r=new $e(n,e),i=new $e(n,e+1),o=de();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new $e(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},$e=class{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return z.comparator(e.key,n.key)||ae(e.Zr,n.Zr)}static Wr(e,n){return ae(e.Zr,n.Zr)||z.comparator(e.key,n.key)}};var EI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Xe($e.Ur)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new J_(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new $e(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.ti(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?fE:this.nr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new $e(n,0),i=new $e(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xe(ae);return n.forEach(i=>{let o=new $e(i,0),s=new $e(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),P.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;z.isDocumentKey(o)||(o=o.child(""));let s=new $e(new z(o),0),a=new Xe(ae);return this.Xr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Zr)),!0)},s),P.resolve(this.ni(a))}ni(e){let n=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ve(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return P.forEach(n.mutations,i=>{let o=new $e(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){let r=new $e(n,0),i=this.Xr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var wI=class{constructor(e){this.ii=e,this.docs=function(){return new Pe(z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let r=yr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ln.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=yr(),s=n.path,a=new z(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||N4(R4(h),r)<=0||(i.has(h.key)||jf(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){q(9500)}si(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new TI(this)}getSize(e){return P.resolve(this.size)}},TI=class extends gI{constructor(e){super(),this.Br=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}};var DI=class{constructor(e){this.persistence=e,this.oi=new mr(n=>vE(n),_E),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this._i=0,this.ai=new Zc,this.targetCount=0,this.ui=Yc.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),P.resolve()}Tr(e){this.oi.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ui=new Yc(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Tr(n),P.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.oi.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.ai.Yr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.ai.containsKey(n))}};var gf=class{constructor(e,n){this.ci={},this.overlays={},this.li=new hE(0),this.hi=!1,this.hi=!0,this.Pi=new II,this.referenceDelegate=e(this),this.Ti=new DI(this),this.indexManager=new lI,this.remoteDocumentCache=function(i){return new wI(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new uI(n),this.Ei=new vI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _I,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new EI(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);let i=new bI(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,n){return P.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}},bI=class extends O_{constructor(e){super(),this.currentSequenceNumber=e}},CI=class t{constructor(e){this.persistence=e,this.Vi=new Zc,this.mi=null}static fi(e){return new t(e)}get gi(){if(this.mi)return this.mi;throw q(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),P.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.gi,r=>{let i=z.fromPath(r);return this.pi(e,i).next(o=>{o||n.removeEntry(i,X.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return P.or([()=>P.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}},mf=class t{constructor(e,n){this.persistence=e,this.yi=new mr(r=>k4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Nz(this,n)}static fi(e,n){return new t(e,n)}di(){}Ai(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){let n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return P.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?P.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,X.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),P.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Qh(e.data.value)),n}Dr(e,n,r){return P.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.yi.get(n);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var SI=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=de(),i=de();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var AI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var RI=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return H0()?8:P4(Ze())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ws(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.bs(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new AI;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,n,s,a.size)})}).next(()=>o.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(ys()<=ue.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",vs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),P.resolve()):(ys()<=ue.DEBUG&&j("QueryEngine","Query:",vs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(ys()<=ue.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",vs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mn(n))):P.resolve())}ws(e,n){if(FR(n))return P.resolve(null);let r=Mn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=cf(n,null,"F"),r=Mn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=de(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.vs(n,a);return this.Cs(n,l,s,u.readTime)?this.ws(e,cf(n,null,"F")):this.Fs(e,l,n,u)}))})))}bs(e,n,r,i){return FR(n)||i.isEqual(X.min())?P.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(n,o);return this.Cs(n,s,r,i)?P.resolve(null):(ys()<=ue.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vs(n)),this.Fs(e,s,n,A4(i,Hc)).next(a=>a))})}vs(e,n){let r=new Xe(WN(e));return n.forEach((i,o)=>{jf(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return ys()<=ue.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",vs(n)),this.ys.getDocumentsMatchingQuery(e,n,Yi.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var wE="LocalStore",Mz=3e8,NI=class{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Pe(ae),this.Os=new mr(o=>vE(o),_E),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yI(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}};function Pz(t,e,n,r){return new NI(t,e,n,r)}function hM(t,e){return _(this,null,function*(){let n=Y(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=de();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({ks:l,removedBatchIds:s,addedBatchIds:a}))})})})}function xz(t,e){let n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,g=p.keys(),m=P.resolve();return g.forEach(w=>{m=m.next(()=>h.getEntry(u,w)).next(A=>{let R=l.docVersions.get(w);ve(R!==null,48541),A.version.compareTo(R)<0&&(p.applyToRemoteDocument(A,l),A.isValidDocument()&&(A.setReadTime(l.commitVersion),h.addEntry(A)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=de();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function fM(t){let e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function kz(t,e){let n=Y(t),r=e.snapshotVersion,i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(n.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(o,h.addedDocuments,p)));let m=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(gt.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(p,m),function(A,R,k){return A.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=Mz?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(g,m,h)&&a.push(n.Ti.updateTargetData(o,m))});let u=yr(),l=de();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(Oz(o,s,e.documentUpdates).next(h=>{u=h.qs,l=h.Qs})),!r.isEqual(X.min())){let h=n.Ti.getLastRemoteSnapshotVersion(o).next(p=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.xs=i,o))}function Oz(t,e,n){let r=de(),i=de();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=yr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(X.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):j(wE,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{qs:s,Qs:i}})}function Lz(t,e){let n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=fE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Fz(t,e){let n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.Ti.allocateTargetId(r).next(s=>(i=new Qc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}function MI(t,e,n){return _(this,null,function*(){let r=Y(t),i=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!js(s))throw s;j(wE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function YR(t,e,n){let r=Y(t),i=X.min(),o=de();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=Y(u),g=p.Os.get(h);return g!==void 0?P.resolve(p.xs.get(g)):p.Ti.getTargetData(l,h)}(r,s,Mn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,n?i:X.min(),n?o:de())).next(a=>(Vz(r,Z4(e),a),{documents:a,$s:o})))}function Vz(t,e,n){let r=t.Ns.get(e)||X.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}var yf=class{constructor(){this.activeTargetIds=rz()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var PI=class{constructor(){this.xo=new yf,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new yf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var xI=class{No(e){}shutdown(){}};var ZR="ConnectivityMonitor",vf=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){j(ZR,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){j(ZR,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Kh=null;function kI(){return Kh===null?Kh=function(){return 268435456+Math.round(2147483648*Math.random())}():Kh++,"0x"+Kh.toString(16)}var D_="RestConnection",jz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},OI=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===of?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,o){let s=kI(),a=this.jo(e,n.toUriEncodedString());j(D_,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,o);let{host:l}=new URL(a),h=Gr(l);return this.Jo(e,a,u,r,h).then(p=>(j(D_,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Ds(D_,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,n,r,i,o,s){return this.zo(e,n,r,i,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,n){let r=jz[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}};var LI=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var ft="WebChannelConnection",FI=class extends OI{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){let s=kI();return new Promise((a,u)=>{let l=new v_;l.setWithCredentials(!0),l.listenOnce(__.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Fc.NO_ERROR:let p=l.getResponseJson();j(ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Fc.TIMEOUT:j(ft,`RPC '${e}' ${s} timed out`),u(new L(M.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:let g=l.getStatus();if(j(ft,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let w=m?.error;if(w&&w.status&&w.message){let A=function(k){let $=k.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf($)>=0?$:M.UNKNOWN}(w.status);u(new L(A,w.message))}else u(new L(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new L(M.UNAVAILABLE,"Connection failed."));break;default:q(9055,{h_:e,streamId:s,P_:l.getLastErrorCode(),T_:l.getLastError()})}}finally{j(ft,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);j(ft,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}I_(e,n,r){let i=kI(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=w_(),a=E_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");j(ft,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.E_(p);let g=!1,m=!1,w=new LI({Zo:R=>{m?j(ft,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(g||(j(ft,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),j(ft,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Xo:()=>p.close()}),A=(R,k,$)=>{R.listen(k,U=>{try{$(U)}catch(he){setTimeout(()=>{throw he},0)}})};return A(p,ms.EventType.OPEN,()=>{m||(j(ft,`RPC '${e}' stream ${i} transport opened.`),w.__())}),A(p,ms.EventType.CLOSE,()=>{m||(m=!0,j(ft,`RPC '${e}' stream ${i} transport closed`),w.u_(),this.d_(p))}),A(p,ms.EventType.ERROR,R=>{m||(m=!0,Ds(ft,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),w.u_(new L(M.UNAVAILABLE,"The operation could not be completed")))}),A(p,ms.EventType.MESSAGE,R=>{var k;if(!m){let $=R.data[0];ve(!!$,16349);let U=$,he=U?.error||((k=U[0])===null||k===void 0?void 0:k.error);if(he){j(ft,`RPC '${e}' stream ${i} received error:`,he);let ze=he.status,ce=function(E){let T=Be[E];if(T!==void 0)return rM(T)}(ze),D=he.message;ce===void 0&&(ce=M.INTERNAL,D="Unknown error status: "+ze+" with message "+he.message),m=!0,w.u_(new L(ce,D)),p.close()}else j(ft,`RPC '${e}' stream ${i} received:`,$),w.c_($)}}),A(a,I_.STAT_EVENT,R=>{R.stat===qh.PROXY?j(ft,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===qh.NOPROXY&&j(ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.a_()},0),w}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}};function b_(){return typeof document<"u"?document:null}function Uf(t){return new iI(t,!0)}var _f=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();let n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}};var JR="PersistentStream",If=class{constructor(e,n,r,i,o,s,a,u){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new _f(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}stop(){return _(this,null,function*(){this.O_()&&(yield this.close(0))})}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}q_(){return _(this,null,function*(){if(this.N_())return this.close(0)})}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}close(e,n){return _(this,null,function*(){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(n)})}W_(){}auth(){this.state=1;let e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{let i=new L(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){let r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(()=>_(this,null,function*(){this.state=0,this.start()}))}j_(e){return j(JR,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(j(JR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},VI=class extends If{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();let n=yz(this.serializer,e),r=function(o){if(!("targetChange"in o))return X.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?X.min():s.readTime?xn(s.readTime):X.min()}(e);return this.listener.Y_(n,r)}Z_(e){let n={};n.database=cI(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=K_(u)?{documents:Iz(o,u)}:{query:Ez(o,u).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=iM(o,s.resumeToken);let l=oI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(X.min())>0){a.readTime=ff(o,s.snapshotVersion.toTimestamp());let l=oI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=Tz(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){let n={};n.database=cI(this.serializer),n.removeTarget=e,this.Q_(n)}},jI=class extends If{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();let n=_z(e.writeResults,e.commitTime),r=xn(e.commitTime);return this.listener.ra(r,n)}ia(){let e={};e.database=cI(this.serializer),this.Q_(e)}ta(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>vz(this.serializer,r))};this.Q_(n)}};var UI=class{},BI=class extends UI{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,sI(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(M.UNKNOWN,o.toString())})}Yo(e,n,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,sI(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(M.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}},$I=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(fr(n),this.ua=!1):j("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}};var to="RemoteStore",HI=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(s=>{r.enqueueAndForget(()=>_(this,null,function*(){no(this)&&(j(to,"Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=Y(u);l.da.add(4),yield au(l),l.Va.set("Unknown"),l.da.delete(4),yield Bf(l)})}(this))}))}),this.Va=new $I(r,i)}};function Bf(t){return _(this,null,function*(){if(no(t))for(let e of t.Aa)yield e(!0)})}function au(t){return _(this,null,function*(){for(let e of t.Aa)yield e(!1)})}function pM(t,e){let n=Y(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),CE(n)?bE(n):Us(n).N_()&&DE(n,e))}function TE(t,e){let n=Y(t),r=Us(n);n.Ea.delete(e),r.N_()&&gM(n,e),n.Ea.size===0&&(r.N_()?r.k_():no(n)&&n.Va.set("Unknown"))}function DE(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Us(t).Z_(e)}function gM(t,e){t.ma.Ke(e),Us(t).X_(e)}function bE(t){t.ma=new rI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Us(t).start(),t.Va.ca()}function CE(t){return no(t)&&!Us(t).O_()&&t.Ea.size>0}function no(t){return Y(t).da.size===0}function mM(t){t.ma=void 0}function Uz(t){return _(this,null,function*(){t.Va.set("Online")})}function Bz(t){return _(this,null,function*(){t.Ea.forEach((e,n)=>{DE(t,e)})})}function $z(t,e){return _(this,null,function*(){mM(t),CE(t)?(t.Va.Pa(e),bE(t)):t.Va.set("Unknown")})}function Hz(t,e,n){return _(this,null,function*(){if(t.Va.set("Online"),e instanceof df&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ea.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ea.delete(a),i.ma.removeTarget(a))})}(t,e)}catch(r){j(to,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ef(t,r)}else if(e instanceof ws?t.ma.Xe(e):e instanceof lf?t.ma.ot(e):t.ma.nt(e),!n.isEqual(X.min()))try{let r=yield fM(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.ma.It(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ea.get(l);h&&o.Ea.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ea.get(u);if(!h)return;o.Ea.set(u,h.withResumeToken(gt.EMPTY_BYTE_STRING,h.snapshotVersion)),gM(o,u);let p=new Qc(h.target,u,l,h.sequenceNumber);DE(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){j(to,"Failed to raise snapshot:",r),yield Ef(t,r)}})}function Ef(t,e,n){return _(this,null,function*(){if(!js(e))throw e;t.da.add(1),yield au(t),t.Va.set("Offline"),n||(n=()=>fM(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){j(to,"Retrying IndexedDB access"),yield n(),t.da.delete(1),yield Bf(t)}))})}function yM(t,e){return e().catch(n=>Ef(t,n,e))}function $f(t){return _(this,null,function*(){let e=Y(t),n=ri(e),r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:fE;for(;zz(e);)try{let i=yield Lz(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,qz(e,i)}catch(i){yield Ef(e,i)}vM(e)&&_M(e)})}function zz(t){return no(t)&&t.Ia.length<10}function qz(t,e){t.Ia.push(e);let n=ri(t);n.N_()&&n.ea&&n.ta(e.mutations)}function vM(t){return no(t)&&!ri(t).O_()&&t.Ia.length>0}function _M(t){ri(t).start()}function Wz(t){return _(this,null,function*(){ri(t).ia()})}function Gz(t){return _(this,null,function*(){let e=ri(t);for(let n of t.Ia)e.ta(n.mutations)})}function Kz(t,e,n){return _(this,null,function*(){let r=t.Ia.shift(),i=X_.from(r,e,n);yield yM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield $f(t)})}function Qz(t,e){return _(this,null,function*(){e&&ri(t).ea&&(yield function(r,i){return _(this,null,function*(){if(function(s){return lz(s)&&s!==M.ABORTED}(i.code)){let o=r.Ia.shift();ri(r).L_(),yield yM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield $f(r)}})}(t,e)),vM(t)&&_M(t)})}function XR(t,e){return _(this,null,function*(){let n=Y(t);n.asyncQueue.verifyOperationInProgress(),j(to,"RemoteStore received new credentials");let r=no(n);n.da.add(3),yield au(n),r&&n.Va.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),yield Bf(n)})}function Yz(t,e){return _(this,null,function*(){let n=Y(t);e?(n.da.delete(2),yield Bf(n)):e||(n.da.add(2),yield au(n),n.Va.set("Unknown"))})}function Us(t){return t.fa||(t.fa=function(n,r,i){let o=Y(n);return o.oa(),new VI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:Uz.bind(null,t),n_:Bz.bind(null,t),i_:$z.bind(null,t),Y_:Hz.bind(null,t)}),t.Aa.push(e=>_(null,null,function*(){e?(t.fa.L_(),CE(t)?bE(t):t.Va.set("Unknown")):(yield t.fa.stop(),mM(t))}))),t.fa}function ri(t){return t.ga||(t.ga=function(n,r,i){let o=Y(n);return o.oa(),new jI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:Wz.bind(null,t),i_:Qz.bind(null,t),na:Gz.bind(null,t),ra:Kz.bind(null,t)}),t.Aa.push(e=>_(null,null,function*(){e?(t.ga.L_(),yield $f(t)):(yield t.ga.stop(),t.Ia.length>0&&(j(to,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))}))),t.ga}var zI=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new un,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function SE(t,e){if(fr("AsyncQueue",`${e}: ${t}`),js(t))return new L(M.UNAVAILABLE,`${e}: ${t}`);throw t}var wf=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||z.comparator(n.key,r.key):(n,r)=>z.comparator(n.key,r.key),this.keyedMap=Vc(),this.sortedSet=new Pe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Tf=class{constructor(){this.pa=new Pe(z.comparator)}track(e){let n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):q(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){let e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}},ks=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,wf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var qI=class{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}},WI=class{constructor(){this.queries=eN(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){let i=Y(n),o=i.queries;i.queries=eN(),o.forEach((s,a)=>{for(let u of a.Sa)u.onError(r)})})(this,new L(M.ABORTED,"Firestore shutting down"))}};function eN(){return new mr(t=>qN(t),Vf)}function AE(t,e){return _(this,null,function*(){let n=Y(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new qI,r=e.va()?0:1);try{switch(r){case 0:o.ba=yield n.onListen(i,!0);break;case 1:o.ba=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=SE(s,`Initialization of query '${vs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.Fa(n.onlineState),o.ba&&e.Ma(o.ba)&&NE(n)})}function RE(t,e){return _(this,null,function*(){let n=Y(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function Zz(t,e){let n=Y(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.Sa)a.Ma(i)&&(r=!0);s.ba=i}}r&&NE(n)}function Jz(t,e,n){let r=Y(t),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(n);r.queries.delete(e)}function NE(t){t.Ca.forEach(e=>{e.next()})}var GI,tN;(tN=GI||(GI={})).xa="default",tN.Cache="cache";var Jc=class{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ks(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;let r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;let n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=ks.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==GI.Cache}};var Df=class{constructor(e){this.key=e}},bf=class{constructor(e){this.key=e}},KI=class{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=de(),this.mutatedKeys=de(),this.Za=WN(e),this.Xa=new wf(this.Za)}get eu(){return this.Ha}tu(e,n){let r=n?n.nu:new Tf,i=n?n.Xa:this.Xa,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),m=jf(this.query,p)?p:null,w=!!g&&this.mutatedKeys.has(g.key),A=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),R=!1;g&&m?g.data.isEqual(m.data)?w!==A&&(r.track({type:3,doc:m}),R=!0):this.ru(g,m)||(r.track({type:2,doc:m}),R=!0,(u&&this.Za(m,u)>0||l&&this.Za(m,l)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),R=!0):g&&!m&&(r.track({type:1,doc:g}),R=!0,(u||l)&&(a=!0)),R&&(m?(s=s.add(m),o=A?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Xa:s,nu:r,Cs:a,mutatedKeys:o}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;let s=e.nu.wa();s.sort((h,p)=>function(m,w){let A=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q(20277,{Vt:R})}};return A(m)-A(w)}(h.type,p.type)||this.Za(h.doc,p.doc)),this.iu(r),i=i!=null&&i;let a=n&&!i?this.su():[],u=this.Ya.size===0&&this.current&&!i?1:0,l=u!==this.Ja;return this.Ja=u,s.length!==0||l?{snapshot:new ks(this.query,e.Xa,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Tf,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];let e=this.Ya;this.Ya=de(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});let n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new bf(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new Df(r))}),n}au(e){this.Ha=e.$s,this.Ya=de();let n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return ks.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}},ME="SyncEngine",QI=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},YI=class{constructor(e){this.key=e,this.cu=!1}},ZI=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new mr(a=>qN(a),Vf),this.Pu=new Map,this.Tu=new Set,this.Iu=new Pe(z.comparator),this.Eu=new Map,this.du=new Zc,this.Au={},this.Ru=new Map,this.Vu=Yc.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}};function Xz(t,e,n=!0){return _(this,null,function*(){let r=bM(t),i,o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=yield IM(r,e,n,!0),i})}function eq(t,e){return _(this,null,function*(){let n=bM(t);yield IM(n,e,!0,!1)})}function IM(t,e,n,r){return _(this,null,function*(){let i=yield Fz(t.localStore,Mn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield tq(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&pM(t.remoteStore,i),a})}function tq(t,e,n,r,i){return _(this,null,function*(){t.fu=(p,g,m)=>function(A,R,k,$){return _(this,null,function*(){let U=R.view.tu(k);U.Cs&&(U=yield YR(A.localStore,R.query,!1).then(({documents:D})=>R.view.tu(D,U)));let he=$&&$.targetChanges.get(R.targetId),ze=$&&$.targetMismatches.get(R.targetId)!=null,ce=R.view.applyChanges(U,A.isPrimaryClient,he,ze);return rN(A,R.targetId,ce.ou),ce.snapshot})}(t,p,g,m);let o=yield YR(t.localStore,e,!0),s=new KI(e,o.$s),a=s.tu(o.documents),u=Kc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);rN(t,n,l.ou);let h=new QI(e,n,s);return t.hu.set(e,h),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),l.snapshot})}function nq(t,e,n){return _(this,null,function*(){let r=Y(t),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(s=>!Vf(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield MI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&TE(r.remoteStore,i.targetId),JI(r,i.targetId)}).catch(Vs))):(JI(r,i.targetId),yield MI(r.localStore,i.targetId,!0))})}function rq(t,e){return _(this,null,function*(){let n=Y(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),TE(n.remoteStore,r.targetId))})}function iq(t,e,n){return _(this,null,function*(){let r=dq(t);try{let i=yield function(s,a){let u=Y(s),l=ot.now(),h=a.reduce((m,w)=>m.add(w.key),de()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=yr(),A=de();return u.Bs.getEntries(m,h).next(R=>{w=R,w.forEach((k,$)=>{$.isValidDocument()||(A=A.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,w)).next(R=>{p=R;let k=[];for(let $ of a){let U=uz($,p.get($.key).overlayedDocument);U!=null&&k.push(new On($.key,U,VN(U.value.mapValue),Pn.exists(!0)))}return u.mutationQueue.addMutationBatch(m,l,k,a)}).next(R=>{g=R;let k=R.applyToLocalDocumentSet(p,A);return u.documentOverlayCache.saveOverlays(m,R.batchId,k)})}).then(()=>({batchId:g.batchId,changes:KN(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Au[s.currentUser.toKey()];l||(l=new Pe(ae)),l=l.insert(a,u),s.Au[s.currentUser.toKey()]=l}(r,i.batchId,n),yield cu(r,i.changes),yield $f(r.remoteStore)}catch(i){let o=SE(i,"Failed to persist write");n.reject(o)}})}function EM(t,e){return _(this,null,function*(){let n=Y(t);try{let r=yield kz(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?ve(s.cu,14607):i.removedDocuments.size>0&&(ve(s.cu,42227),s.cu=!1))}),yield cu(n,r,e)}catch(r){yield Vs(r)}})}function nN(t,e,n){let r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.hu.forEach((o,s)=>{let a=s.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=Y(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.Sa)g.Fa(a)&&(l=!0)}),l&&NE(u)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function oq(t,e,n){return _(this,null,function*(){let r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Pe(z.comparator);s=s.insert(o,ln.newNoDocument(o,X.min()));let a=de().add(o),u=new uf(X.min(),new Map,new Pe(ae),s,a);yield EM(r,u),r.Iu=r.Iu.remove(o),r.Eu.delete(e),PE(r)}else yield MI(r.localStore,e,!1).then(()=>JI(r,e,n)).catch(Vs)})}function sq(t,e){return _(this,null,function*(){let n=Y(t),r=e.batch.batchId;try{let i=yield xz(n.localStore,e);TM(n,r,null),wM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield cu(n,i)}catch(i){yield Vs(i)}})}function aq(t,e,n){return _(this,null,function*(){let r=Y(t);try{let i=yield function(s,a){let u=Y(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(ve(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);TM(r,e,n),wM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield cu(r,i)}catch(i){yield Vs(i)}})}function wM(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function TM(t,e,n){let r=Y(t),i=r.Au[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function JI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||DM(t,r)})}function DM(t,e){t.Tu.delete(e.path.canonicalString());let n=t.Iu.get(e);n!==null&&(TE(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),PE(t))}function rN(t,e,n){for(let r of n)r instanceof Df?(t.du.addReference(r.key,e),cq(t,r)):r instanceof bf?(j(ME,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||DM(t,r.key)):q(19791,{pu:r})}function cq(t,e){let n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(j(ME,"New document in limbo: "+n),t.Tu.add(r),PE(t))}function PE(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){let e=t.Tu.values().next().value;t.Tu.delete(e);let n=new z(Re.fromString(e)),r=t.Vu.next();t.Eu.set(r,new YI(n)),t.Iu=t.Iu.insert(n,r),pM(t.remoteStore,new Qc(Mn(Ff(n.path)),r,"TargetPurposeLimboResolution",hE.le))}}function cu(t,e,n){return _(this,null,function*(){let r=Y(t),i=[],o=[],s=[];r.hu.isEmpty()||(r.hu.forEach((a,u)=>{s.push(r.fu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=SI.Rs(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.lu.Y_(i),yield function(u,l){return _(this,null,function*(){let h=Y(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,g=>P.forEach(g.ds,m=>h.persistence.referenceDelegate.addReference(p,g.targetId,m)).next(()=>P.forEach(g.As,m=>h.persistence.referenceDelegate.removeReference(p,g.targetId,m)))))}catch(p){if(!js(p))throw p;j(wE,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let m=h.xs.get(g),w=m.snapshotVersion,A=m.withLastLimboFreeSnapshotVersion(w);h.xs=h.xs.insert(g,A)}}})}(r.localStore,o))})}function uq(t,e){return _(this,null,function*(){let n=Y(t);if(!n.currentUser.isEqual(e)){j(ME,"User change. New user:",e.toKey());let r=yield hM(n.localStore,e);n.currentUser=e,function(o,s){o.Ru.forEach(a=>{a.forEach(u=>{u.reject(new L(M.CANCELLED,s))})}),o.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield cu(n,r.ks)}})}function lq(t,e){let n=Y(t),r=n.Eu.get(e);if(r&&r.cu)return de().add(r.key);{let i=de(),o=n.Pu.get(e);if(!o)return i;for(let s of o){let a=n.hu.get(s);i=i.unionWith(a.view.eu)}return i}}function bM(t){let e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=EM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oq.bind(null,e),e.lu.Y_=Zz.bind(null,e.eventManager),e.lu.gu=Jz.bind(null,e.eventManager),e}function dq(t){let e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aq.bind(null,e),e}var CM=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return _(this,null,function*(){this.serializer=Uf(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Su(n),yield this.persistence.start(),this.localStore=this.Du(n),this.gcScheduler=this.vu(n,this.localStore),this.indexBackfillerScheduler=this.Cu(n,this.localStore)})}vu(n,r){return null}Cu(n,r){return null}Du(n){return Pz(this.persistence,new RI,n.initialUser,this.serializer)}Su(n){return new gf(CI.fi,this.serializer)}bu(n){return new PI}terminate(){return _(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),XI=class extends CM{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){ve(this.persistence.referenceDelegate instanceof mf,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new fI(r,e.asyncQueue,n)}Su(e){let n=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new gf(r=>mf.fi(r,n),this.serializer)}};var hq=(()=>{class t{initialize(n,r){return _(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>nN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=uq.bind(null,this.syncEngine),yield Yz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new WI}()}createDatastore(n){let r=Uf(n.databaseInfo.databaseId),i=function(s){return new FI(s)}(n.databaseInfo);return function(s,a,u,l){return new BI(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new HI(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>nN(this.syncEngine,r,0),function(){return vf.C()?new vf:new xI}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let g=new ZI(o,s,a,u,l,h);return p&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var n,r;yield function(o){return _(this,null,function*(){let s=Y(o);j(to,"RemoteStore shutting down."),s.da.add(5),yield au(s),s.Ra.shutdown(),s.Va.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Xc=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var ii="FirestoreClient",eE=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Je.UNAUTHENTICATED,this.clientId=ef.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){j(ii,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(j(ii,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new un;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=SE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function C_(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),j(ii,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield hM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function iN(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield fq(t);j(ii,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>XR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>XR(e.remoteStore,i)),t._onlineComponents=e})}function fq(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j(ii,"Using user provided OfflineComponentProvider");try{yield C_(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ds("Error using user provided cache. Falling back to memory cache: "+n),yield C_(t,new CM)}}else j(ii,"Using default OfflineComponentProvider"),yield C_(t,new XI(void 0));return t._offlineComponents})}function SM(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(j(ii,"Using user provided OnlineComponentProvider"),yield iN(t,t._uninitializedComponentsProvider._online)):(j(ii,"Using default OnlineComponentProvider"),yield iN(t,new hq))),t._onlineComponents})}function pq(t){return SM(t).then(e=>e.syncEngine)}function Cf(t){return _(this,null,function*(){let e=yield SM(t),n=e.eventManager;return n.onListen=Xz.bind(null,e.syncEngine),n.onUnlisten=nq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=eq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rq.bind(null,e.syncEngine),n})}function gq(t,e,n={}){let r=new un;return t.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,a,u,l){let h=new Xc({next:g=>{h.xu(),s.enqueueAndForget(()=>RE(o,p));let m=g.docs.has(a);!m&&g.fromCache?l.reject(new L(M.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&u&&u.source==="server"?l.reject(new L(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new Jc(Ff(a.path),h,{includeMetadataChanges:!0,Qa:!0});return AE(o,p)}(yield Cf(t),t.asyncQueue,e,n,r)})),r.promise}function mq(t,e,n={}){let r=new un;return t.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,a,u,l){let h=new Xc({next:g=>{h.xu(),s.enqueueAndForget(()=>RE(o,p)),g.fromCache&&u.source==="server"?l.reject(new L(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new Jc(a,h,{includeMetadataChanges:!0,Qa:!0});return AE(o,p)}(yield Cf(t),t.asyncQueue,e,n,r)})),r.promise}function AM(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var oN=new Map;function RM(t,e,n){if(!n)throw new L(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yq(t,e,n,r){if(e===!0&&r===!0)throw new L(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sN(t){if(!z.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aN(t){if(z.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q(12329,{type:typeof t})}function xt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Hf(t);throw new L(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function vq(t,e){if(e<=0)throw new L(M.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var NM="firestore.googleapis.com",cN=!0,Sf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NM,this.ssl=cN}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:cN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Rz)throw new L(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Os=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new L(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new S_;switch(r.type){case"firstParty":return new M_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=oN.get(n);r&&(j("ComponentProvider","Removing Datastore"),oN.delete(n),r.terminate())}(this),Promise.resolve()}};function _q(t,e,n,r={}){var i;t=xt(t,Os);let o=Gr(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(dh(`https://${u}`),hh("Firestore",!0)),s.host!==NM&&s.host!==u&&Ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Cn(l,a)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Je.MOCK_USER;else{h=F0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new L(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Je(g)}t._authCredentials=new A_(new Jh(h,p))}}var vr=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},pt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},ei=class t extends vr{constructor(e,n,r){super(e,n,Ff(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function EX(t,e,...n){if(t=Ae(t),RM("collection","path",e),t instanceof Os){let r=Re.fromString(e,...n);return aN(r),new ei(t,null,r)}{if(!(t instanceof pt||t instanceof ei))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Re.fromString(e,...n));return aN(r),new ei(t.firestore,null,r)}}function Iq(t,e,...n){if(t=Ae(t),arguments.length===1&&(e=ef.newId()),RM("doc","path",e),t instanceof Os){let r=Re.fromString(e,...n);return sN(r),new pt(t,null,new z(r))}{if(!(t instanceof pt||t instanceof ei))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Re.fromString(e,...n));return sN(r),new pt(t.firestore,t instanceof ei?t.converter:null,new z(r))}}var uN="AsyncQueue",Af=class{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new _f(this,"async_queue_retry"),this.rc=()=>{let r=b_();r&&j(uN,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;let n=b_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;let n=b_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});let n=new un;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}ac(){return _(this,null,function*(){if(this.Ju.length!==0){try{yield this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!js(e))throw e;j(uN,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}})}_c(e){let n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,fr("INTERNAL UNHANDLED ERROR: ",lN(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);let i=zI.createAndSchedule(this,e,n,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&q(47125,{cc:lN(this.Xu)})}verifyOperationInProgress(){}lc(){return _(this,null,function*(){let e;do e=this.sc,yield e;while(e!==this.sc)})}hc(e){for(let n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){let n=this.Zu.indexOf(e);this.Zu.splice(n,1)}};function lN(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function dN(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var hn=class extends Os{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Af,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Af(e),this._firestoreClient=void 0,yield e}})}};function wX(t,e){let n=typeof t=="object"?t:Ui(),r=typeof t=="string"?t:e||of,i=us(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=L0("firestore");o&&_q(i,...o)}return i}function zf(t){if(t._terminated)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Eq(t),t._firestoreClient}function Eq(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new L_(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,AM(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new eE(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var eu=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(gt.fromBase64String(e))}catch(n){throw new L(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ls=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var tu=class{constructor(e){this._methodName=e}};var nu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}};var ru=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var wq=/^__.*__$/,tE=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new On(e,this.data,this.fieldMask,n,this.fieldTransforms):new eo(e,this.data,n,this.fieldTransforms)}},Rf=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new On(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function MM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q(40011,{Ic:t})}}var nE=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Mf(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(MM(this.Ic)&&wq.test(e))throw this.gc('Document fields cannot begin and end with "__"')}},rE=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Uf(e)}bc(e,n,r,i=!1){return new nE({Ic:e,methodName:n,wc:r,path:qt.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function qf(t){let e=t._freezeSettings(),n=Uf(t._databaseId);return new rE(t._databaseId,!!e.ignoreUndefinedProperties,n)}function PM(t,e,n,r,i,o={}){let s=t.bc(o.merge||o.mergeFields?2:0,e,n,i);xE("Data must be an object, but it was:",s,r);let a=xM(r,s),u,l;if(o.merge)u=new Zt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=iE(e,p,n);if(!s.contains(g))throw new L(M.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);OM(h,g)||h.push(g)}u=new Zt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new tE(new zt(a),u,l)}var Nf=class t extends tu{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function Tq(t,e,n,r){let i=t.bc(1,e,n);xE("Data must be an object, but it was:",i,r);let o=[],s=zt.empty();oi(r,(u,l)=>{let h=kE(e,u,n);l=Ae(l);let p=i.mc(h);if(l instanceof Nf)o.push(h);else{let g=uu(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new Zt(o);return new Rf(s,a,i.fieldTransforms)}function Dq(t,e,n,r,i,o){let s=t.bc(1,e,n),a=[iE(e,r,n)],u=[i];if(o.length%2!=0)throw new L(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(iE(e,o[g])),u.push(o[g+1]);let l=[],h=zt.empty();for(let g=a.length-1;g>=0;--g)if(!OM(l,a[g])){let m=a[g],w=u[g];w=Ae(w);let A=s.mc(m);if(w instanceof Nf)l.push(m);else{let R=uu(w,A);R!=null&&(l.push(m),h.set(m,R))}}let p=new Zt(l);return new Rf(h,p,s.fieldTransforms)}function bq(t,e,n,r=!1){return uu(n,t.bc(r?4:3,e))}function uu(t,e){if(kM(t=Ae(t)))return xE("Unsupported field value:",e,t),xM(t,e);if(t instanceof tu)return function(r,i){if(!MM(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=uu(a,i.fc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ae(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ot.fromDate(r);return{timestampValue:ff(i.serializer,o)}}if(r instanceof ot){let o=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ff(i.serializer,o)}}if(r instanceof nu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof eu)return{bytesValue:iM(i.serializer,r._byteString)};if(r instanceof pt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:EE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ru)return function(s,a){return{mapValue:{fields:{[gE]:{stringValue:mE},[Cs]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.gc("VectorValues must only contain numeric values.");return IE(a.serializer,l)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${Hf(r)}`)}(t,e)}function xM(t,e){let n={};return NN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oi(t,(r,i)=>{let o=uu(i,e.Ac(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function kM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof nu||t instanceof eu||t instanceof pt||t instanceof tu||t instanceof ru)}function xE(t,e,n){if(!kM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Hf(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function iE(t,e,n){if((e=Ae(e))instanceof Ls)return e._internalPath;if(typeof e=="string")return kE(t,e);throw Mf("Field path arguments must be of type string or ",t,!1,void 0,n)}var Cq=new RegExp("[~\\*/\\[\\]]");function kE(t,e,n){if(e.search(Cq)>=0)throw Mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ls(...e.split("."))._internalPath}catch{throw Mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mf(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new L(M.INVALID_ARGUMENT,a+t+u)}function OM(t,e){return t.some(n=>n.isEqual(e))}var Pf=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new oE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(OE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},oE=class extends Pf{data(){return super.data()}};function OE(t,e){return typeof e=="string"?kE(t,e):e instanceof Ls?e._internalPath:e._delegate._internalPath}function LM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var iu=class{},ou=class extends iu{};function TX(t,e,...n){let r=[];e instanceof iu&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof aE).length,a=o.filter(u=>u instanceof sE).length;if(s>1||s>0&&a>0)throw new L(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var sE=class t extends ou{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return FM(e._query,n),new vr(e.firestore,e.converter,Q_(e._query,n))}_parse(e){let n=qf(e.firestore);return function(o,s,a,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){fN(p,h);let w=[];for(let A of p)w.push(hN(u,o,A));g={arrayValue:{values:w}}}else g=hN(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||fN(p,h),g=bq(a,s,p,h==="in"||h==="not-in");return He.create(l,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var aE=class t extends iu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:dn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)FM(s,u),s=Q_(s,u)}(e._query,n),new vr(e.firestore,e.converter,Q_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var cE=class t extends ou{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new L(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zi(o,s)}(e._query,this._field,this._direction);return new vr(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new ni(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function DX(t,e="asc"){let n=e,r=OE("orderBy",t);return cE._create(r,n)}var uE=class t extends ou{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new vr(e.firestore,e.converter,cf(e._query,this._limit,this._limitType))}};function bX(t){return vq("limit",t),uE._create("limit",t,"F")}function hN(t,e,n){if(typeof(n=Ae(n))=="string"){if(n==="")throw new L(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zN(e)&&n.indexOf("/")!==-1)throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Re.fromString(n));if(!z.isDocumentKey(r))throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return MR(t,new z(r))}if(n instanceof pt)return MR(t,n._key);throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hf(n)}.`)}function fN(t,e){if(!Array.isArray(t)||t.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FM(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var lE=class{convertValue(e,n="none"){switch(ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return oi(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Cs].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ce(s.doubleValue));return new ru(o)}convertGeoPoint(e){return new nu(Ce(e.latitude),Ce(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Lf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qc(e));default:return null}}convertTimestamp(e){let n=pr(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Re.fromString(e);ve(lM(r),9688,{name:e});let i=new sf(r.get(1),r.get(3)),o=new z(r.popFirst(5));return i.isEqual(n)||fr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function VM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ki=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},xf=class extends Pf{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ts(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(OE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ts=class extends xf{data(e={}){return super.data(e)}},kf=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ki(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ts(this._firestore,this._userDataWriter,r.key,r,new Ki(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Ts(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ki(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Ts(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ki(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Sq(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Sq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q(61501,{type:t})}}function CX(t){t=xt(t,pt);let e=xt(t.firestore,hn);return gq(zf(e),t._key).then(n=>jM(e,t,n))}var su=class extends lE{constructor(e){super(),this.firestore=e}convertBytes(e){return new eu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}};function SX(t){t=xt(t,vr);let e=xt(t.firestore,hn),n=zf(e),r=new su(e);return LM(t._query),mq(n,t._query).then(i=>new kf(e,r,t,i))}function AX(t,e,n){t=xt(t,pt);let r=xt(t.firestore,hn),i=VM(t.converter,e,n);return Wf(r,[PM(qf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Pn.none())])}function RX(t,e,n,...r){t=xt(t,pt);let i=xt(t.firestore,hn),o=qf(i),s;return s=typeof(e=Ae(e))=="string"||e instanceof Ls?Dq(o,"updateDoc",t._key,e,n,r):Tq(o,"updateDoc",t._key,e),Wf(i,[s.toMutation(t._key,Pn.exists(!0))])}function NX(t){return Wf(xt(t.firestore,hn),[new Gc(t._key,Pn.none())])}function MX(t,e){let n=xt(t.firestore,hn),r=Iq(t),i=VM(t.converter,e);return Wf(n,[PM(qf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Pn.exists(!1))]).then(()=>r)}function PX(t,...e){var n,r,i;t=Ae(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||dN(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(dN(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof pt)l=xt(t.firestore,hn),h=Ff(t._key.path),u={next:p=>{e[s]&&e[s](jM(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=xt(t,vr);l=xt(p.firestore,hn),h=p._query;let g=new su(l);u={next:m=>{e[s]&&e[s](new kf(l,g,p,m))},error:e[s+1],complete:e[s+2]},LM(t._query)}return function(g,m,w,A){let R=new Xc(A),k=new Jc(m,R,w);return g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return AE(yield Cf(g),k)})),()=>{R.xu(),g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return RE(yield Cf(g),k)}))}}(zf(l),h,a,u)}function Wf(t,e){return function(r,i){let o=new un;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return iq(yield pq(r),i,o)})),o.promise}(zf(t),e)}function jM(t,e,n){let r=n.docs.get(e._key),i=new su(t);return new xf(t,i,e._key,r,new Ki(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Fs=i})(Qr),sn(new wt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new hn(new R_(r.getProvider("auth-internal")),new P_(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sf(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ue(ER,wR,e),Ue(ER,wR,"esm2017")})();var FX={production:!1,firebaseConfig:{apiKey:"AIzaSyDikPuo8FKl3QnBbuxB39HCexZhTbli4oo",authDomain:"finanzas-dashboard-9a0e6.firebaseapp.com",projectId:"finanzas-dashboard-9a0e6",storageBucket:"finanzas-dashboard-9a0e6.firebasestorage.app",messagingSenderId:"1044784431774",appId:"1:1044784431774:web:7ecab65cb4aa53d302718f"}};export{ne as a,We as b,LP as c,Se as d,se as e,JP as f,V as g,cD as h,H as i,Lo as j,B as k,x as l,Or as m,Wn as n,Ma as o,hG as p,fG as q,Lm as r,Et as s,St as t,_e as u,pG as v,hb as w,Fr as x,fb as y,Mi as z,nO as A,gG as B,ld as C,xe as D,TG as E,hC as F,zo as G,jr as H,_L as I,RL as J,Fa as K,uy as L,ZL as M,JL as N,XL as O,CG as P,SG as Q,AG as R,RG as S,NG as T,NC as U,MC as V,ly as W,pF as X,gF as Y,MG as Z,dy as _,PG as $,xG as aa,kG as ba,OG as ca,LG as da,FG as ea,VG as fa,AF as ga,PC as ha,RF as ia,NF as ja,jG as ka,UG as la,BG as ma,$G as na,HG as oa,zG as pa,qG as qa,WG as ra,GG as sa,KG as ta,hy as ua,QG as va,HC as wa,XF as xa,zC as ya,Jn as za,_V as Aa,pS as Ba,IV as Ca,TV as Da,yS as Ea,DV as Fa,VV as Ga,f2 as Ha,p2 as Ia,Jy as Ja,vc as Ka,M0 as La,zj as Ma,Dv as Na,Ue as Oa,ps as Pa,a_ as Qa,Bh as Ra,gs as Sa,zi as Ta,qi as Ua,xc as Va,fJ as Wa,pJ as Xa,Hh as Ya,zB as Za,WA as _a,GA as $a,KA as ab,rR as bb,Lc as cb,g_ as db,JJ as eb,XJ as fb,eX as gb,tX as hb,EX as ib,Iq as jb,wX as kb,TX as lb,DX as mb,bX as nb,CX as ob,SX as pb,AX as qb,RX as rb,NX as sb,MX as tb,PX as ub,FX as vb};
