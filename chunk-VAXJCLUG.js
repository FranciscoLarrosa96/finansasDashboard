var rM=Object.create;var zf=Object.defineProperty,iM=Object.defineProperties,oM=Object.getOwnPropertyDescriptor,sM=Object.getOwnPropertyDescriptors,aM=Object.getOwnPropertyNames,jI=Object.getOwnPropertySymbols,BI=Object.getPrototypeOf,$I=Object.prototype.hasOwnProperty,cM=Object.prototype.propertyIsEnumerable,uM=Reflect.get;var UI=(t,e,n)=>e in t?zf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,L=(t,e)=>{for(var n in e||={})$I.call(e,n)&&UI(t,n,e[n]);if(jI)for(var n of jI(e))cM.call(e,n)&&UI(t,n,e[n]);return t},ge=(t,e)=>iM(t,sM(e));var W4=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var lM=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of aM(e))!$I.call(t,i)&&i!==n&&zf(t,i,{get:()=>e[i],enumerable:!(r=oM(e,i))||r.enumerable});return t};var G4=(t,e,n)=>(n=t!=null?rM(BI(t)):{},lM(e||!t||!t.__esModule?zf(n,"default",{value:t,enumerable:!0}):n,t));var yr=(t,e,n)=>uM(BI(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});function Kf(t,e){return Object.is(t,e)}var Be=null,cu=!1,Qf=1,Kt=Symbol("SIGNAL");function ae(t){let e=Be;return Be=t,e}function Yf(){return Be}var Ji={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ys(t){if(cu)throw new Error("");if(Be===null)return;Be.consumerOnSignalRead(t);let e=Be.nextProducerIndex++;if(fu(Be),e<Be.producerNode.length&&Be.producerNode[e]!==t&&Qs(Be)){let n=Be.producerNode[e];hu(n,Be.producerIndexOfThis[e])}Be.producerNode[e]!==t&&(Be.producerNode[e]=t,Be.producerIndexOfThis[e]=Qs(Be)?zI(t,Be,e):0),Be.producerLastReadVersion[e]=t.version}function HI(){Qf++}function Zf(t){if(!(Qs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Qf)){if(!t.producerMustRecompute(t)&&!du(t)){Gf(t);return}t.producerRecomputeValue(t),Gf(t)}}function Jf(t){if(t.liveConsumerNode===void 0)return;let e=cu;cu=!0;try{for(let n of t.liveConsumerNode)n.dirty||dM(n)}finally{cu=e}}function Xf(){return Be?.consumerAllowSignalWrites!==!1}function dM(t){t.dirty=!0,Jf(t),t.consumerMarkedDirty?.(t)}function Gf(t){t.dirty=!1,t.lastCleanEpoch=Qf}function Zs(t){return t&&(t.nextProducerIndex=0),ae(t)}function lu(t,e){if(ae(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Qs(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)hu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function du(t){fu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Zf(n),r!==n.version))return!0}return!1}function Js(t){if(fu(t),Qs(t))for(let e=0;e<t.producerNode.length;e++)hu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function zI(t,e,n){if(qI(t),t.liveConsumerNode.length===0&&WI(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=zI(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function hu(t,e){if(qI(t),t.liveConsumerNode.length===1&&WI(t))for(let r=0;r<t.producerNode.length;r++)hu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];fu(i),i.producerIndexOfThis[r]=e}}function Qs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function fu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function qI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function WI(t){return t.producerNode!==void 0}function ep(t,e){let n=Object.create(hM);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Zf(n),Ys(n),n.value===uu)throw n.error;return n.value};return r[Kt]=n,r}var qf=Symbol("UNSET"),Wf=Symbol("COMPUTING"),uu=Symbol("ERRORED"),hM=ge(L({},Ji),{value:qf,dirty:!0,error:null,equal:Kf,kind:"computed",producerMustRecompute(t){return t.value===qf||t.value===Wf},producerRecomputeValue(t){if(t.value===Wf)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Wf;let n=Zs(t),r,i=!1;try{r=t.computation(),ae(null),i=e!==qf&&e!==uu&&r!==uu&&t.equal(e,r)}catch(o){r=uu,t.error=o}finally{lu(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function fM(){throw new Error}var GI=fM;function KI(t){GI(t)}function tp(t){GI=t}var pM=null;function np(t,e){let n=Object.create(pu);n.value=t,e!==void 0&&(n.equal=e);let r=()=>(Ys(n),n.value);return r[Kt]=n,r}function Xs(t,e){Xf()||KI(t),t.equal(t.value,e)||(t.value=e,gM(t))}function rp(t,e){Xf()||KI(t),Xs(t,e(t.value))}var pu=ge(L({},Ji),{equal:Kf,value:void 0,kind:"signal"});function gM(t){t.version++,HI(),Jf(t),pM?.()}function ip(t){let e=ae(null);try{return t()}finally{ae(e)}}var op;function ea(){return op}function kn(t){let e=op;return op=t,e}var gu=Symbol("NotFound");function Y(t){return typeof t=="function"}function Xi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var mu=Xi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Jr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Me=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Y(r))try{r()}catch(o){e=o instanceof mu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{QI(o)}catch(s){e=e??[],s instanceof mu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new mu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)QI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Jr(n,e)}remove(e){let{_finalizers:n}=this;n&&Jr(n,e),e instanceof t&&e._removeParent(this)}};Me.EMPTY=(()=>{let t=new Me;return t.closed=!0,t})();var sp=Me.EMPTY;function yu(t){return t instanceof Me||t&&"closed"in t&&Y(t.remove)&&Y(t.add)&&Y(t.unsubscribe)}function QI(t){Y(t)?t():t.unsubscribe()}var Qt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var eo={setTimeout(t,e,...n){let{delegate:r}=eo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=eo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function vu(t){eo.setTimeout(()=>{let{onUnhandledError:e}=Qt;if(e)e(t);else throw t})}function ta(){}var YI=ap("C",void 0,void 0);function ZI(t){return ap("E",void 0,t)}function JI(t){return ap("N",t,void 0)}function ap(t,e,n){return{kind:t,value:e,error:n}}var Xr=null;function to(t){if(Qt.useDeprecatedSynchronousErrorHandling){let e=!Xr;if(e&&(Xr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Xr;if(Xr=null,n)throw r}}else t()}function XI(t){Qt.useDeprecatedSynchronousErrorHandling&&Xr&&(Xr.errorThrown=!0,Xr.error=t)}var ei=class extends Me{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,yu(e)&&e.add(this)):this.destination=IM}static create(e,n,r){return new no(e,n,r)}next(e){this.isStopped?up(JI(e),this):this._next(e)}error(e){this.isStopped?up(ZI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?up(YI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},_M=Function.prototype.bind;function cp(t,e){return _M.call(t,e)}var lp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){_u(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){_u(r)}else _u(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){_u(n)}}},no=class extends ei{constructor(e,n,r){super();let i;if(Y(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Qt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&cp(e.next,o),error:e.error&&cp(e.error,o),complete:e.complete&&cp(e.complete,o)}):i=e}this.destination=new lp(i)}};function _u(t){Qt.useDeprecatedSynchronousErrorHandling?XI(t):vu(t)}function EM(t){throw t}function up(t,e){let{onStoppedNotification:n}=Qt;n&&eo.setTimeout(()=>n(t,e))}var IM={closed:!0,next:ta,error:EM,complete:ta};var ro=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Rt(t){return t}function dp(...t){return hp(t)}function hp(t){return t.length===0?Rt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ee=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=TM(n)?n:new no(n,r,i);return to(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ew(r),new r((i,o)=>{let s=new no({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ro](){return this}pipe(...n){return hp(n)(this)}toPromise(n){return n=ew(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function ew(t){var e;return(e=t??Qt.Promise)!==null&&e!==void 0?e:Promise}function wM(t){return t&&Y(t.next)&&Y(t.error)&&Y(t.complete)}function TM(t){return t&&t instanceof ei||wM(t)&&yu(t)}function fp(t){return Y(t?.lift)}function he(t){return e=>{if(fp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ce(t,e,n,r,i){return new pp(t,e,n,r,i)}var pp=class extends ei{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function io(){return he((t,e)=>{let n=null;t._refCount++;let r=ce(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var oo=class extends ee{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,fp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Me;let n=this.getSubject();e.add(this.source.subscribe(ce(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Me.EMPTY)}return e}refCount(){return io()(this)}};var tw=Xi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var He=(()=>{class t extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Eu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new tw}next(n){to(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){to(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){to(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?sp:(this.currentObservers=null,o.push(n),new Me(()=>{this.currentObservers=null,Jr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ee;return n.source=this,n}}return t.create=(e,n)=>new Eu(e,n),t})(),Eu=class extends He{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:sp}};var Je=class extends He{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var gp={now(){return(gp.delegate||Date).now()},delegate:void 0};var Iu=class extends Me{constructor(e,n){super()}schedule(e,n=0){return this}};var na={setInterval(t,e,...n){let{delegate:r}=na;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=na;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var so=class extends Iu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return na.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&na.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Jr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ao=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ao.now=gp.now;var co=class extends ao{constructor(e,n=ao.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var mp=new co(so);var wu=class extends so{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Tu=class extends co{};var yp=new Tu(wu);var vt=new ee(t=>t.complete());function nw(t){return t&&Y(t.schedule)}function rw(t){return t[t.length-1]}function Du(t){return Y(rw(t))?t.pop():void 0}function vr(t){return nw(rw(t))?t.pop():void 0}function bu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ow(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function iw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ti(t){return this instanceof ti?(this.v=t,this):new ti(t)}function sw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(T){return Promise.resolve(T).then(y,p)}}function a(y,T){r[y]&&(i[y]=function(R){return new Promise(function(A,O){o.push([y,R,A,O])>1||u(y,R)})},T&&(i[y]=T(i[y])))}function u(y,T){try{l(r[y](T))}catch(R){m(o[0][3],R)}}function l(y){y.value instanceof ti?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,T){y(T),o.shift(),o.length&&u(o[0][0],o[0][1])}}function aw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof iw=="function"?iw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Cu=t=>t&&typeof t.length=="number"&&typeof t!="function";function Su(t){return Y(t?.then)}function Au(t){return Y(t[ro])}function Ru(t){return Symbol.asyncIterator&&Y(t?.[Symbol.asyncIterator])}function Nu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function DM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Mu=DM();function Pu(t){return Y(t?.[Mu])}function xu(t){return sw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ti(n.read());if(i)return yield ti(void 0);yield yield ti(r)}}finally{n.releaseLock()}})}function ku(t){return Y(t?.getReader)}function ke(t){if(t instanceof ee)return t;if(t!=null){if(Au(t))return bM(t);if(Cu(t))return CM(t);if(Su(t))return SM(t);if(Ru(t))return cw(t);if(Pu(t))return AM(t);if(ku(t))return RM(t)}throw Nu(t)}function bM(t){return new ee(e=>{let n=t[ro]();if(Y(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function CM(t){return new ee(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function SM(t){return new ee(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,vu)})}function AM(t){return new ee(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function cw(t){return new ee(e=>{NM(t,e).catch(n=>e.error(n))})}function RM(t){return cw(xu(t))}function NM(t,e){var n,r,i,o;return ow(this,void 0,void 0,function*(){try{for(n=aw(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function _t(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function _r(t,e=0){return he((n,r)=>{n.subscribe(ce(r,i=>_t(r,t,()=>r.next(i),e),()=>_t(r,t,()=>r.complete(),e),i=>_t(r,t,()=>r.error(i),e)))})}function Er(t,e=0){return he((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function uw(t,e){return ke(t).pipe(Er(e),_r(e))}function lw(t,e){return ke(t).pipe(Er(e),_r(e))}function dw(t,e){return new ee(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function hw(t,e){return new ee(n=>{let r;return _t(n,e,()=>{r=t[Mu](),_t(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Y(r?.return)&&r.return()})}function Ou(t,e){if(!t)throw new Error("Iterable cannot be null");return new ee(n=>{_t(n,e,()=>{let r=t[Symbol.asyncIterator]();_t(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function fw(t,e){return Ou(xu(t),e)}function pw(t,e){if(t!=null){if(Au(t))return uw(t,e);if(Cu(t))return dw(t,e);if(Su(t))return lw(t,e);if(Ru(t))return Ou(t,e);if(Pu(t))return hw(t,e);if(ku(t))return fw(t,e)}throw Nu(t)}function Se(t,e){return e?pw(t,e):ke(t)}function G(...t){let e=vr(t);return Se(t,e)}function uo(t,e){let n=Y(t)?t:()=>t,r=i=>i.error(n());return new ee(e?i=>e.schedule(r,0,i):r)}function vp(t){return!!t&&(t instanceof ee||Y(t.lift)&&Y(t.subscribe))}var On=Xi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ne(t,e){return he((n,r)=>{let i=0;n.subscribe(ce(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:MM}=Array;function PM(t,e){return MM(e)?t(...e):t(e)}function Lu(t){return ne(e=>PM(t,e))}var{isArray:xM}=Array,{getPrototypeOf:kM,prototype:OM,keys:LM}=Object;function Fu(t){if(t.length===1){let e=t[0];if(xM(e))return{args:e,keys:null};if(FM(e)){let n=LM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function FM(t){return t&&typeof t=="object"&&kM(t)===OM}function Vu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ju(...t){let e=vr(t),n=Du(t),{args:r,keys:i}=Fu(t);if(r.length===0)return Se([],e);let o=new ee(VM(r,e,i?s=>Vu(i,s):Rt));return n?o.pipe(Lu(n)):o}function VM(t,e,n=Rt){return r=>{gw(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)gw(e,()=>{let l=Se(t[u],e),h=!1;l.subscribe(ce(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function gw(t,e,n){t?_t(n,t,e):e()}function mw(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=R=>l<r?T(R):u.push(R),T=R=>{o&&e.next(R),l++;let A=!1;ke(n(R,h++)).subscribe(ce(e,O=>{i?.(O),o?y(O):e.next(O)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;u.length&&l<r;){let O=u.shift();s?_t(e,s,()=>T(O)):T(O)}m()}catch(O){e.error(O)}}))};return t.subscribe(ce(e,y,()=>{p=!0,m()})),()=>{a?.()}}function $e(t,e,n=1/0){return Y(e)?$e((r,i)=>ne((o,s)=>e(r,o,i,s))(ke(t(r,i))),n):(typeof e=="number"&&(n=e),he((r,i)=>mw(r,i,t,n)))}function yw(t=1/0){return $e(Rt,t)}function vw(){return yw(1)}function lo(...t){return vw()(Se(t,vr(t)))}function Uu(t){return new ee(e=>{ke(t()).subscribe(e)})}function jM(...t){let e=Du(t),{args:n,keys:r}=Fu(t),i=new ee(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;ke(n[h]).subscribe(ce(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Vu(r,a):a),o.complete())}))}});return e?i.pipe(Lu(e)):i}function Nt(t,e){return he((n,r)=>{let i=0;n.subscribe(ce(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Ir(t){return he((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ce(n,void 0,void 0,s=>{o=ke(t(s,Ir(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function _w(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(ce(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function wr(t,e){return Y(e)?$e(t,e,1):$e(t,1)}function Tr(t){return he((e,n)=>{let r=!1;e.subscribe(ce(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ln(t){return t<=0?()=>vt:he((e,n)=>{let r=0;e.subscribe(ce(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Bu(t=UM){return he((e,n)=>{let r=!1;e.subscribe(ce(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function UM(){return new On}function ni(t){return he((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Fn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Nt((i,o)=>t(i,o,r)):Rt,Ln(1),n?Tr(e):Bu(()=>new On))}function ho(t){return t<=0?()=>vt:he((e,n)=>{let r=[];e.subscribe(ce(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function _p(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Nt((i,o)=>t(i,o,r)):Rt,ho(1),n?Tr(e):Bu(()=>new On))}function Ep(t,e){return he(_w(t,e,arguments.length>=2,!0))}function Ip(...t){let e=vr(t);return he((n,r)=>{(e?lo(t,n,e):lo(t,n)).subscribe(r)})}function Mt(t,e){return he((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ce(r,u=>{i?.unsubscribe();let l=0,h=o++;ke(t(u,h)).subscribe(i=ce(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function wp(t){return he((e,n)=>{ke(t).subscribe(ce(n,()=>n.complete(),ta)),!n.closed&&e.subscribe(n)})}function Xe(t,e,n){let r=Y(t)||e||n?{next:t,error:e,complete:n}:t;return r?he((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ce(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Rt}var iT="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",j=class extends Error{code;constructor(e,n){super($M(e,n)),this.code=e}};function BM(t){return`NG0${Math.abs(t)}`}function $M(t,e){return`${BM(t)}${e?": "+e:""}`}var oT=Symbol("InputSignalNode#UNSET"),HM=ge(L({},pu),{transformFn:void 0,applyValueToInputSignal(t,e){Xs(t,e)}});function sT(t,e){let n=Object.create(HM);n.value=t,n.transformFn=e?.transform;function r(){if(Ys(n),n.value===oT){let i=null;throw new j(-950,i)}return n.value}return r[Kt]=n,r}function ga(t){return{toString:t}.toString()}var $u="__parameters__";function zM(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function qM(t,e,n){return ga(()=>{let r=zM(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty($u)?u[$u]:Object.defineProperty(u,$u,{value:[]})[$u];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ii=globalThis;function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function WM(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function wt(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(wt).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Ew(t,e){return t?e?`${t} ${e}`:t:e||""}var GM=we({__forward_ref__:we});function aT(t){return t.__forward_ref__=aT,t.toString=function(){return wt(this())},t}function ft(t){return cT(t)?t():t}function cT(t){return typeof t=="function"&&t.hasOwnProperty(GM)&&t.__forward_ref__===aT}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ao(t){return{providers:t.providers||[],imports:t.imports||[]}}function Il(t){return Iw(t,lT)||Iw(t,dT)}function uT(t){return Il(t)!==null}function Iw(t,e){return t.hasOwnProperty(e)?t[e]:null}function KM(t){let e=t&&(t[lT]||t[dT]);return e||null}function ww(t){return t&&(t.hasOwnProperty(Tw)||t.hasOwnProperty(QM))?t[Tw]:null}var lT=we({\u0275prov:we}),Tw=we({\u0275inj:we}),dT=we({ngInjectableDef:we}),QM=we({ngInjectorDef:we}),B=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function hT(t){return t&&!!t.\u0275providers}var YM=we({\u0275cmp:we}),ZM=we({\u0275dir:we}),JM=we({\u0275pipe:we}),XM=we({\u0275mod:we}),Yu=we({\u0275fac:we}),sa=we({__NG_ELEMENT_ID__:we}),Dw=we({__NG_ENV_ID__:we});function yo(t){return typeof t=="string"?t:t==null?"":String(t)}function eP(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():yo(t)}function fT(t,e){throw new j(-200,t)}function Ig(t,e){throw new j(-201,!1)}var te=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(te||{}),Vp;function pT(){return Vp}function Et(t){let e=Vp;return Vp=t,e}function gT(t,e,n){let r=Il(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&te.Optional)return null;if(e!==void 0)return e;Ig(t,"Injector")}var tP={},oi=tP,jp="__NG_DI_FLAG__",Zu=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?gu:oi,r)}},Ju="ngTempTokenPath",nP="ngTokenPath",rP=/\n/gm,iP="\u0275",bw="__source";function oP(t,e=te.Default){if(ea()===void 0)throw new j(-203,!1);if(ea()===null)return gT(t,void 0,e);{let n=ea(),r;return n instanceof Zu?r=n.injector:r=n,r.get(t,e&te.Optional?null:void 0,e)}}function K(t,e=te.Default){return(pT()||oP)(ft(t),e)}function x(t,e=te.Default){return K(t,wl(e))}function wl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Up(t){let e=[];for(let n=0;n<t.length;n++){let r=ft(t[n]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,o=te.Default;for(let s=0;s<r.length;s++){let a=r[s],u=aP(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(K(i,o))}else e.push(K(r))}return e}function sP(t,e){return t[jp]=e,t.prototype[jp]=e,t}function aP(t){return t[jp]}function cP(t,e,n,r){let i=t[Ju];throw e[bw]&&i.unshift(e[bw]),t.message=uP(`
`+t.message,i,n,r),t[nP]=i,t[Ju]=null,t}function uP(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==iP?t.slice(2):t;let i=wt(e);if(Array.isArray(e))i=e.map(wt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):wt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(rP,`
  `)}`}var vi=sP(qM("Optional"),8);function ai(t,e){let n=t.hasOwnProperty(Yu);return n?t[Yu]:null}function wg(t,e){t.forEach(n=>Array.isArray(n)?wg(n,e):e(n))}function mT(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Xu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function lP(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function dP(t,e,n){let r=ma(t,e);return r>=0?t[r|1]=n:(r=~r,lP(t,r,e,n)),r}function Tp(t,e){let n=ma(t,e);if(n>=0)return t[n|1]}function ma(t,e){return hP(t,e,1)}function hP(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var ci={},Ft=[],aa=new B(""),yT=new B("",-1),vT=new B(""),el=class{get(e,n=oi){if(n===oi){let r=new Error(`NullInjectorError: No provider for ${wt(e)}!`);throw r.name="NullInjectorError",r}return n}};function _T(t,e){let n=t[XM]||null;if(!n&&e===!0)throw new Error(`Type ${wt(t)} does not have '\u0275mod' property.`);return n}function vo(t){return t[YM]||null}function fP(t){return t[ZM]||null}function pP(t){return t[JM]||null}function Bn(t){return{\u0275providers:t}}function gP(...t){return{\u0275providers:ET(!0,t),\u0275fromNgModule:!0}}function ET(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return wg(e,s=>{let a=s;Bp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&IT(i,o),n}function IT(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Tg(i,o=>{e(o,r)})}}function Bp(t,e,n,r){if(t=ft(t),!t)return!1;let i=null,o=ww(t),s=!o&&vo(t);if(!o&&!s){let u=t.ngModule;if(o=ww(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Bp(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{wg(o.imports,h=>{Bp(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&IT(l,e)}if(!a){let l=ai(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ft},i),e({provide:vT,useValue:i,multi:!0},i),e({provide:aa,useValue:()=>K(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Tg(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Tg(t,e){for(let n of t)hT(n)&&(n=n.\u0275providers),Array.isArray(n)?Tg(n,e):e(n)}var mP=we({provide:String,useValue:we});function wT(t){return t!==null&&typeof t=="object"&&mP in t}function yP(t){return!!(t&&t.useExisting)}function vP(t){return!!(t&&t.useFactory)}function _o(t){return typeof t=="function"}function _P(t){return!!t.useClass}var Tl=new B(""),qu={},Cw={},Dp;function Dg(){return Dp===void 0&&(Dp=new el),Dp}var et=class{},ca=class extends et{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Hp(e,s=>this.processProvider(s)),this.records.set(yT,fo(void 0,this)),i.has("environment")&&this.records.set(et,fo(void 0,this));let o=this.records.get(Tl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(vT,Ft,te.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?gu:oi,r)}destroy(){ia(this),this._destroyed=!0;let e=ae(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ae(e)}}onDestroy(e){return ia(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ia(this);let n=kn(this),r=Et(void 0),i;try{return e()}finally{kn(n),Et(r)}}get(e,n=oi,r=te.Default){if(ia(this),e.hasOwnProperty(Dw))return e[Dw](this);r=wl(r);let i,o=kn(this),s=Et(void 0);try{if(!(r&te.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=DP(e)&&Il(e);l&&this.injectableDefInScope(l)?u=fo($p(e),qu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,r)}let a=r&te.Self?Dg():this.parent;return n=r&te.Optional&&n===oi?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ju]=a[Ju]||[]).unshift(wt(e)),o)throw a;return cP(a,e,"R3InjectorError",this.source)}else throw a}finally{Et(s),kn(o)}}resolveInjectorInitializers(){let e=ae(null),n=kn(this),r=Et(void 0),i;try{let o=this.get(aa,Ft,te.Self);for(let s of o)s()}finally{kn(n),Et(r),ae(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(wt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=ft(e);let n=_o(e)?e:ft(e&&e.provide),r=IP(e);if(!_o(e)&&e.multi===!0){let i=this.records.get(n);i||(i=fo(void 0,qu,!0),i.factory=()=>Up(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=ae(null);try{return n.value===Cw?fT(wt(e)):n.value===qu&&(n.value=Cw,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&TP(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ae(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ft(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function $p(t){let e=Il(t),n=e!==null?e.factory:ai(t);if(n!==null)return n;if(t instanceof B)throw new j(204,!1);if(t instanceof Function)return EP(t);throw new j(204,!1)}function EP(t){if(t.length>0)throw new j(204,!1);let n=KM(t);return n!==null?()=>n.factory(t):()=>new t}function IP(t){if(wT(t))return fo(void 0,t.useValue);{let e=TT(t);return fo(e,qu)}}function TT(t,e,n){let r;if(_o(t)){let i=ft(t);return ai(i)||$p(i)}else if(wT(t))r=()=>ft(t.useValue);else if(vP(t))r=()=>t.useFactory(...Up(t.deps||[]));else if(yP(t))r=(i,o)=>K(ft(t.useExisting),o!==void 0&&o&te.Optional?te.Optional:void 0);else{let i=ft(t&&(t.useClass||t.provide));if(wP(t))r=()=>new i(...Up(t.deps));else return ai(i)||$p(i)}return r}function ia(t){if(t.destroyed)throw new j(205,!1)}function fo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function wP(t){return!!t.deps}function TP(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function DP(t){return typeof t=="function"||typeof t=="object"&&t instanceof B}function Hp(t,e){for(let n of t)Array.isArray(n)?Hp(n,e):n&&hT(n)?Hp(n.\u0275providers,e):e(n)}function tt(t,e){let n;t instanceof ca?(ia(t),n=t):n=new Zu(t);let r,i=kn(n),o=Et(void 0);try{return e()}finally{kn(i),Et(o)}}function DT(){return pT()!==void 0||ea()!=null}function bg(t){if(!DT())throw new j(-203,!1)}function bP(t){return typeof t=="function"}var $n=0,le=1,Z=2,pt=3,Zt=4,Jt=5,tl=6,nl=7,Tt=8,Eo=9,Vn=10,ze=11,ua=12,Sw=13,Ro=14,un=15,Io=16,po=17,wo=18,Dl=19,bT=20,Dr=21,bp=22,ui=23,Vt=24,Cp=25,Ut=26,CT=1;var li=7,rl=8,il=9,jt=10;function br(t){return Array.isArray(t)&&typeof t[CT]=="object"}function Hn(t){return Array.isArray(t)&&t[CT]===!0}function Cg(t){return(t.flags&4)!==0}function No(t){return t.componentOffset>-1}function bl(t){return(t.flags&1)===1}function ln(t){return!!t.template}function ol(t){return(t[Z]&512)!==0}function Mo(t){return(t[Z]&256)===256}var zp=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function ST(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var ya=(()=>{let t=()=>AT;return t.ngInherit=!0,t})();function AT(t){return t.type.prototype.ngOnChanges&&(t.setInput=SP),CP}function CP(){let t=NT(this),e=t?.current;if(e){let n=t.previous;if(n===ci)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function SP(t,e,n,r,i){let o=this.declaredInputs[r],s=NT(t)||AP(t,{previous:ci,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new zp(l&&l.currentValue,n,u===ci),ST(t,e,i,n)}var RT="__ngSimpleChanges__";function NT(t){return t[RT]||null}function AP(t,e){return t[RT]=e}var Aw=null;var Te=function(t,e=null,n){Aw?.(t,e,n)},RP="svg",NP="math";function dn(t){for(;Array.isArray(t);)t=t[$n];return t}function MT(t,e){return dn(e[t])}function pn(t,e){return dn(e[t.index])}function PT(t,e){return t.data[e]}function MP(t,e){return t[e]}function PP(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function hn(t,e){let n=e[t];return br(n)?n:n[$n]}function Sg(t){return(t[Z]&128)===128}function xP(t){return Hn(t[pt])}function To(t,e){return e==null?null:t[e]}function xT(t){t[po]=0}function kT(t){t[Z]&1024||(t[Z]|=1024,Sg(t)&&va(t))}function kP(t,e){for(;t>0;)e=e[Ro],t--;return e}function Cl(t){return!!(t[Z]&9216||t[Vt]?.dirty)}function qp(t){t[Vn].changeDetectionScheduler?.notify(8),t[Z]&64&&(t[Z]|=1024),Cl(t)&&va(t)}function va(t){t[Vn].changeDetectionScheduler?.notify(0);let e=di(t);for(;e!==null&&!(e[Z]&8192||(e[Z]|=8192,!Sg(e)));)e=di(e)}function OT(t,e){if(Mo(t))throw new j(911,!1);t[Dr]===null&&(t[Dr]=[]),t[Dr].push(e)}function OP(t,e){if(t[Dr]===null)return;let n=t[Dr].indexOf(e);n!==-1&&t[Dr].splice(n,1)}function di(t){let e=t[pt];return Hn(e)?e[pt]:e}function LT(t){return t[nl]??=[]}function FT(t){return t.cleanup??=[]}var ie={lFrame:qT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Wp=!1;function LP(){return ie.lFrame.elementDepthCount}function FP(){ie.lFrame.elementDepthCount++}function VP(){ie.lFrame.elementDepthCount--}function Ag(){return ie.bindingsEnabled}function jP(){return ie.skipHydrationRootTNode!==null}function UP(t){return ie.skipHydrationRootTNode===t}function BP(){ie.skipHydrationRootTNode=null}function ve(){return ie.lFrame.lView}function Dt(){return ie.lFrame.tView}function E5(t){return ie.lFrame.contextLView=t,t[Tt]}function I5(t){return ie.lFrame.contextLView=null,t}function bt(){let t=VT();for(;t!==null&&t.type===64;)t=t.parent;return t}function VT(){return ie.lFrame.currentTNode}function $P(){let t=ie.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function _i(t,e){let n=ie.lFrame;n.currentTNode=t,n.isParent=e}function Rg(){return ie.lFrame.isParent}function jT(){ie.lFrame.isParent=!1}function UT(){return Wp}function sl(t){let e=Wp;return Wp=t,e}function Ng(){let t=ie.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function HP(){return ie.lFrame.bindingIndex}function zP(t){return ie.lFrame.bindingIndex=t}function Mg(){return ie.lFrame.bindingIndex++}function BT(t){let e=ie.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function qP(){return ie.lFrame.inI18n}function WP(t,e){let n=ie.lFrame;n.bindingIndex=n.bindingRootIndex=t,Gp(e)}function GP(){return ie.lFrame.currentDirectiveIndex}function Gp(t){ie.lFrame.currentDirectiveIndex=t}function KP(t){let e=ie.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function $T(t){ie.lFrame.currentQueryIndex=t}function QP(t){let e=t[le];return e.type===2?e.declTNode:e.type===1?t[Jt]:null}function HT(t,e,n){if(n&te.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&te.Host);)if(i=QP(o),i===null||(o=o[Ro],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ie.lFrame=zT();return r.currentTNode=e,r.lView=t,!0}function Pg(t){let e=zT(),n=t[le];ie.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function zT(){let t=ie.lFrame,e=t===null?null:t.child;return e===null?qT(t):e}function qT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function WT(){let t=ie.lFrame;return ie.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var GT=WT;function xg(){let t=WT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function YP(t){return(ie.lFrame.contextLView=kP(t,ie.lFrame.contextLView))[Tt]}function Ei(){return ie.lFrame.selectedIndex}function hi(t){ie.lFrame.selectedIndex=t}function KT(){let t=ie.lFrame;return PT(t.tView,t.selectedIndex)}function ZP(){return ie.lFrame.currentNamespace}var QT=!0;function Sl(){return QT}function Al(t){QT=t}function JP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=AT(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function kg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Wu(t,e,n){YT(t,e,3,n)}function Gu(t,e,n,r){(t[Z]&3)===n&&YT(t,e,n,r)}function Sp(t,e){let n=t[Z];(n&3)===e&&(n&=16383,n+=1,t[Z]=n)}function YT(t,e,n,r){let i=r!==void 0?t[po]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[po]+=65536),(a<o||o==-1)&&(XP(t,n,e,u),t[po]=(t[po]&4294901760)+u+2),u++}function Rw(t,e){Te(4,t,e);let n=ae(null);try{e.call(t)}finally{ae(n),Te(5,t,e)}}function XP(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Z]>>14<t[po]>>16&&(t[Z]&3)===e&&(t[Z]+=16384,Rw(a,o)):Rw(a,o)}var mo=-1,fi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function ex(t){return(t.flags&8)!==0}function tx(t){return(t.flags&16)!==0}function nx(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];rx(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function ZT(t){return t===3||t===4||t===6}function rx(t){return t.charCodeAt(0)===64}function Do(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Nw(t,n,i,null,e[++r]):Nw(t,n,i,null,null))}}return t}function Nw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function JT(t){return t!==mo}function al(t){return t&32767}function ix(t){return t>>16}function cl(t,e){let n=ix(t),r=e;for(;n>0;)r=r[Ro],n--;return r}var Kp=!0;function ul(t){let e=Kp;return Kp=t,e}var ox=256,XT=ox-1,eD=5,sx=0,cn={};function ax(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(sa)&&(r=n[sa]),r==null&&(r=n[sa]=sx++);let i=r&XT,o=1<<i;e.data[t+(i>>eD)]|=o}function ll(t,e){let n=tD(t,e);if(n!==-1)return n;let r=e[le];r.firstCreatePass&&(t.injectorIndex=e.length,Ap(r.data,t),Ap(e,null),Ap(r.blueprint,null));let i=Og(t,e),o=t.injectorIndex;if(JT(i)){let s=al(i),a=cl(i,e),u=a[le].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Ap(t,e){t.push(0,0,0,0,0,0,0,0,e)}function tD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Og(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=sD(i),r===null)return mo;if(n++,i=i[Ro],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return mo}function Qp(t,e,n){ax(t,e,n)}function cx(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(ZT(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function nD(t,e,n){if(n&te.Optional||t!==void 0)return t;Ig(e,"NodeInjector")}function rD(t,e,n,r){if(n&te.Optional&&r===void 0&&(r=null),(n&(te.Self|te.Host))===0){let i=t[Eo],o=Et(void 0);try{return i?i.get(e,r,n&te.Optional):gT(e,r,n&te.Optional)}finally{Et(o)}}return nD(r,e,n)}function iD(t,e,n,r=te.Default,i){if(t!==null){if(e[Z]&2048&&!(r&te.Self)){let s=fx(t,e,n,r,cn);if(s!==cn)return s}let o=oD(t,e,n,r,cn);if(o!==cn)return o}return rD(e,n,r,i)}function oD(t,e,n,r,i){let o=dx(n);if(typeof o=="function"){if(!HT(e,t,r))return r&te.Host?nD(i,n,r):rD(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&te.Optional))Ig(n);else return s}finally{GT()}}else if(typeof o=="number"){let s=null,a=tD(t,e),u=mo,l=r&te.Host?e[un][Jt]:null;for((a===-1||r&te.SkipSelf)&&(u=a===-1?Og(t,e):e[a+8],u===mo||!Pw(r,!1)?a=-1:(s=e[le],a=al(u),e=cl(u,e)));a!==-1;){let h=e[le];if(Mw(o,a,h.data)){let p=ux(a,e,n,s,r,l);if(p!==cn)return p}u=e[a+8],u!==mo&&Pw(r,e[le].data[a+8]===l)&&Mw(o,a,e)?(s=h,a=al(u),e=cl(u,e)):a=-1}}return i}function ux(t,e,n,r,i,o){let s=e[le],a=s.data[t+8],u=r==null?No(a)&&Kp:r!=s&&(a.type&3)!==0,l=i&te.Host&&o===a,h=lx(a,s,n,u,l);return h!==null?dl(e,s,h,a,i):cn}function lx(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let T=s[y];if(y<u&&n===T||y>=u&&T.type===n)return y}if(i){let y=s[u];if(y&&ln(y)&&y.type===n)return u}return null}function dl(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof fi){let a=o;a.resolving&&fT(eP(s[n]));let u=ul(a.canSeeViewProviders);a.resolving=!0;let l,h=a.injectImpl?Et(a.injectImpl):null,p=HT(t,r,te.Default);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&JP(n,s[n],e)}finally{h!==null&&Et(h),ul(u),a.resolving=!1,GT()}}return o}function dx(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(sa)?t[sa]:void 0;return typeof e=="number"?e>=0?e&XT:hx:e}function Mw(t,e,n){let r=1<<t;return!!(n[e+(t>>eD)]&r)}function Pw(t,e){return!(t&te.Self)&&!(t&te.Host&&e)}var si=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return iD(this._tNode,this._lView,e,wl(r),n)}};function hx(){return new si(bt(),ve())}function Lg(t){return ga(()=>{let e=t.prototype.constructor,n=e[Yu]||Yp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Yu]||Yp(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Yp(t){return cT(t)?()=>{let e=Yp(ft(t));return e&&e()}:ai(t)}function fx(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Z]&2048&&!ol(s);){let a=oD(o,s,n,r|te.Self,cn);if(a!==cn)return a;let u=o.parent;if(!u){let l=s[bT];if(l){let h=l.get(n,cn,r);if(h!==cn)return h}u=sD(s),s=s[Ro]}o=u}return i}function sD(t){let e=t[le],n=e.type;return n===2?e.declTNode:n===1?t[Jt]:null}function Fg(t){return cx(bt(),t)}function xw(t,e=null,n=null,r){let i=aD(t,e,n,r);return i.resolveInjectorInitializers(),i}function aD(t,e=null,n=null,r,i=new Set){let o=[n||Ft,gP(t)];return r=r||(typeof t=="object"?void 0:wt(t)),new ca(o,e||Dg(),r||null,i)}var gt=class t{static THROW_IF_NOT_FOUND=oi;static NULL=new el;static create(e,n){if(Array.isArray(e))return xw({name:""},n,e,"");{let r=e.name??"";return xw({name:r},e.parent,e.providers,r)}}static \u0275prov=$({token:t,providedIn:"any",factory:()=>K(yT)});static __NG_ELEMENT_ID__=-1};var px=new B("");px.__NG_ELEMENT_ID__=t=>{let e=bt();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(t&te.Optional)return null;throw new j(204,!1)};var cD=!1,Cr=(()=>{class t{static __NG_ELEMENT_ID__=gx;static __NG_ENV_ID__=n=>n}return t})(),hl=class extends Cr{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return Mo(n)?(e(),()=>{}):(OT(n,e),()=>OP(n,e))}};function gx(){return new hl(ve())}var pi=class{},Vg=new B("",{providedIn:"root",factory:()=>!1});var uD=new B(""),lD=new B(""),zn=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Je(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})(),Rl=(()=>{class t{internalPendingTasks=x(zn);scheduler=x(pi);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return _(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})(),Zp=class extends He{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,DT()&&(this.destroyRef=x(Cr,{optional:!0})??void 0,this.pendingTasks=x(zn,{optional:!0})??void 0)}emit(e){let n=ae(null);try{super.next(e)}finally{ae(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Me&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},It=Zp;function la(...t){}function dD(t){let e,n;function r(){t=la;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function kw(t){return queueMicrotask(()=>t()),()=>{t=la}}var jg="isAngularZone",fl=jg+"_ID",mx=0,_e=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new It(!1);onMicrotaskEmpty=new It(!1);onStable=new It(!1);onError=new It(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=cD}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,_x(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(jg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,yx,la,la);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},yx={};function Ug(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vx(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){dD(()=>{t.callbackScheduled=!1,Jp(t),t.isCheckStableRunning=!0,Ug(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Jp(t)}function _x(t){let e=()=>{vx(t)},n=mx++;t._inner=t._inner.fork({name:"angular",properties:{[jg]:!0,[fl]:n,[fl+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(Ex(u))return r.invokeTask(o,s,a,u);try{return Ow(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Lw(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return Ow(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Ix(u)&&e(),Lw(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Jp(t),Ug(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Jp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Ow(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Lw(t){t._nesting--,Ug(t)}var Xp=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new It;onMicrotaskEmpty=new It;onStable=new It;onError=new It;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Ex(t){return hD(t,"__ignore_ng_zone__")}function Ix(t){return hD(t,"__scheduler_tick__")}function hD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var jn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},wx=new B("",{providedIn:"root",factory:()=>{let t=x(_e),e=x(jn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function Fw(t,e){return sT(t,e)}function Tx(t){return sT(oT,t)}var fD=(Fw.required=Tx,Fw);function Dx(){return Nl(bt(),ve())}function Nl(t,e){return new _a(pn(t,e))}var _a=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Dx}return t})();function bx(t,e){let n=np(t,e?.equal),r=n[Kt];return n.set=i=>Xs(r,i),n.update=i=>rp(r,i),n.asReadonly=Cx.bind(n),n}function Cx(){let t=this[Kt];if(t.readonlyFn===void 0){let e=()=>this();e[Kt]=t,t.readonlyFn=e}return t.readonlyFn}function pD(t){return(t.flags&128)===128}var gD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(gD||{}),mD=new Map,Sx=0;function Ax(){return Sx++}function Rx(t){mD.set(t[Dl],t)}function eg(t){mD.delete(t[Dl])}var Vw="__ngContext__";function Po(t,e){br(e)?(t[Vw]=e[Dl],Rx(e)):t[Vw]=e}function yD(t){return _D(t[ua])}function vD(t){return _D(t[Zt])}function _D(t){for(;t!==null&&!Hn(t);)t=t[Zt];return t}var tg;function ED(t){tg=t}function Nx(){if(tg!==void 0)return tg;if(typeof document<"u")return document;throw new j(210,!1)}var Bg=new B("",{providedIn:"root",factory:()=>Mx}),Mx="ng",$g=new B(""),Ii=new B("",{providedIn:"platform",factory:()=>"unknown"});var Hg=new B("",{providedIn:"root",factory:()=>Nx().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Px="h",xx="b";var ID=!1,kx=new B("",{providedIn:"root",factory:()=>ID});var wD=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(wD||{}),Ml=new B(""),jw=new Set;function zg(t){jw.has(t)||(jw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var TD=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=Ox}return t})();function Ox(){return new TD(ve(),bt())}var Lx=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})();var Fx=(t,e,n,r)=>{};function Vx(t,e,n,r){Fx(t,e,n,r)}var jx=()=>null;function DD(t,e,n=!1){return jx(t,e,n)}function bD(t,e){let n=t.contentQueries;if(n!==null){let r=ae(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];$T(o),a.contentQueries(2,e[s],s)}}}finally{ae(r)}}}function ng(t,e,n){$T(0);let r=ae(null);try{e(t,n)}finally{ae(r)}}function qg(t,e,n){if(Cg(e)){let r=ae(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{ae(r)}}}var fn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(fn||{});var Hu;function Ux(){if(Hu===void 0&&(Hu=null,ii.trustedTypes))try{Hu=ii.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Hu}function Uw(t){return Ux()?.createScriptURL(t)||t}var pl=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${iT})`}};function Wg(t){return t instanceof pl?t.changingThisBreaksApplicationSecurity:t}function CD(t,e){let n=Bx(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${iT})`)}return n===e}function Bx(t){return t instanceof pl&&t.getTypeName()||null}var $x=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Hx(t){return t=String(t),t.match($x)?t:"unsafe:"+t}var Gg=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Gg||{});function zx(t){let e=AD();return e?e.sanitize(Gg.URL,t)||"":CD(t,"URL")?Wg(t):Hx(yo(t))}function qx(t){let e=AD();if(e)return Uw(e.sanitize(Gg.RESOURCE_URL,t)||"");if(CD(t,"ResourceURL"))return Uw(Wg(t));throw new j(904,!1)}function Wx(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?qx:zx}function SD(t,e,n){return Wx(e,n)(t)}function AD(){let t=ve();return t&&t[Vn].sanitizer}var Gx=/^>|^->|<!--|-->|--!>|<!-$/g,Kx=/(<|>)/g,Qx="\u200B$1\u200B";function Yx(t){return t.replace(Gx,e=>e.replace(Kx,Qx))}function RD(t){return t instanceof Function?t():t}function Zx(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var ND="ng-template";function Jx(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Zx(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Kg(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Kg(t){return t.type===4&&t.value!==ND}function Xx(t,e,n){let r=t.type===4&&!n?ND:t.value;return e===r}function ek(t,e,n){let r=4,i=t.attrs,o=i!==null?rk(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Yt(r)&&!Yt(u))return!1;if(s&&Yt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Xx(t,u,n)||u===""&&e.length===1){if(Yt(r))return!1;s=!0}}else if(r&8){if(i===null||!Jx(t,i,u,n)){if(Yt(r))return!1;s=!0}}else{let l=e[++a],h=tk(u,i,Kg(t),n);if(h===-1){if(Yt(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Yt(r))return!1;s=!0}}}}return Yt(r)||s}function Yt(t){return(t&1)===0}function tk(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return ik(e,t)}function nk(t,e,n=!1){for(let r=0;r<e.length;r++)if(ek(t,e[r],n))return!0;return!1}function rk(t){for(let e=0;e<t.length;e++){let n=t[e];if(ZT(n))return e}return t.length}function ik(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Bw(t,e){return t?":not("+e.trim()+")":e}function ok(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Yt(s)&&(e+=Bw(o,i),i=""),r=s,o=o||!Yt(r);n++}return i!==""&&(e+=Bw(o,i)),e}function sk(t){return t.map(ok).join(",")}function ak(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Yt(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var qn={};function ck(t,e){return t.createText(e)}function uk(t,e,n){t.setValue(e,n)}function lk(t,e){return t.createComment(Yx(e))}function MD(t,e,n){return t.createElement(e,n)}function gl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function PD(t,e,n){t.appendChild(e,n)}function $w(t,e,n,r,i){r!==null?gl(t,e,n,r,i):PD(t,e,n)}function dk(t,e,n){t.removeChild(null,e,n)}function hk(t,e,n){t.setAttribute(e,"style",n)}function fk(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function xD(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&nx(t,e,r),i!==null&&fk(t,e,i),o!==null&&hk(t,e,o)}function Qg(t,e,n,r,i,o,s,a,u,l,h){let p=Ut+r,m=p+i,y=pk(p,m),T=typeof l=="function"?l():l;return y[le]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:T,incompleteFirstPass:!1,ssrId:h}}function pk(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:qn);return n}function gk(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Qg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Yg(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[$n]=i,p[Z]=r|4|128|8|64|1024,(l!==null||t&&t[Z]&2048)&&(p[Z]|=2048),xT(p),p[pt]=p[Ro]=t,p[Tt]=n,p[Vn]=s||t&&t[Vn],p[ze]=a||t&&t[ze],p[Eo]=u||t&&t[Eo]||null,p[Jt]=o,p[Dl]=Ax(),p[tl]=h,p[bT]=l,p[un]=e.type==2?t[un]:p,p}function mk(t,e,n){let r=pn(e,t),i=gk(n),o=t[Vn].rendererFactory,s=Zg(t,Yg(t,i,null,kD(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function kD(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function OD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Zg(t,e){return t[ua]?t[Sw][Zt]=e:t[ua]=e,t[Sw]=e,e}function w5(t=1){LD(Dt(),ve(),Ei()+t,!1)}function LD(t,e,n,r){if(!r)if((e[Z]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Wu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Gu(e,o,0,n)}hi(n)}var Pl=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Pl||{});function rg(t,e,n,r){let i=ae(null);try{let[o,s,a]=t.inputs[n],u=null;(s&Pl.SignalBased)!==0&&(u=e[o][Kt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):ST(e,u,o,r)}finally{ae(i)}}function FD(t,e,n,r,i){let o=Ei(),s=r&2;try{hi(-1),s&&e.length>Ut&&LD(t,e,Ut,!1),Te(s?2:0,i),n(r,i)}finally{hi(o),Te(s?3:1,i)}}function xl(t,e,n){Tk(t,e,n),(n.flags&64)===64&&Dk(t,e,n)}function Jg(t,e,n=pn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function yk(t,e,n,r){let o=r.get(kx,ID)||n===fn.ShadowDom,s=t.selectRootElement(e,o);return vk(s),s}function vk(t){_k(t)}var _k=()=>null;function Ek(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Ik(t,e,n,r,i,o,s,a){if(!a&&em(e,t,n,r,i)){No(e)&&wk(n,e.index);return}if(e.type&3){let u=pn(e,n);r=Ek(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function wk(t,e){let n=hn(e,t);n[Z]&16||(n[Z]|=64)}function Tk(t,e,n){let r=n.directiveStart,i=n.directiveEnd;No(n)&&mk(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||ll(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=dl(e,t,s,n);if(Po(u,e),o!==null&&Ak(e,s-r,u,a,n,o),ln(a)){let l=hn(n.index,e);l[Tt]=dl(e,t,s,n)}}}function Dk(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=GP();try{hi(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Gp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&bk(u,l)}}finally{hi(-1),Gp(s)}}function bk(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Xg(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];nk(e,o.selectors,!1)&&(r??=[],ln(o)?r.unshift(o):r.push(o))}return r}function Ck(t,e,n,r,i,o){let s=pn(t,e);Sk(e[ze],s,o,t.value,n,r,i)}function Sk(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?yo(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function Ak(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];rg(r,n,u,l)}}function Rk(t,e){let n=t[Eo],r=n?n.get(jn,null):null;r&&r.handleError(e)}function em(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];rg(p,n[l],h,i),a=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];rg(h,l,r,i),a=!0}return a}function Nk(t,e){let n=hn(e,t),r=n[le];Mk(r,n);let i=n[$n];i!==null&&n[tl]===null&&(n[tl]=DD(i,n[Eo])),Te(18),tm(r,n,n[Tt]),Te(19,n[Tt])}function Mk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function tm(t,e,n){Pg(e);try{let r=t.viewQuery;r!==null&&ng(1,r,n);let i=t.template;i!==null&&FD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[wo]?.finishViewCreation(t),t.staticContentQueries&&bD(t,e),t.staticViewQueries&&ng(2,t.viewQuery,n);let o=t.components;o!==null&&Pk(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Z]&=-5,xg()}}function Pk(t,e){for(let n=0;n<e.length;n++)Nk(t,e[n])}function xk(t,e,n,r){let i=ae(null);try{let o=e.tView,a=t[Z]&4096?4096:16,u=Yg(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Io]=l;let h=t[wo];return h!==null&&(u[wo]=h.createEmbeddedView(o)),tm(o,u,n),u}finally{ae(i)}}function Hw(t,e){return!e||e.firstChild===null||pD(t)}var kk;function nm(t,e){return kk(t,e)}var Un=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Un||{});function VD(t){return(t.flags&32)===32}function go(t,e,n,r,i){if(r!=null){let o,s=!1;Hn(r)?o=r:br(r)&&(s=!0,r=r[$n]);let a=dn(r);t===0&&n!==null?i==null?PD(e,n,a):gl(e,n,a,i||null,!0):t===1&&n!==null?gl(e,n,a,i||null,!0):t===2?dk(e,a,s):t===3&&e.destroyNode(a),o!=null&&Wk(e,t,o,n,i)}}function Ok(t,e){jD(t,e),e[$n]=null,e[Jt]=null}function Lk(t,e,n,r,i,o){r[$n]=i,r[Jt]=e,Ol(t,r,n,1,i,o)}function jD(t,e){e[Vn].changeDetectionScheduler?.notify(9),Ol(t,e,e[ze],2,null,null)}function Fk(t){let e=t[ua];if(!e)return Rp(t[le],t);for(;e;){let n=null;if(br(e))n=e[ua];else{let r=e[jt];r&&(n=r)}if(!n){for(;e&&!e[Zt]&&e!==t;)br(e)&&Rp(e[le],e),e=e[pt];e===null&&(e=t),br(e)&&Rp(e[le],e),n=e&&e[Zt]}e=n}}function rm(t,e){let n=t[il],r=n.indexOf(e);n.splice(r,1)}function UD(t,e){if(Mo(e))return;let n=e[ze];n.destroyNode&&Ol(t,e,n,3,null,null),Fk(e)}function Rp(t,e){if(Mo(e))return;let n=ae(null);try{e[Z]&=-129,e[Z]|=256,e[Vt]&&Js(e[Vt]),jk(t,e),Vk(t,e),e[le].type===1&&e[ze].destroy();let r=e[Io];if(r!==null&&Hn(e[pt])){r!==e[pt]&&rm(r,e);let i=e[wo];i!==null&&i.detachView(t)}eg(e)}finally{ae(n)}}function Vk(t,e){let n=t.cleanup,r=e[nl];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[nl]=null);let i=e[Dr];if(i!==null){e[Dr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[ui];if(o!==null){e[ui]=null;for(let s of o)s.destroy()}}function jk(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof fi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Te(4,a,u);try{u.call(a)}finally{Te(5,a,u)}}else{Te(4,i,o);try{o.call(i)}finally{Te(5,i,o)}}}}}function Uk(t,e,n){return Bk(t,e.parent,n)}function Bk(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[$n];if(No(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===fn.None||i===fn.Emulated)return null}return pn(r,n)}function $k(t,e,n){return zk(t,e,n)}function Hk(t,e,n){return t.type&40?pn(t,n):null}var zk=Hk,zw;function kl(t,e,n,r){let i=Uk(t,r,e),o=e[ze],s=r.parent||e[Jt],a=$k(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)$w(o,i,n[u],a,!1);else $w(o,i,n,a,!1);zw!==void 0&&zw(o,r,e,n,i)}function oa(t,e){if(e!==null){let n=e.type;if(n&3)return pn(e,t);if(n&4)return ig(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return oa(t,r);{let i=t[e.index];return Hn(i)?ig(-1,i):dn(i)}}else{if(n&128)return oa(t,e.next);if(n&32)return nm(e,t)()||dn(t[e.index]);{let r=BD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=di(t[un]);return oa(i,r)}else return oa(t,e.next)}}}return null}function BD(t,e){if(e!==null){let r=t[un][Jt],i=e.projection;return r.projection[i]}return null}function ig(t,e){let n=jt+t+1;if(n<e.length){let r=e[n],i=r[le].firstChild;if(i!==null)return oa(r,i)}return e[li]}function im(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Po(dn(a),r),n.flags|=2),!VD(n))if(u&8)im(t,e,n.child,r,i,o,!1),go(e,t,i,a,o);else if(u&32){let l=nm(n,r),h;for(;h=l();)go(e,t,i,h,o);go(e,t,i,a,o)}else u&16?qk(t,e,r,n,i,o):go(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Ol(t,e,n,r,i,o){im(n,r,t.firstChild,e,i,o,!1)}function qk(t,e,n,r,i,o){let s=n[un],u=s[Jt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];go(e,t,i,h,o)}else{let l=u,h=s[pt];pD(r)&&(l.flags|=128),im(t,e,l,h,i,o,!0)}}function Wk(t,e,n,r,i){let o=n[li],s=dn(n);o!==s&&go(e,t,r,o,i);for(let a=jt;a<n.length;a++){let u=n[a];Ol(u[le],u,t,e,r,o)}}function Gk(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Un.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Un.Important),t.setStyle(n,r,i,o))}}function ml(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(dn(o)),Hn(o)&&Kk(o,r);let s=n.type;if(s&8)ml(t,e,n.child,r);else if(s&32){let a=nm(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=BD(e,n);if(Array.isArray(a))r.push(...a);else{let u=di(e[un]);ml(u[le],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Kk(t,e){for(let n=jt;n<t.length;n++){let r=t[n],i=r[le].firstChild;i!==null&&ml(r[le],r,i,e)}t[li]!==t[$n]&&e.push(t[li])}function $D(t){if(t[Cp]!==null){for(let e of t[Cp])e.impl.addSequence(e);t[Cp].length=0}}var HD=[];function Qk(t){return t[Vt]??Yk(t)}function Yk(t){let e=HD.pop()??Object.create(Jk);return e.lView=t,e}function Zk(t){t.lView[Vt]!==t&&(t.lView=null,HD.push(t))}var Jk=ge(L({},Ji),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{va(t.lView)},consumerOnSignalRead(){this.lView[Vt]=this}});function Xk(t){let e=t[Vt]??Object.create(eO);return e.lView=t,e}var eO=ge(L({},Ji),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=di(t.lView);for(;e&&!zD(e[le]);)e=di(e);e&&kT(e)},consumerOnSignalRead(){this.lView[Vt]=this}});function zD(t){return t.type!==2}function qD(t){if(t[ui]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[ui])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[Z]&8192)}}var tO=100;function WD(t,e=!0,n=0){let i=t[Vn].rendererFactory,o=!1;o||i.begin?.();try{nO(t,n)}catch(s){throw e&&Rk(t,s),s}finally{o||i.end?.()}}function nO(t,e){let n=UT();try{sl(!0),og(t,e);let r=0;for(;Cl(t);){if(r===tO)throw new j(103,!1);r++,og(t,1)}}finally{sl(n)}}function rO(t,e,n,r){if(Mo(e))return;let i=e[Z],o=!1,s=!1;Pg(e);let a=!0,u=null,l=null;o||(zD(t)?(l=Qk(e),u=Zs(l)):Yf()===null?(a=!1,l=Xk(e),u=Zs(l)):e[Vt]&&(Js(e[Vt]),e[Vt]=null));try{xT(e),zP(t.bindingStartIndex),n!==null&&FD(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Wu(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Gu(e,y,0,null),Sp(e,0)}if(s||iO(e),qD(e),GD(e,0),t.contentQueries!==null&&bD(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Wu(e,y)}else{let y=t.contentHooks;y!==null&&Gu(e,y,1),Sp(e,1)}sO(t,e);let p=t.components;p!==null&&QD(e,p,0);let m=t.viewQuery;if(m!==null&&ng(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Wu(e,y)}else{let y=t.viewHooks;y!==null&&Gu(e,y,2),Sp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[bp]){for(let y of e[bp])y();e[bp]=null}o||($D(e),e[Z]&=-73)}catch(h){throw o||va(e),h}finally{l!==null&&(lu(l,u),a&&Zk(l)),xg()}}function GD(t,e){for(let n=yD(t);n!==null;n=vD(n))for(let r=jt;r<n.length;r++){let i=n[r];KD(i,e)}}function iO(t){for(let e=yD(t);e!==null;e=vD(e)){if(!(e[Z]&2))continue;let n=e[il];for(let r=0;r<n.length;r++){let i=n[r];kT(i)}}}function oO(t,e,n){Te(18);let r=hn(e,t);KD(r,n),Te(19,r[Tt])}function KD(t,e){Sg(t)&&og(t,e)}function og(t,e){let r=t[le],i=t[Z],o=t[Vt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&du(o)),s||=!1,o&&(o.dirty=!1),t[Z]&=-9217,s)rO(r,t,r.template,t[Tt]);else if(i&8192){qD(t),GD(t,1);let a=r.components;a!==null&&QD(t,a,1),$D(t)}}function QD(t,e,n){for(let r=0;r<e.length;r++)oO(t,e[r],n)}function sO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)hi(~i);else{let o=i,s=n[++r],a=n[++r];WP(s,o);let u=e[o];Te(24,u),a(2,u),Te(25,u)}}}finally{hi(-1)}}function om(t,e){let n=UT()?64:1088;for(t[Vn].changeDetectionScheduler?.notify(e);t;){t[Z]|=n;let r=di(t);if(ol(t)&&!r)return t;t=r}return null}function YD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function aO(t,e,n,r=!0){let i=e[le];if(cO(i,e,t,n),r){let s=ig(n,t),a=e[ze],u=a.parentNode(t[li]);u!==null&&Lk(i,t[Jt],a,e,u,s)}let o=e[tl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function sg(t,e){if(t.length<=jt)return;let n=jt+e,r=t[n];if(r){let i=r[Io];i!==null&&i!==t&&rm(i,r),e>0&&(t[n-1][Zt]=r[Zt]);let o=Xu(t,jt+e);Ok(r[le],r);let s=o[wo];s!==null&&s.detachView(o[le]),r[pt]=null,r[Zt]=null,r[Z]&=-129}return r}function cO(t,e,n,r){let i=jt+r,o=n.length;r>0&&(n[i-1][Zt]=e),r<o-jt?(e[Zt]=n[i],mT(n,jt+r,e)):(n.push(e),e[Zt]=null),e[pt]=n;let s=e[Io];s!==null&&n!==s&&ZD(s,e);let a=e[wo];a!==null&&a.insertView(t),qp(e),e[Z]|=128}function ZD(t,e){let n=t[il],r=e[pt];if(br(r))t[Z]|=2;else{let i=r[pt][un];e[un]!==i&&(t[Z]|=2)}n===null?t[il]=[e]:n.push(e)}var da=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[le];return ml(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Tt]}set context(e){this._lView[Tt]=e}get destroyed(){return Mo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[pt];if(Hn(e)){let n=e[rl],r=n?n.indexOf(this):-1;r>-1&&(sg(e,r),Xu(n,r))}this._attachedToViewContainer=!1}UD(this._lView[le],this._lView)}onDestroy(e){OT(this._lView,e)}markForCheck(){om(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Z]&=-129}reattach(){qp(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,WD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ol(this._lView),n=this._lView[Io];n!==null&&!e&&rm(n,this._lView),jD(this._lView[le],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let n=ol(this._lView),r=this._lView[Io];r!==null&&!n&&ZD(r,this._lView),qp(this._lView)}};var sm=(()=>{class t{static __NG_ELEMENT_ID__=dO}return t})(),uO=sm,lO=class extends uO{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=xk(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new da(i)}};function dO(){return hO(bt(),ve())}function hO(t,e){return t.type&4?new lO(e,t,Nl(t,e)):null}function Ll(t,e,n,r,i){let o=t.data[e];if(o===null)o=fO(t,e,n,r,i),qP()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=$P();o.injectorIndex=s===null?-1:s.injectorIndex}return _i(o,!0),o}function fO(t,e,n,r,i){let o=VT(),s=Rg(),a=s?o:o&&o.parent,u=t.data[e]=gO(t,a,n,e,r,i);return pO(t,u,o,s),u}function pO(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function gO(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return jP()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var b5=new RegExp(`^(\\d+)*(${xx}|${Px})*(.*)`);var mO=()=>null;function qw(t,e){return mO(t,e)}var yO=class{},JD=class{},ag=class{resolveComponentFactory(e){throw Error(`No component factory found for ${wt(e)}.`)}},Fl=class{static NULL=new ag},bo=class{},Vl=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>vO()}return t})();function vO(){let t=ve(),e=bt(),n=hn(e.index,t);return(br(n)?n:t)[ze]}var _O=(()=>{class t{static \u0275prov=$({token:t,providedIn:"root",factory:()=>null})}return t})();var Np={},cg=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=wl(r);let i=this.injector.get(e,Np,r);return i!==Np||n===Np?i:this.parentInjector.get(e,n,r)}};function ug(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Ew(i,a);else if(o==2){let u=a,l=e[++s];r=Ew(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function qe(t,e=te.Default){let n=ve();if(n===null)return K(t,e);let r=bt();return iD(r,n,ft(t),e)}function am(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a,u=null,l=null,h=IO(s);h===null?a=s:[a,u,l]=h,DO(t,e,n,a,o,u,l)}o!==null&&r!==null&&EO(n,r,o)}function EO(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new j(-301,!1);r.push(e[i],o)}}function IO(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&ln(a)&&(e=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,wO(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function wO(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function TO(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function DO(t,e,n,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&ln(y)&&(u=!0,TO(t,n,m)),Qp(ll(n,e),t,y.type)}NO(n,t.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=OD(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(n.mergedAttrs=Do(n.mergedAttrs,y.hostAttrs),CO(t,n,e,p,y),RO(p,y,i),s!==null&&s.has(y)){let[R,A]=s.get(y);n.directiveToIndex.set(y.type,[p,R+n.directiveStart,A+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let T=y.type.prototype;!l&&(T.ngOnChanges||T.ngOnInit||T.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(T.ngOnChanges||T.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}bO(t,n,o)}function bO(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))Ww(0,e,i,r),Ww(1,e,i,r),Kw(e,r,!1);else{let o=n.get(i);Gw(0,e,o,r),Gw(1,e,o,r),Kw(e,r,!0)}}}function Ww(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),XD(e,o)}}function Gw(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),XD(e,s)}}function XD(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Kw(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Kg(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function CO(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ai(i.type,!0)),s=new fi(o,ln(i),qe);t.blueprint[r]=s,n[r]=s,SO(t,e,r,OD(t,n,i.hostVars,qn),i)}function SO(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;AO(s)!=a&&s.push(a),s.push(n,r,o)}}function AO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function RO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ln(e)&&(n[""]=t)}}function NO(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function eb(t,e,n,r,i,o,s,a){let u=e.consts,l=To(u,s),h=Ll(e,t,2,r,l);return o&&am(e,n,h,To(u,a),i),h.mergedAttrs=Do(h.mergedAttrs,h.attrs),h.attrs!==null&&ug(h,h.attrs,!1),h.mergedAttrs!==null&&ug(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function tb(t,e){kg(t,e),Cg(e)&&t.queries.elementEnd(e)}var yl=class extends Fl{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=vo(e);return new ha(n,this.ngModule)}};function MO(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Pl.SignalBased)!==0};return i&&(o.transform=i),o})}function PO(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function xO(t,e,n){let r=e instanceof et?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new cg(n,r):n}function kO(t){let e=t.get(bo,null);if(e===null)throw new j(407,!1);let n=t.get(_O,null),r=t.get(pi,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function OO(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return MD(e,n,n==="svg"?RP:n==="math"?NP:null)}var ha=class extends JD{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=MO(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=PO(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=sk(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){Te(22);let o=ae(null);try{let s=this.componentDef,a=r?["ng-version","19.2.14"]:ak(this.componentDef.selectors[0]),u=Qg(0,null,null,1,0,null,null,null,null,[a],null),l=xO(s,i||this.ngModule,e),h=kO(l),p=h.rendererFactory.createRenderer(null,s),m=r?yk(p,r,s.encapsulation,l):OO(s,p),y=Yg(null,u,null,512|kD(s),null,null,h,p,l,null,DD(m,l,!0));y[Ut]=m,Pg(y);let T=null;try{let R=eb(Ut,u,y,"#host",()=>[this.componentDef],!0,0);m&&(xD(p,m,R),Po(m,y)),xl(u,y,R),qg(u,R,y),tb(u,R),n!==void 0&&LO(R,this.ngContentSelectors,n),T=hn(R.index,y),y[Tt]=T[Tt],tm(u,y,null)}catch(R){throw T!==null&&eg(T),eg(y),R}finally{Te(23),xg()}return new lg(this.componentType,y)}finally{ae(o)}}},lg=class extends yO{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=PT(n[le],Ut),this.location=Nl(this._tNode,n),this.instance=hn(this._tNode.index,n)[Tt],this.hostView=this.changeDetectorRef=new da(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=em(r,i[le],i,e,n);this.previousInputValues.set(e,n);let s=hn(r.index,i);om(s,1)}get injector(){return new si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function LO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Ea=(()=>{class t{static __NG_ELEMENT_ID__=FO}return t})();function FO(){let t=bt();return jO(t,ve())}var VO=Ea,nb=class extends VO{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Nl(this._hostTNode,this._hostLView)}get injector(){return new si(this._hostTNode,this._hostLView)}get parentInjector(){let e=Og(this._hostTNode,this._hostLView);if(JT(e)){let n=cl(e,this._hostLView),r=al(e),i=n[le].data[r+8];return new si(i,n)}else return new si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Qw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-jt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=qw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Hw(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!bP(e),a;if(s)a=n;else{let T=n||{};a=T.index,r=T.injector,i=T.projectableNodes,o=T.environmentInjector||T.ngModuleRef}let u=s?e:new ha(vo(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let R=(s?l:this.parentInjector).get(et,null);R&&(o=R)}let h=vo(u.componentType??{}),p=qw(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,Hw(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(xP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[pt],l=new nb(u,u[Jt],u[pt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return aO(s,i,o,r),e.attachToViewContainerRef(),mT(Mp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Qw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=sg(this._lContainer,n);r&&(Xu(Mp(this._lContainer),n),UD(r[le],r))}detach(e){let n=this._adjustIndex(e,-1),r=sg(this._lContainer,n);return r&&Xu(Mp(this._lContainer),n)!=null?new da(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Qw(t){return t[rl]}function Mp(t){return t[rl]||(t[rl]=[])}function jO(t,e){let n,r=e[t.index];return Hn(r)?n=r:(n=YD(r,e,null,t),e[t.index]=n,Zg(e,n)),BO(n,e,t,r),new nb(n,t,e)}function UO(t,e){let n=t[ze],r=n.createComment(""),i=pn(e,t),o=n.parentNode(i);return gl(n,o,r,n.nextSibling(i),!1),r}var BO=zO,$O=()=>!1;function HO(t,e,n){return $O(t,e,n)}function zO(t,e,n,r){if(t[li])return;let i;n.type&8?i=dn(r):i=UO(e,n),t[li]=i}var Co=class{},cm=class{};var dg=class extends Co{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new yl(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=_T(e);this._bootstrapComponents=RD(o.bootstrap),this._r3Injector=aD(e,n,[{provide:Co,useValue:this},{provide:Fl,useValue:this.componentFactoryResolver},...r],wt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},hg=class extends cm{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new dg(this.moduleType,e,[])}};var vl=class extends Co{injector;componentFactoryResolver=new yl(this);instance=null;constructor(e){super();let n=new ca([...e.providers,{provide:Co,useValue:this},{provide:Fl,useValue:this.componentFactoryResolver}],e.parent||Dg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function jl(t,e,n=null){return new vl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var qO=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=ET(!1,n.type),i=r.length>0?jl([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=$({token:t,providedIn:"environment",factory:()=>new t(K(et))})}return t})();function rb(t){return ga(()=>{let e=ob(t),n=ge(L({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===gD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(qO).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||fn.Emulated,styles:t.styles||Ft,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&zg("NgStandalone"),sb(n);let r=t.dependencies;return n.directiveDefs=Yw(r,!1),n.pipeDefs=Yw(r,!0),n.id=YO(n),n})}function WO(t){return vo(t)||fP(t)}function GO(t){return t!==null}function xo(t){return ga(()=>({type:t.type,bootstrap:t.bootstrap||Ft,declarations:t.declarations||Ft,imports:t.imports||Ft,exports:t.exports||Ft,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function KO(t,e){if(t==null)return ci;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Pl.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function QO(t){if(t==null)return ci;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function wi(t){return ga(()=>{let e=ob(t);return sb(e),e})}function ib(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ob(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||ci,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Ft,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:KO(t.inputs,e),outputs:QO(t.outputs),debugInfo:null}}function sb(t){t.features?.forEach(e=>e(t))}function Yw(t,e){if(!t)return null;let n=e?pP:WO;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(GO)}function YO(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ZO(t){return Object.getPrototypeOf(t.prototype).constructor}function JO(t){let e=ZO(t.type),n=!0,r=[t];for(;e;){let i;if(ln(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Pp(t.inputs),s.declaredInputs=Pp(t.declaredInputs),s.outputs=Pp(t.outputs);let a=i.hostBindings;a&&r1(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&t1(t,u),l&&n1(t,l),XO(t,i),WM(t.outputs,i.outputs),ln(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===JO&&(n=!1)}}e=Object.getPrototypeOf(e)}e1(r)}function XO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function e1(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Do(i.hostAttrs,n=Do(n,i.hostAttrs))}}function Pp(t){return t===ci?{}:t===Ft?[]:t}function t1(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function n1(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function r1(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function ab(t,e,n){return t[e]=n}function gi(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function cb(t,e,n,r){let i=gi(t,e,n);return gi(t,e+1,r)||i}function i1(t,e,n,r,i,o,s,a,u){let l=e.consts,h=Ll(e,t,4,s||null,a||null);Ag()&&am(e,n,h,To(l,u),Xg),h.mergedAttrs=Do(h.mergedAttrs,h.attrs),kg(e,h);let p=h.tView=Qg(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function o1(t,e,n,r,i,o,s,a,u,l){let h=n+Ut,p=e.firstCreatePass?i1(h,e,t,r,i,o,s,a,u):e.data[h];_i(p,!1);let m=a1(e,t,p,n);Sl()&&kl(e,t,m,p),Po(m,t);let y=YD(m,t,m,p);return t[h]=y,Zg(t,y),HO(y,p,t),bl(p)&&xl(e,t,p),u!=null&&Jg(t,p,l),p}function s1(t,e,n,r,i,o,s,a){let u=ve(),l=Dt(),h=To(l.consts,o);return o1(u,l,t,e,n,r,i,h,s,a),s1}var a1=c1;function c1(t,e,n,r){return Al(!0),e[ze].createComment("")}var ub=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var lb=new B("");var db=(()=>{class t{static \u0275prov=$({token:t,providedIn:"root",factory:()=>new fg})}return t})(),fg=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function Ia(t){return!!t&&typeof t.then=="function"}function hb(t){return!!t&&typeof t.subscribe=="function"}var u1=new B("");var fb=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=x(u1,{optional:!0})??[];injector=x(gt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=tt(this.injector,i);if(Ia(o))n.push(o);else if(hb(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),um=new B("");function l1(){tp(()=>{throw new j(600,!1)})}function d1(t){return t.isBoundToModule}var h1=10;var mi=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(wx);afterRenderManager=x(Lx);zonelessEnabled=x(Vg);rootEffectScheduler=x(db);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new He;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=x(zn).hasPendingTasks.pipe(ne(n=>!n));constructor(){x(Ml,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=x(et);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=gt.NULL){Te(10);let o=n instanceof JD;if(!this._injector.get(fb).done){let y="";throw new j(405,y)}let a;o?a=n:a=this._injector.get(Fl).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let u=d1(a)?void 0:this._injector.get(Co),l=r||a.selector,h=a.create(i,[],l,u),p=h.location.nativeElement,m=h.injector.get(lb,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Ku(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),Te(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Te(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(wD.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new j(101,!1);let n=ae(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ae(n),this.afterTick.next(),Te(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(bo,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<h1;)Te(14),this.synchronizeOnce(),Te(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)f1(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Cl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ku(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(um,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ku(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new j(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ku(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function f1(t,e,n,r){if(!n&&!Cl(t))return;WD(t,e,n&&!r?0:1)}function lm(t,e,n,r){let i=ve(),o=Mg();if(gi(i,o,e)){let s=Dt(),a=KT();Ck(a,i,t,e,n,r)}return lm}function p1(t,e,n,r){return gi(t,Mg(),n)?e+yo(n)+r:qn}function g1(t,e,n,r,i,o){let s=HP(),a=cb(t,s,n,i);return BT(2),a?e+yo(n)+r+yo(i)+o:qn}function zu(t,e){return t<<17|e<<2}function yi(t){return t>>17&32767}function m1(t){return(t&2)==2}function y1(t,e){return t&131071|e<<17}function pg(t){return t|2}function So(t){return(t&131068)>>2}function xp(t,e){return t&-131069|e<<2}function v1(t){return(t&1)===1}function gg(t){return t|1}function _1(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=yi(s),u=So(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||ma(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=yi(t[a+1]);t[r+1]=zu(m,a),m!==0&&(t[m+1]=xp(t[m+1],r)),t[a+1]=y1(t[a+1],r)}else t[r+1]=zu(a,0),a!==0&&(t[a+1]=xp(t[a+1],r)),a=r;else t[r+1]=zu(u,0),a===0?a=r:t[u+1]=xp(t[u+1],r),u=r;l&&(t[r+1]=pg(t[r+1])),Zw(t,h,r,!0),Zw(t,h,r,!1),E1(e,h,t,r,o),s=zu(a,u),o?e.classBindings=s:e.styleBindings=s}function E1(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&ma(o,e)>=0&&(n[r+1]=gg(n[r+1]))}function Zw(t,e,n,r){let i=t[n+1],o=e===null,s=r?yi(i):So(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];I1(u,e)&&(a=!0,t[s+1]=r?gg(l):pg(l)),s=r?yi(l):So(l)}a&&(t[n+1]=r?pg(i):gg(i))}function I1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ma(t,e)>=0:!1}function w1(t,e,n){let r=ve(),i=Mg();if(gi(r,i,e)){let o=Dt(),s=KT();Ik(o,s,r,t,e,r[ze],n,!1)}return w1}function Jw(t,e,n,r,i){em(e,t,n,i?"class":"style",r)}function T1(t,e,n){return pb(t,e,n,!1),T1}function D1(t,e){return pb(t,e,null,!0),D1}function pb(t,e,n,r){let i=ve(),o=Dt(),s=BT(2);if(o.firstUpdatePass&&C1(o,t,s,r),e!==qn&&gi(i,s,e)){let a=o.data[Ei()];M1(o,a,i,i[ze],t,i[s+1]=P1(e,n),r,s)}}function b1(t,e){return e>=t.expandoStartIndex}function C1(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Ei()],s=b1(t,n);x1(o,r)&&e===null&&!s&&(e=!1),e=S1(i,o,e,r),_1(i,o,e,n,s,r)}}function S1(t,e,n,r){let i=KP(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=kp(null,t,e,n,r),n=fa(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=kp(i,t,e,n,r),o===null){let u=A1(t,e,r);u!==void 0&&Array.isArray(u)&&(u=kp(null,t,e,u[1],r),u=fa(u,e.attrs,r),R1(t,e,r,u))}else o=N1(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function A1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(So(r)!==0)return t[yi(r)]}function R1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[yi(i)]=r}function N1(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=fa(r,s,n)}return fa(r,e.attrs,n)}function kp(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=fa(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function fa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),dP(t,s,n?!0:e[++o]))}return t===void 0?null:t}function M1(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=v1(l)?Xw(u,e,n,i,So(l),s):void 0;if(!_l(h)){_l(o)||m1(l)&&(o=Xw(u,null,n,i,a,s));let p=MT(Ei(),n);Gk(r,s,p,i,o)}}function Xw(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===qn&&(m=p?Ft:void 0);let y=p?Tp(m,r):h===r?m:void 0;if(l&&!_l(y)&&(y=Tp(u,r)),_l(y)&&(a=y,s))return a;let T=t[i+1];i=s?yi(T):So(T)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Tp(u,r))}return a}function _l(t){return t!==void 0}function P1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=wt(Wg(t)))),t}function x1(t,e){return(t.flags&(e?8:16))!==0}function gb(t,e,n,r){let i=ve(),o=Dt(),s=Ut+t,a=i[ze],u=o.firstCreatePass?eb(s,o,i,e,Xg,Ag(),n,r):o.data[s],l=k1(o,i,u,a,e,t);i[s]=l;let h=bl(u);return _i(u,!0),xD(a,l,u),!VD(u)&&Sl()&&kl(o,i,l,u),(LP()===0||h)&&Po(l,i),FP(),h&&(xl(o,i,u),qg(o,u,i)),r!==null&&Jg(i,u),gb}function mb(){let t=bt();Rg()?jT():(t=t.parent,_i(t,!1));let e=t;UP(e)&&BP(),VP();let n=Dt();return n.firstCreatePass&&tb(n,e),e.classesWithoutHost!=null&&ex(e)&&Jw(n,e,ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&tx(e)&&Jw(n,e,ve(),e.stylesWithoutHost,!1),mb}function dm(t,e,n,r){return gb(t,e,n,r),mb(),dm}var k1=(t,e,n,r,i,o)=>(Al(!0),MD(r,i,ZP()));function O1(t,e,n,r,i){let o=e.consts,s=To(o,r),a=Ll(e,t,8,"ng-container",s);s!==null&&ug(a,s,!0);let u=To(o,i);return Ag()&&am(e,n,a,u,Xg),a.mergedAttrs=Do(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function L1(t,e,n){let r=ve(),i=Dt(),o=t+Ut,s=i.firstCreatePass?O1(o,i,r,e,n):i.data[o];_i(s,!0);let a=V1(i,r,s,t);return r[o]=a,Sl()&&kl(i,r,a,s),Po(a,r),bl(s)&&(xl(i,r,s),qg(i,s,r)),n!=null&&Jg(r,s),L1}function F1(){let t=bt(),e=Dt();return Rg()?jT():(t=t.parent,_i(t,!1)),e.firstCreatePass&&(kg(e,t),Cg(t)&&e.queries.elementEnd(t)),F1}var V1=(t,e,n,r)=>(Al(!0),lk(e[ze],""));function P5(){return ve()}var ri=void 0;function j1(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var U1=["en",[["a","p"],["AM","PM"],ri],[["AM","PM"],ri,ri],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ri,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ri,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ri,"{1} 'at' {0}",ri],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",j1],Op={};function Bt(t){let e=B1(t),n=eT(e);if(n)return n;let r=e.split("-")[0];if(n=eT(r),n)return n;if(r==="en")return U1;throw new j(701,!1)}function eT(t){return t in Op||(Op[t]=ii.ng&&ii.ng.common&&ii.ng.common.locales&&ii.ng.common.locales[t]),Op[t]}var xe=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(xe||{});function B1(t){return t.toLowerCase().replace(/_/g,"-")}var El="en-US";var $1=El;function H1(t){typeof t=="string"&&($1=t.toLowerCase().replace(/_/g,"-"))}function tT(t,e,n){return function r(i){if(i===Function)return n;let o=No(t)?hn(t.index,e):e;om(o,5);let s=e[Tt],a=nT(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=nT(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function nT(t,e,n,r){let i=ae(null);try{return Te(6,e,n),n(r)!==!1}catch(o){return z1(t,o),!1}finally{Te(7,e,n),ae(i)}}function z1(t,e){let n=t[Eo],r=n?n.get(jn,null):null;r&&r.handleError(e)}function rT(t,e,n,r,i,o){let s=e[n],a=e[le],l=a.data[n].outputs[r],h=s[l],p=a.firstCreatePass?FT(a):null,m=LT(e),y=h.subscribe(o),T=m.length;m.push(o,y),p&&p.push(i,t.index,T,-(T+1))}function hm(t,e,n,r){let i=ve(),o=Dt(),s=bt();return W1(o,i,i[ze],s,t,e,r),hm}function q1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[nl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function W1(t,e,n,r,i,o,s){let a=bl(r),l=t.firstCreatePass?FT(t):null,h=LT(e),p=!0;if(r.type&3||s){let m=pn(r,e),y=s?s(m):m,T=h.length,R=s?O=>s(dn(O[r.index])):r.index,A=null;if(!s&&a&&(A=q1(t,e,i,r.index)),A!==null){let O=A.__ngLastListenerFn__||A;O.__ngNextListenerFn__=o,A.__ngLastListenerFn__=o,p=!1}else{o=tT(r,e,o),Vx(e,y,i,o);let O=n.listen(y,i,o);h.push(o,O),l&&l.push(i,R,T,T+1)}}else o=tT(r,e,o);if(p){let m=r.outputs?.[i],y=r.hostDirectiveOutputs?.[i];if(y&&y.length)for(let T=0;T<y.length;T+=2){let R=y[T],A=y[T+1];rT(r,e,R,A,i,o)}if(m&&m.length)for(let T of m)rT(r,e,T,i,i,o)}}function x5(t=1){return YP(t)}function k5(t,e=""){let n=ve(),r=Dt(),i=t+Ut,o=r.firstCreatePass?Ll(r,i,1,e,null):r.data[i],s=G1(r,n,o,e,t);n[i]=s,Sl()&&kl(r,n,s,o),_i(o,!1)}var G1=(t,e,n,r,i)=>(Al(!0),ck(e[ze],r));function K1(t){return yb("",t,""),K1}function yb(t,e,n){let r=ve(),i=p1(r,t,e,n);return i!==qn&&vb(r,Ei(),i),yb}function Q1(t,e,n,r,i){let o=ve(),s=g1(o,t,e,n,r,i);return s!==qn&&vb(o,Ei(),s),Q1}function vb(t,e,n){let r=MT(e,t);uk(t[ze],r,n)}function Y1(t,e,n){let r=Dt();if(r.firstCreatePass){let i=ln(t);mg(n,r.data,r.blueprint,i,!0),mg(e,r.data,r.blueprint,i,!1)}}function mg(t,e,n,r,i){if(t=ft(t),Array.isArray(t))for(let o=0;o<t.length;o++)mg(t[o],e,n,r,i);else{let o=Dt(),s=ve(),a=bt(),u=_o(t)?t:ft(t.provide),l=TT(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(_o(t)||!t.multi){let y=new fi(l,i,qe),T=Fp(u,e,i?h:h+m,p);T===-1?(Qp(ll(a,s),o,u),Lp(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[T]=y,s[T]=y)}else{let y=Fp(u,e,h+m,p),T=Fp(u,e,h,h+m),R=y>=0&&n[y],A=T>=0&&n[T];if(i&&!A||!i&&!R){Qp(ll(a,s),o,u);let O=X1(i?J1:Z1,n.length,i,r,l);!i&&A&&(n[T].providerFactory=O),Lp(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(O),s.push(O)}else{let O=_b(n[i?T:y],l,!i&&r);Lp(o,t,y>-1?y:T,O)}!i&&r&&A&&n[T].componentProviders++}}}function Lp(t,e,n,r){let i=_o(e),o=_P(e);if(i||o){let u=(o?ft(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function _b(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Fp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Z1(t,e,n,r,i){return yg(this.multi,[])}function J1(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=dl(r,r[le],this.providerFactory.index,i);s=u.slice(0,a),yg(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],yg(o,s);return s}function yg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function X1(t,e,n,r,i){let o=new fi(t,n,qe);return o.multi=[],o.index=e,o.componentProviders=0,_b(o,i,r&&!n),o}function O5(t,e=[]){return n=>{n.providersResolver=(r,i)=>Y1(r,i?i(t):t,e)}}function L5(t,e,n,r){return eL(ve(),Ng(),t,e,n,r)}function F5(t,e,n,r,i){return Ib(ve(),Ng(),t,e,n,r,i)}function Eb(t,e){let n=t[e];return n===qn?void 0:n}function eL(t,e,n,r,i,o){let s=e+n;return gi(t,s,i)?ab(t,s+1,o?r.call(o,i):r(i)):Eb(t,s+1)}function Ib(t,e,n,r,i,o,s){let a=e+n;return cb(t,a,i,o)?ab(t,a+2,s?r.call(s,i,o):r(i,o)):Eb(t,a+2)}function V5(t,e){let n=Dt(),r,i=t+Ut;n.firstCreatePass?(r=tL(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=ai(r.type,!0)),s,a=Et(qe);try{let u=ul(!1),l=o();return ul(u),PP(n,ve(),i,l),l}finally{Et(a)}}function tL(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function j5(t,e,n,r){let i=t+Ut,o=ve(),s=MP(o,i);return nL(o,i)?Ib(o,Ng(),e,s.transform,n,r,s):s.transform(n,r)}function nL(t,e){return t[le].data[e].pure}var pa=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},wb=new pa("19.2.14"),vg=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Tb=(()=>{class t{compileModuleSync(n){return new hg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=_T(n),o=RD(i.declarations).reduce((s,a)=>{let u=vo(a);return u&&s.push(new ha(u)),s},[]);return new vg(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var rL=(()=>{class t{zone=x(_e);changeDetectionScheduler=x(pi);applicationRef=x(mi);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),iL=new B("",{factory:()=>!1});function Db({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new _e(ge(L({},bb()),{scheduleInRootZone:n})),[{provide:_e,useFactory:t},{provide:aa,multi:!0,useFactory:()=>{let r=x(rL,{optional:!0});return()=>r.initialize()}},{provide:aa,multi:!0,useFactory:()=>{let r=x(oL);return()=>{r.initialize()}}},e===!0?{provide:uD,useValue:!0}:[],{provide:lD,useValue:n??cD}]}function U5(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=Db({ngZoneFactory:()=>{let i=bb(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&zg("NgZone_CoalesceEvent"),new _e(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Bn([{provide:iL,useValue:!0},{provide:Vg,useValue:!1},r])}function bb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var oL=(()=>{class t{subscription=new Me;initialized=!1;zone=x(_e);pendingTasks=x(zn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var sL=(()=>{class t{appRef=x(mi);taskService=x(zn);ngZone=x(_e);zonelessEnabled=x(Vg);tracing=x(Ml,{optional:!0});disableScheduling=x(uD,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Me;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(fl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(lD,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Xp||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?kw:dD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(fl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,kw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function aL(){return typeof $localize<"u"&&$localize.locale||El}var Ul=new B("",{providedIn:"root",factory:()=>x(Ul,te.Optional|te.SkipSelf)||aL()});var _g=new B(""),cL=new B("");function ra(t){return!t.moduleRef}function uL(t){let e=ra(t)?t.r3Injector:t.moduleRef.injector,n=e.get(_e);return n.run(()=>{ra(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(jn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),ra(t)){let o=()=>e.destroy(),s=t.platformInjector.get(_g);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(_g);s.add(o),t.moduleRef.onDestroy(()=>{Ku(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return dL(r,n,()=>{let o=e.get(fb);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Ul,El);if(H1(s||El),!e.get(cL,!0))return ra(t)?e.get(mi):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(ra(t)){let u=e.get(mi);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return lL(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function lL(t,e){let n=t.injector.get(mi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new j(-403,!1);e.push(t)}function dL(t,e,n){try{let r=n();return Ia(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Qu=null;function hL(t=[],e){return gt.create({name:e,providers:[{provide:Tl,useValue:"platform"},{provide:_g,useValue:new Set([()=>Qu=null])},...t]})}function fL(t=[]){if(Qu)return Qu;let e=hL(t);return Qu=e,l1(),pL(e),e}function pL(t){let e=t.get($g,null);tt(t,()=>{e?.forEach(n=>n())})}function fm(){return!1}var Bl=(()=>{class t{static __NG_ELEMENT_ID__=gL}return t})();function gL(t){return mL(bt(),ve(),(t&16)===16)}function mL(t,e,n){if(No(t)&&!n){let r=hn(t.index,e);return new da(r,r)}else if(t.type&175){let r=e[un];return new da(r,e)}return null}function Cb(t){Te(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=fL(r),o=[Db({}),{provide:pi,useExisting:sL},...n||[]],s=new vl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return uL({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Te(9)}}function $l(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Sb(t){return ip(t)}function yL(t,e){return ep(t,e?.equal)}var Eg=class{[Kt];constructor(e){this[Kt]=e}destroy(){this[Kt].destroy()}};function Ab(t,e){!e?.injector&&bg(Ab);let n=e?.injector??x(gt),r=e?.manualCleanup!==!0?n.get(Cr):null,i,o=n.get(TD,null,{optional:!0}),s=n.get(pi);return o!==null&&!e?.forceRoot?(i=EL(o.view,s,t),r instanceof hl&&r._lView===o.view&&(r=null)):i=IL(t,n.get(db),s),i.injector=n,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new Eg(i)}var Rb=ge(L({},Ji),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:la,run(){if(this.dirty=!1,this.hasRun&&!du(this))return;this.hasRun=!0;let t=r=>(this.cleanupFns??=[]).push(r),e=Zs(this),n=sl(!1);try{this.maybeCleanup(),this.fn(t)}finally{sl(n),lu(this,e)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),vL=ge(L({},Rb),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Js(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),_L=ge(L({},Rb),{consumerMarkedDirty(){this.view[Z]|=8192,va(this.view),this.notifier.notify(13)},destroy(){Js(this),this.onDestroyFn(),this.maybeCleanup(),this.view[ui]?.delete(this)}});function EL(t,e,n){let r=Object.create(_L);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=n,t[ui]??=new Set,t[ui].add(r),r.consumerMarkedDirty(r),r}function IL(t,e,n){let r=Object.create(vL);return r.fn=t,r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(12),r}var We=new B("");var Pb=null;function Gn(){return Pb}function pm(t){Pb??=t}var wa=class{},gm=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>x(xb),providedIn:"platform"})}return t})();var xb=(()=>{class t extends gm{_location;_history;_doc=x(We);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gn().getBaseHref(this._doc)}onPopState(n){let r=Gn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Gn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function kb(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function Nb(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Sr(t){return t&&t[0]!=="?"?`?${t}`:t}var ko=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>x(Lb),providedIn:"root"})}return t})(),Ob=new B(""),Lb=(()=>{class t extends ko{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(We).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return kb(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Sr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Sr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Sr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(K(gm),K(Ob,8))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Oo=(()=>{class t{_subject=new He;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=DL(Nb(Mb(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Sr(r))}normalize(n){return t.stripTrailingSlash(TL(this._basePath,Mb(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Sr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Sr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Sr;static joinWithSlash=kb;static stripTrailingSlash=Nb;static \u0275fac=function(r){return new(r||t)(K(ko))};static \u0275prov=$({token:t,factory:()=>wL(),providedIn:"root"})}return t})();function wL(){return new Oo(K(ko))}function TL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Mb(t){return t.replace(/\/index.html$/,"")}function DL(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var at=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(at||{}),Ee=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ee||{}),Ct=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Ct||{}),Qn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Ub(t){return Bt(t)[xe.LocaleId]}function Bb(t,e,n){let r=Bt(t),i=[r[xe.DayPeriodsFormat],r[xe.DayPeriodsStandalone]],o=$t(i,e);return $t(o,n)}function $b(t,e,n){let r=Bt(t),i=[r[xe.DaysFormat],r[xe.DaysStandalone]],o=$t(i,e);return $t(o,n)}function Hb(t,e,n){let r=Bt(t),i=[r[xe.MonthsFormat],r[xe.MonthsStandalone]],o=$t(i,e);return $t(o,n)}function zb(t,e){let r=Bt(t)[xe.Eras];return $t(r,e)}function Ta(t,e){let n=Bt(t);return $t(n[xe.DateFormat],e)}function Da(t,e){let n=Bt(t);return $t(n[xe.TimeFormat],e)}function ba(t,e){let r=Bt(t)[xe.DateTimeFormat];return $t(r,e)}function Ca(t,e){let n=Bt(t),r=n[xe.NumberSymbols][e];if(typeof r>"u"){if(e===Qn.CurrencyDecimal)return n[xe.NumberSymbols][Qn.Decimal];if(e===Qn.CurrencyGroup)return n[xe.NumberSymbols][Qn.Group]}return r}function qb(t){if(!t[xe.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[xe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Wb(t){let e=Bt(t);return qb(e),(e[xe.ExtraData][2]||[]).map(r=>typeof r=="string"?mm(r):[mm(r[0]),mm(r[1])])}function Gb(t,e,n){let r=Bt(t);qb(r);let i=[r[xe.ExtraData][0],r[xe.ExtraData][1]],o=$t(i,e)||[];return $t(o,n)||[]}function $t(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function mm(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var bL=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Hl={},CL=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Kb(t,e,n,r){let i=OL(t);e=Kn(n,e)||e;let s=[],a;for(;e;)if(a=CL.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=Yb(r,u),i=kL(i,r));let l="";return s.forEach(h=>{let p=PL(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Kl(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Kn(t,e){let n=Ub(t);if(Hl[n]??={},Hl[n][e])return Hl[n][e];let r="";switch(e){case"shortDate":r=Ta(t,Ct.Short);break;case"mediumDate":r=Ta(t,Ct.Medium);break;case"longDate":r=Ta(t,Ct.Long);break;case"fullDate":r=Ta(t,Ct.Full);break;case"shortTime":r=Da(t,Ct.Short);break;case"mediumTime":r=Da(t,Ct.Medium);break;case"longTime":r=Da(t,Ct.Long);break;case"fullTime":r=Da(t,Ct.Full);break;case"short":let i=Kn(t,"shortTime"),o=Kn(t,"shortDate");r=zl(ba(t,Ct.Short),[i,o]);break;case"medium":let s=Kn(t,"mediumTime"),a=Kn(t,"mediumDate");r=zl(ba(t,Ct.Medium),[s,a]);break;case"long":let u=Kn(t,"longTime"),l=Kn(t,"longDate");r=zl(ba(t,Ct.Long),[u,l]);break;case"full":let h=Kn(t,"fullTime"),p=Kn(t,"fullDate");r=zl(ba(t,Ct.Full),[h,p]);break}return r&&(Hl[n][e]=r),r}function zl(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Xt(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function SL(t,e){return Xt(t,3).substring(0,e)}function Oe(t,e,n=0,r=!1,i=!1){return function(o,s){let a=AL(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return SL(a,e);let u=Ca(s,Qn.MinusSign);return Xt(a,e,u,r,i)}}function AL(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function De(t,e,n=at.Format,r=!1){return function(i,o){return RL(i,o,t,e,n,r)}}function RL(t,e,n,r,i,o){switch(n){case 2:return Hb(e,i,r)[t.getMonth()];case 1:return $b(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let l=Wb(e),h=Gb(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,T]=m,R=s>=y.hours&&a>=y.minutes,A=s<T.hours||s===T.hours&&a<T.minutes;if(y.hours<T.hours){if(R&&A)return!0}else if(R||A)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return Bb(e,i,r)[s<12?0:1];case 3:return zb(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function ql(t){return function(e,n,r){let i=-1*r,o=Ca(n,Qn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+Xt(s,2,o)+Xt(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Xt(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Xt(s,2,o)+":"+Xt(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Xt(s,2,o)+":"+Xt(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var NL=0,Gl=4;function ML(t){let e=Kl(t,NL,1).getDay();return Kl(t,0,1+(e<=Gl?Gl:Gl+7)-e)}function Qb(t){let e=t.getDay(),n=e===0?-3:Gl-e;return Kl(t.getFullYear(),t.getMonth(),t.getDate()+n)}function ym(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=Qb(n),s=ML(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Xt(i,t,Ca(r,Qn.MinusSign))}}function Wl(t,e=!1){return function(n,r){let o=Qb(n).getFullYear();return Xt(o,t,Ca(r,Qn.MinusSign),e)}}var vm={};function PL(t){if(vm[t])return vm[t];let e;switch(t){case"G":case"GG":case"GGG":e=De(3,Ee.Abbreviated);break;case"GGGG":e=De(3,Ee.Wide);break;case"GGGGG":e=De(3,Ee.Narrow);break;case"y":e=Oe(0,1,0,!1,!0);break;case"yy":e=Oe(0,2,0,!0,!0);break;case"yyy":e=Oe(0,3,0,!1,!0);break;case"yyyy":e=Oe(0,4,0,!1,!0);break;case"Y":e=Wl(1);break;case"YY":e=Wl(2,!0);break;case"YYY":e=Wl(3);break;case"YYYY":e=Wl(4);break;case"M":case"L":e=Oe(1,1,1);break;case"MM":case"LL":e=Oe(1,2,1);break;case"MMM":e=De(2,Ee.Abbreviated);break;case"MMMM":e=De(2,Ee.Wide);break;case"MMMMM":e=De(2,Ee.Narrow);break;case"LLL":e=De(2,Ee.Abbreviated,at.Standalone);break;case"LLLL":e=De(2,Ee.Wide,at.Standalone);break;case"LLLLL":e=De(2,Ee.Narrow,at.Standalone);break;case"w":e=ym(1);break;case"ww":e=ym(2);break;case"W":e=ym(1,!0);break;case"d":e=Oe(2,1);break;case"dd":e=Oe(2,2);break;case"c":case"cc":e=Oe(7,1);break;case"ccc":e=De(1,Ee.Abbreviated,at.Standalone);break;case"cccc":e=De(1,Ee.Wide,at.Standalone);break;case"ccccc":e=De(1,Ee.Narrow,at.Standalone);break;case"cccccc":e=De(1,Ee.Short,at.Standalone);break;case"E":case"EE":case"EEE":e=De(1,Ee.Abbreviated);break;case"EEEE":e=De(1,Ee.Wide);break;case"EEEEE":e=De(1,Ee.Narrow);break;case"EEEEEE":e=De(1,Ee.Short);break;case"a":case"aa":case"aaa":e=De(0,Ee.Abbreviated);break;case"aaaa":e=De(0,Ee.Wide);break;case"aaaaa":e=De(0,Ee.Narrow);break;case"b":case"bb":case"bbb":e=De(0,Ee.Abbreviated,at.Standalone,!0);break;case"bbbb":e=De(0,Ee.Wide,at.Standalone,!0);break;case"bbbbb":e=De(0,Ee.Narrow,at.Standalone,!0);break;case"B":case"BB":case"BBB":e=De(0,Ee.Abbreviated,at.Format,!0);break;case"BBBB":e=De(0,Ee.Wide,at.Format,!0);break;case"BBBBB":e=De(0,Ee.Narrow,at.Format,!0);break;case"h":e=Oe(3,1,-12);break;case"hh":e=Oe(3,2,-12);break;case"H":e=Oe(3,1);break;case"HH":e=Oe(3,2);break;case"m":e=Oe(4,1);break;case"mm":e=Oe(4,2);break;case"s":e=Oe(5,1);break;case"ss":e=Oe(5,2);break;case"S":e=Oe(6,1);break;case"SS":e=Oe(6,2);break;case"SSS":e=Oe(6,3);break;case"Z":case"ZZ":case"ZZZ":e=ql(0);break;case"ZZZZZ":e=ql(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ql(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=ql(2);break;default:return null}return vm[t]=e,e}function Yb(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function xL(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function kL(t,e,n){let i=t.getTimezoneOffset(),o=Yb(e,i);return xL(t,-1*(o-i))}function OL(t){if(Fb(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Kl(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(bL))return LL(r)}let e=new Date(t);if(!Fb(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function LL(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function Fb(t){return t instanceof Date&&!isNaN(t.valueOf())}var _m=/\s+/,Vb=[],FL=(()=>{class t{_ngEl;_renderer;initialClasses=Vb;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(_m):Vb}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(_m):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(_m).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(qe(_a),qe(Vl))};static \u0275dir=wi({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var VL=(()=>{class t{_viewContainer;_context=new Ql;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){jb(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){jb(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(qe(Ea),qe(sm))};static \u0275dir=wi({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Ql=class{$implicit=null;ngIf=null};function jb(t,e){if(t&&!t.createEmbeddedView)throw new j(2020,!1)}function jL(t,e){return new j(2100,!1)}var UL="mediumDate",Zb=new B(""),Jb=new B(""),BL=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??UL,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Kb(n,s,o||this.locale,a)}catch(s){throw jL(t,s.message)}}static \u0275fac=function(r){return new(r||t)(qe(Ul,16),qe(Zb,24),qe(Jb,24))};static \u0275pipe=ib({name:"date",type:t,pure:!0})}return t})();var Xb=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=xo({type:t});static \u0275inj=Ao({})}return t})();function Sa(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Em="browser",eC="server";function Yl(t){return t===eC}var Ti=class{};var Xl=new B(""),Dm=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(K(Xl),K(_e))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),Aa=class{_doc;constructor(e){this._doc=e}manager},Zl="ng-app-id";function tC(t){for(let e of t)e.remove()}function nC(t,e){let n=e.createElement("style");return n.textContent=t,n}function zL(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Zl}="${e}"],link[${Zl}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Zl),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function wm(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var bm=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Yl(o),zL(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,nC);r?.forEach(i=>this.addUsage(i,this.external,wm))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(tC(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])tC(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,nC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,wm(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Zl,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(K(We),K(Bg),K(Hg,8),K(Ii))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),Im={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Cm=/%COMP%/g;var iC="%COMP%",qL=`_nghost-${iC}`,WL=`_ngcontent-${iC}`,GL=!0,KL=new B("",{providedIn:"root",factory:()=>GL});function QL(t){return WL.replace(Cm,t)}function YL(t){return qL.replace(Cm,t)}function oC(t,e){return e.map(n=>n.replace(Cm,t))}var Sm=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,u,l=null,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=Yl(a),this.defaultRenderer=new Ra(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===fn.ShadowDom&&(r=ge(L({},r),{encapsulation:fn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Jl?i.applyToHost(n):i instanceof Na&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case fn.Emulated:o=new Jl(u,l,r,this.appId,h,s,a,p,m);break;case fn.ShadowDom:return new Tm(u,l,n,r,s,a,this.nonce,p,m);default:o=new Na(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(K(Dm),K(bm),K(Bg),K(KL),K(We),K(Ii),K(_e),K(Hg),K(Ml,8))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),Ra=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Im[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(rC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(rC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Im[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Im[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Un.DashCase|Un.Important)?e.style.setProperty(n,r,i&Un.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Un.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Gn().getGlobalEventTarget(this.doc,e),!e))throw new j(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function rC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Tm=class extends Ra{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=oC(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=wm(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Na=class extends Ra{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?oC(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Jl=class extends Na{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,n,r,o,s,a,u,l,h),this.contentAttr=QL(h),this.hostAttr=YL(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var ed=class t extends wa{supportsDOMEvents=!0;static makeCurrent(){pm(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=ZL();return n==null?null:JL(n)}resetBaseElement(){Ma=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Sa(document.cookie,e)}},Ma=null;function ZL(){return Ma=Ma||document.head.querySelector("base"),Ma?Ma.getAttribute("href"):null}function JL(t){return new URL(t,document.baseURI).pathname}var XL=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),aC=(()=>{class t extends Aa{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(K(We))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),sC=["alt","control","meta","shift"],eF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tF={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},cC=(()=>{class t extends Aa{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gn().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),sC.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=eF[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),sC.forEach(s=>{if(s!==i){let a=tF[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(K(We))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();function nF(t,e){return Cb(L({rootComponent:t},rF(e)))}function rF(t){return{appProviders:[...cF,...t?.providers??[]],platformProviders:aF}}function iF(){ed.makeCurrent()}function oF(){return new jn}function sF(){return ED(document),document}var aF=[{provide:Ii,useValue:Em},{provide:$g,useValue:iF,multi:!0},{provide:We,useFactory:sF}];var cF=[{provide:Tl,useValue:"root"},{provide:jn,useFactory:oF},{provide:Xl,useClass:aC,multi:!0,deps:[We]},{provide:Xl,useClass:cC,multi:!0,deps:[We]},Sm,bm,Dm,{provide:bo,useExisting:Sm},{provide:Ti,useClass:XL},[]];var Lo=class{},Fo=class{},Yn=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var rd=class{encodeKey(e){return uC(e)}encodeValue(e){return uC(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function uF(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var lF=/%(\d[a-f0-9])/gi,dF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function uC(t){return encodeURIComponent(t).replace(lF,(e,n)=>dF[n]??e)}function td(t){return`${t}`}var Rr=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new rd,e.fromString){if(e.fromObject)throw new j(2805,!1);this.map=uF(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(td):[td(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(td(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(td(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var id=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function hF(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function lC(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function dC(t){return typeof Blob<"u"&&t instanceof Blob}function hC(t){return typeof FormData<"u"&&t instanceof FormData}function fF(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Pa="Content-Type",od="Accept",Pm="X-Request-URL",pC="text/plain",gC="application/json",mC=`${gC}, ${pC}, */*`,xa=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let o;if(hF(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Yn,this.context??=new id,!this.params)this.params=new Rr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||lC(this.body)||dC(this.body)||hC(this.body)||fF(this.body)?this.body:this.body instanceof Rr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||hC(this.body)?null:dC(this.body)?this.body.type||null:lC(this.body)?null:typeof this.body=="string"?pC:this.body instanceof Rr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?gC:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new t(n,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},Nr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Nr||{}),Vo=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new Yn,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},ka=class t extends Vo{constructor(e={}){super(e)}type=Nr.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Oa=class t extends Vo{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Nr.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ar=class extends Vo{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},yC=200,pF=204;function Am(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var gF=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof xa)o=n;else{let u;i.headers instanceof Yn?u=i.headers:u=new Yn(i.headers);let l;i.params&&(i.params instanceof Rr?l=i.params:l=new Rr({fromObject:i.params})),o=new xa(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=G(o).pipe(wr(u=>this.handler.handle(u)));if(n instanceof xa||i.observe==="events")return s;let a=s.pipe(Nt(u=>u instanceof Oa));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ne(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new j(2806,!1);return u.body}));case"blob":return a.pipe(ne(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new j(2807,!1);return u.body}));case"text":return a.pipe(ne(u=>{if(u.body!==null&&typeof u.body!="string")throw new j(2808,!1);return u.body}));case"json":default:return a.pipe(ne(u=>u.body))}case"response":return a;default:throw new j(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Rr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Am(i,r))}post(n,r,i={}){return this.request("POST",n,Am(i,r))}put(n,r,i={}){return this.request("PUT",n,Am(i,r))}static \u0275fac=function(r){return new(r||t)(K(Lo))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),mF=/^\)\]\}',?\n/;function fC(t){if(t.url)return t.url;let e=Pm.toLocaleLowerCase();return t.headers.get(e)}var vC=new B(""),nd=(()=>{class t{fetchImpl=x(Rm,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n));ngZone=x(_e);destroyRef=x(Cr);destroyed=!1;constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0})}handle(n){return new ee(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(Nm,o=>r.error(new Ar({error:o}))),()=>i.abort()})}doRequest(n,r,i){return _(this,null,function*(){let o=this.createRequestInit(n),s;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,L({signal:r},o)));yF(y),i.next({type:Nr.Sent}),s=yield y}catch(y){i.error(new Ar({error:y,status:y.status??0,statusText:y.statusText,url:n.urlWithParams,headers:y.headers}));return}let a=new Yn(s.headers),u=s.statusText,l=fC(s)??n.urlWithParams,h=s.status,p=null;if(n.reportProgress&&i.next(new ka({headers:a,status:h,statusText:u,url:l})),s.body){let y=s.headers.get("content-length"),T=[],R=s.body.getReader(),A=0,O,H,U=typeof Zone<"u"&&Zone.current,de=!1;if(yield this.ngZone.runOutsideAngular(()=>_(this,null,function*(){for(;;){if(this.destroyed){yield R.cancel(),de=!0;break}let{done:oe,value:D}=yield R.read();if(oe)break;if(T.push(D),A+=D.length,n.reportProgress){H=n.responseType==="text"?(H??"")+(O??=new TextDecoder).decode(D,{stream:!0}):void 0;let v=()=>i.next({type:Nr.DownloadProgress,total:y?+y:void 0,loaded:A,partialText:H});U?U.run(v):v()}}})),de){i.complete();return}let Ue=this.concatChunks(T,A);try{let oe=s.headers.get(Pa)??"";p=this.parseBody(n,Ue,oe)}catch(oe){i.error(new Ar({error:oe,headers:new Yn(s.headers),status:s.status,statusText:s.statusText,url:fC(s)??n.urlWithParams}));return}}h===0&&(h=p?yC:0),h>=200&&h<300?(i.next(new Oa({body:p,headers:a,status:h,statusText:u,url:l})),i.complete()):i.error(new Ar({error:p,headers:a,status:h,statusText:u,url:l}))})}parseBody(n,r,i){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace(mF,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((o,s)=>r[o]=s.join(",")),n.headers.has(od)||(r[od]=mC),!n.headers.has(Pa)){let o=n.detectContentTypeHeader();o!==null&&(r[Pa]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),o=0;for(let s of n)i.set(s,o),o+=s.length;return i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),Rm=class{};function Nm(){}function yF(t){t.then(Nm,Nm)}function vF(t,e){return e(t)}function _F(t,e,n){return(r,i)=>tt(n,()=>e(r,o=>t(o,i)))}var _C=new B(""),EF=new B(""),EC=new B("",{providedIn:"root",factory:()=>!0});var sd=(()=>{class t extends Lo{backend;injector;chain=null;pendingTasks=x(zn);contributeToStability=x(EC);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(_C),...this.injector.get(EF,[])]));this.chain=r.reduceRight((i,o)=>_F(i,o,this.injector),vF)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(ni(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(K(Fo),K(et))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();var IF=/^\)\]\}',?\n/,wF=RegExp(`^${Pm}:`,"m");function TF(t){return"responseURL"in t&&t.responseURL?t.responseURL:wF.test(t.getAllResponseHeaders())?t.getResponseHeader(Pm):null}var Mm=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new j(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Se(r.\u0275loadImpl()):G(null)).pipe(Mt(()=>new ee(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((R,A)=>s.setRequestHeader(R,A.join(","))),n.headers.has(od)||s.setRequestHeader(od,mC),!n.headers.has(Pa)){let R=n.detectContentTypeHeader();R!==null&&s.setRequestHeader(Pa,R)}if(n.responseType){let R=n.responseType.toLowerCase();s.responseType=R!=="json"?R:"text"}let a=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let R=s.statusText||"OK",A=new Yn(s.getAllResponseHeaders()),O=TF(s)||n.url;return u=new ka({headers:A,status:s.status,statusText:R,url:O}),u},h=()=>{let{headers:R,status:A,statusText:O,url:H}=l(),U=null;A!==pF&&(U=typeof s.response>"u"?s.responseText:s.response),A===0&&(A=U?yC:0);let de=A>=200&&A<300;if(n.responseType==="json"&&typeof U=="string"){let Ue=U;U=U.replace(IF,"");try{U=U!==""?JSON.parse(U):null}catch(oe){U=Ue,de&&(de=!1,U={error:oe,text:U})}}de?(o.next(new Oa({body:U,headers:R,status:A,statusText:O,url:H||void 0})),o.complete()):o.error(new Ar({error:U,headers:R,status:A,statusText:O,url:H||void 0}))},p=R=>{let{url:A}=l(),O=new Ar({error:R,status:s.status||0,statusText:s.statusText||"Unknown Error",url:A||void 0});o.error(O)},m=!1,y=R=>{m||(o.next(l()),m=!0);let A={type:Nr.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(A.total=R.total),n.responseType==="text"&&s.responseText&&(A.partialText=s.responseText),o.next(A)},T=R=>{let A={type:Nr.UploadProgress,loaded:R.loaded};R.lengthComputable&&(A.total=R.total),o.next(A)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),n.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",T)),s.send(a),o.next({type:Nr.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),n.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",T)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(K(Ti))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),IC=new B(""),DF="XSRF-TOKEN",bF=new B("",{providedIn:"root",factory:()=>DF}),CF="X-XSRF-TOKEN",SF=new B("",{providedIn:"root",factory:()=>CF}),La=class{},AF=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Sa(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(K(We),K(bF))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();function RF(t,e){let n=t.url.toLowerCase();if(!x(IC)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=x(La).getToken(),i=x(SF);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var xm=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(xm||{});function NF(t,e){return{\u0275kind:t,\u0275providers:e}}function MF(...t){let e=[gF,Mm,sd,{provide:Lo,useExisting:sd},{provide:Fo,useFactory:()=>x(vC,{optional:!0})??x(Mm)},{provide:_C,useValue:RF,multi:!0},{provide:IC,useValue:!0},{provide:La,useClass:AF}];for(let n of t)e.push(...n.\u0275providers);return Bn(e)}function PF(){return NF(xm.Fetch,[nd,{provide:vC,useExisting:nd},{provide:Fo,useExisting:nd}])}var wC=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(K(We))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var X="primary",Ya=Symbol("RouteTitle"),Vm=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ci(t){return new Vm(t)}function NC(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function kF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!gn(t[n],e[n]))return!1;return!0}function gn(t,e){let n=t?jm(t):void 0,r=e?jm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!MC(t[i],e[i]))return!1;return!0}function jm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function MC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function PC(t){return t.length>0?t[t.length-1]:null}function xr(t){return vp(t)?t:Ia(t)?Se(Promise.resolve(t)):G(t)}var OF={exact:kC,subset:OC},xC={exact:LF,subset:FF,ignored:()=>!0};function TC(t,e,n){return OF[n.paths](t.root,e.root,n.matrixParams)&&xC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function LF(t,e){return gn(t,e)}function kC(t,e,n){if(!Di(t.segments,e.segments)||!ud(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!kC(t.children[r],e.children[r],n))return!1;return!0}function FF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>MC(t[n],e[n]))}function OC(t,e,n){return LC(t,e,e.segments,n)}function LC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Di(i,n)||e.hasChildren()||!ud(i,n,r))}else if(t.segments.length===n.length){if(!Di(t.segments,n)||!ud(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!OC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Di(t.segments,i)||!ud(t.segments,i,r)||!t.children[X]?!1:LC(t.children[X],e,o,r)}}function ud(t,e,n){return e.every((r,i)=>xC[n](t[i].parameters,r.parameters))}var yn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new me([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ci(this.queryParams),this._queryParamMap}toString(){return UF.serialize(this)}},me=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ld(this)}},Mr=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ci(this.parameters),this._parameterMap}toString(){return VC(this)}};function VF(t,e){return Di(t,e)&&t.every((n,r)=>gn(n.parameters,e[r].parameters))}function Di(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function jF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===X&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==X&&(n=n.concat(e(i,r)))}),n}var Za=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>new Si,providedIn:"root"})}return t})(),Si=class{parse(e){let n=new Bm(e);return new yn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Fa(e.root,!0)}`,r=HF(e.queryParams),i=typeof e.fragment=="string"?`#${BF(e.fragment)}`:"";return`${n}${r}${i}`}},UF=new Si;function ld(t){return t.segments.map(e=>VC(e)).join("/")}function Fa(t,e){if(!t.hasChildren())return ld(t);if(e){let n=t.children[X]?Fa(t.children[X],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==X&&r.push(`${i}:${Fa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=jF(t,(r,i)=>i===X?[Fa(t.children[X],!1)]:[`${i}:${Fa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[X]!=null?`${ld(t)}/${n[0]}`:`${ld(t)}/(${n.join("//")})`}}function FC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ad(t){return FC(t).replace(/%3B/gi,";")}function BF(t){return encodeURI(t)}function Um(t){return FC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dd(t){return decodeURIComponent(t)}function DC(t){return dd(t.replace(/\+/g,"%20"))}function VC(t){return`${Um(t.path)}${$F(t.parameters)}`}function $F(t){return Object.entries(t).map(([e,n])=>`;${Um(e)}=${Um(n)}`).join("")}function HF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ad(n)}=${ad(i)}`).join("&"):`${ad(n)}=${ad(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var zF=/^[^\/()?;#]+/;function km(t){let e=t.match(zF);return e?e[0]:""}var qF=/^[^\/()?;=#]+/;function WF(t){let e=t.match(qF);return e?e[0]:""}var GF=/^[^=?&#]+/;function KF(t){let e=t.match(GF);return e?e[0]:""}var QF=/^[^&#]+/;function YF(t){let e=t.match(QF);return e?e[0]:""}var Bm=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[X]=new me(e,n)),r}parseSegment(){let e=km(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new Mr(dd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=WF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=km(this.remaining);i&&(r=i,this.capture(r))}e[dd(n)]=dd(r)}parseQueryParam(e){let n=KF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=YF(this.remaining);s&&(r=s,this.capture(r))}let i=DC(n),o=DC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=km(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=X);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[X]:new me([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function jC(t){return t.segments.length>0?new me([],{[X]:t}):t}function UC(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=UC(i);if(r===X&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new me(t.segments,e);return ZF(n)}function ZF(t){if(t.numberOfChildren===1&&t.children[X]){let e=t.children[X];return new me(t.segments.concat(e.segments),e.children)}return t}function Pr(t){return t instanceof yn}function BC(t,e,n=null,r=null){let i=$C(t);return HC(i,e,n,r)}function $C(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new me(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=jC(r);return e??i}function HC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Om(i,i,i,n,r);let o=JF(e);if(o.toRoot())return Om(i,i,new me([],{}),n,r);let s=XF(o,i,t),a=s.processChildren?ja(s.segmentGroup,s.index,o.commands):qC(s.segmentGroup,s.index,o.commands);return Om(i,s.segmentGroup,a,n,r)}function fd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ba(t){return typeof t=="object"&&t!=null&&t.outlets}function Om(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=zC(t,e,n);let a=jC(UC(s));return new yn(a,o,i)}function zC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=zC(o,e,n)}),new me(t.segments,r)}var pd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&fd(r[0]))throw new j(4003,!1);let i=r.find(Ba);if(i&&i!==PC(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function JF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new pd(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new pd(n,e,r)}var Bo=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function XF(t,e,n){if(t.isAbsolute)return new Bo(e,!0,0);if(!n)return new Bo(e,!1,NaN);if(n.parent===null)return new Bo(n,!0,0);let r=fd(t.commands[0])?0:1,i=n.segments.length-1+r;return eV(n,i,t.numberOfDoubleDots)}function eV(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new Bo(r,!1,i-o)}function tV(t){return Ba(t[0])?t[0].outlets:{[X]:t}}function qC(t,e,n){if(t??=new me([],{}),t.segments.length===0&&t.hasChildren())return ja(t,e,n);let r=nV(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new me(t.segments.slice(0,r.pathIndex),{});return o.children[X]=new me(t.segments.slice(r.pathIndex),t.children),ja(o,0,i)}else return r.match&&i.length===0?new me(t.segments,{}):r.match&&!t.hasChildren()?$m(t,e,n):r.match?ja(t,0,i):$m(t,e,n)}function ja(t,e,n){if(n.length===0)return new me(t.segments,{});{let r=tV(n),i={};if(Object.keys(r).some(o=>o!==X)&&t.children[X]&&t.numberOfChildren===1&&t.children[X].segments.length===0){let o=ja(t.children[X],e,n);return new me(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=qC(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new me(t.segments,i)}}function nV(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Ba(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!CC(u,l,s))return o;r+=2}else{if(!CC(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function $m(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Ba(o)){let u=rV(o.outlets);return new me(r,u)}if(i===0&&fd(n[0])){let u=t.segments[e];r.push(new Mr(u.path,bC(n[0]))),i++;continue}let s=Ba(o)?o.outlets[X]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&fd(a)?(r.push(new Mr(s,bC(a))),i+=2):(r.push(new Mr(s,{})),i++)}return new me(r,{})}function rV(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=$m(new me([],{}),0,r))}),e}function bC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function CC(t,e,n){return t==n.path&&gn(e,n.parameters)}var hd="imperative",Ge=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ge||{}),xt=class{id;url;constructor(e,n){this.id=e,this.url=n}},Ai=class extends xt{type=Ge.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},vn=class extends xt{urlAfterRedirects;type=Ge.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},St=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(St||{}),$a=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}($a||{}),mn=class extends xt{reason;code;type=Ge.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Zn=class extends xt{reason;code;type=Ge.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Ho=class extends xt{error;target;type=Ge.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ha=class extends xt{urlAfterRedirects;state;type=Ge.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gd=class extends xt{urlAfterRedirects;state;type=Ge.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},md=class extends xt{urlAfterRedirects;state;shouldActivate;type=Ge.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},yd=class extends xt{urlAfterRedirects;state;type=Ge.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vd=class extends xt{urlAfterRedirects;state;type=Ge.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_d=class{route;type=Ge.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ed=class{route;type=Ge.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Id=class{snapshot;type=Ge.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wd=class{snapshot;type=Ge.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Td=class{snapshot;type=Ge.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dd=class{snapshot;type=Ge.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var za=class{},zo=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function iV(t,e){return t.providers&&!t._injector&&(t._injector=jl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function en(t){return t.outlet||X}function oV(t,e){let n=t.filter(r=>en(r)===e);return n.push(...t.filter(r=>en(r)!==e)),n}function Ja(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var bd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ja(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Go(this.rootInjector)}},Go=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new bd(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(K(et))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Cd=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Hm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Hm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=zm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return zm(e,this._root).map(n=>n.value)}};function Hm(t,e){if(t===e.value)return e;for(let n of e.children){let r=Hm(t,n);if(r)return r}return null}function zm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=zm(t,n);if(r.length)return r.unshift(e),r}return[]}var Pt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Uo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var qa=class extends Cd{snapshot;constructor(e,n){super(e),this.snapshot=n,Jm(this,e)}toString(){return this.snapshot.toString()}};function WC(t){let e=sV(t),n=new Je([new Mr("",{})]),r=new Je({}),i=new Je({}),o=new Je({}),s=new Je(""),a=new Jn(n,r,o,s,i,X,t,e.root);return a.snapshot=e.root,new qa(new Pt(a,[]),e)}function sV(t){let e={},n={},r={},i="",o=new bi([],e,r,i,n,X,t,null,{});return new Wa("",new Pt(o,[]))}var Jn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ne(l=>l[Ya]))??G(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ne(e=>Ci(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ne(e=>Ci(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Sd(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),t.params),data:L(L({},e.data),t.data),resolve:L(L(L(L({},t.data),e.data),i?.data),t._resolvedData)}:r={params:L({},t.params),data:L({},t.data),resolve:L(L({},t.data),t._resolvedData??{})},i&&KC(i)&&(r.resolve[Ya]=i.title),r}var bi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ya]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ci(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ci(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Wa=class extends Cd{url;constructor(e,n){super(n),this.url=e,Jm(this,n)}toString(){return GC(this._root)}};function Jm(t,e){e.value._routerState=t,e.children.forEach(n=>Jm(t,n))}function GC(t){let e=t.children.length>0?` { ${t.children.map(GC).join(", ")} } `:"";return`${t.value}${e}`}function Lm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,gn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),gn(e.params,n.params)||t.paramsSubject.next(n.params),kF(e.url,n.url)||t.urlSubject.next(n.url),gn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function qm(t,e){let n=gn(t.params,e.params)&&VF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||qm(t.parent,e.parent))}function KC(t){return typeof t.title=="string"||t.title===null}var QC=new B(""),Xm=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=X;activateEvents=new It;deactivateEvents=new It;attachEvents=new It;detachEvents=new It;routerOutletData=fD(void 0);parentContexts=x(Go);location=x(Ea);changeDetector=x(Bl);inputBinder=x(Md,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Wm(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=wi({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ya]})}return t})(),Wm=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Jn?this.route:e===Go?this.childContexts:e===QC?this.outletData:this.parent.get(e,n)}},Md=new B("");var ey=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=rb({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&dm(0,"router-outlet")},dependencies:[Xm],encapsulation:2})}return t})();function ty(t){let e=t.children&&t.children.map(ty),n=e?ge(L({},t),{children:e}):L({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==X&&(n.component=ey),n}function aV(t,e,n){let r=Ga(t,e._root,n?n._root:void 0);return new qa(r,e)}function Ga(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=cV(t,e,n);return new Pt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ga(t,a)),s}}let r=uV(e.value),i=e.children.map(o=>Ga(t,o));return new Pt(r,i)}}function cV(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ga(t,r,i);return Ga(t,r)})}function uV(t){return new Jn(new Je(t.url),new Je(t.params),new Je(t.queryParams),new Je(t.fragment),new Je(t.data),t.outlet,t.component,t)}var qo=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},YC="ngNavigationCancelingError";function Ad(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Pr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ZC(!1,St.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function ZC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[YC]=!0,n.cancellationCode=e,n}function lV(t){return JC(t)&&Pr(t.url)}function JC(t){return!!t&&t[YC]}var dV=(t,e,n,r)=>ne(i=>(new Gm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Gm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Lm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Uo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Uo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Uo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Uo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Dd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new wd(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Lm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Lm(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Rd=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},$o=class{component;route;constructor(e,n){this.component=e,this.route=n}};function hV(t,e,n){let r=t._root,i=e?e._root:null;return Va(r,i,n,[r.value])}function fV(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ko(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!uT(t)?t:e.get(t):r}function Va(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Uo(e);return t.children.forEach(s=>{pV(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ua(a,n.getContext(s),i)),i}function pV(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=gV(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Rd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Va(t,e,a?a.children:null,r,i):Va(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new $o(a.outlet.component,s))}else s&&Ua(e,a,i),i.canActivateChecks.push(new Rd(r)),o.component?Va(t,null,a?a.children:null,r,i):Va(t,null,n,r,i);return i}function gV(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Di(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Di(t.url,e.url)||!gn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qm(t,e)||!gn(t.queryParams,e.queryParams);case"paramsChange":default:return!qm(t,e)}}function Ua(t,e,n){let r=Uo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ua(s,e.children.getContext(o),n):Ua(s,null,n):Ua(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new $o(e.outlet.component,i)):n.canDeactivateChecks.push(new $o(null,i)):n.canDeactivateChecks.push(new $o(null,i))}function Xa(t){return typeof t=="function"}function mV(t){return typeof t=="boolean"}function yV(t){return t&&Xa(t.canLoad)}function vV(t){return t&&Xa(t.canActivate)}function _V(t){return t&&Xa(t.canActivateChild)}function EV(t){return t&&Xa(t.canDeactivate)}function IV(t){return t&&Xa(t.canMatch)}function XC(t){return t instanceof On||t?.name==="EmptyError"}var cd=Symbol("INITIAL_VALUE");function Wo(){return Mt(t=>ju(t.map(e=>e.pipe(Ln(1),Ip(cd)))).pipe(ne(e=>{for(let n of e)if(n!==!0){if(n===cd)return cd;if(n===!1||wV(n))return n}return!0}),Nt(e=>e!==cd),Ln(1)))}function wV(t){return Pr(t)||t instanceof qo}function TV(t,e){return $e(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?G(ge(L({},n),{guardsResult:!0})):DV(s,r,i,t).pipe($e(a=>a&&mV(a)?bV(r,o,t,e):G(a)),ne(a=>ge(L({},n),{guardsResult:a})))})}function DV(t,e,n,r){return Se(t).pipe($e(i=>NV(i.component,i.route,n,e,r)),Fn(i=>i!==!0,!0))}function bV(t,e,n,r){return Se(e).pipe(wr(i=>lo(SV(i.route.parent,r),CV(i.route,r),RV(t,i.path,n),AV(t,i.route,n))),Fn(i=>i!==!0,!0))}function CV(t,e){return t!==null&&e&&e(new Td(t)),G(!0)}function SV(t,e){return t!==null&&e&&e(new Id(t)),G(!0)}function AV(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return G(!0);let i=r.map(o=>Uu(()=>{let s=Ja(e)??n,a=Ko(o,s),u=vV(a)?a.canActivate(e,t):tt(s,()=>a(e,t));return xr(u).pipe(Fn())}));return G(i).pipe(Wo())}function RV(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>fV(s)).filter(s=>s!==null).map(s=>Uu(()=>{let a=s.guards.map(u=>{let l=Ja(s.node)??n,h=Ko(u,l),p=_V(h)?h.canActivateChild(r,t):tt(l,()=>h(r,t));return xr(p).pipe(Fn())});return G(a).pipe(Wo())}));return G(o).pipe(Wo())}function NV(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return G(!0);let s=o.map(a=>{let u=Ja(e)??i,l=Ko(a,u),h=EV(l)?l.canDeactivate(t,e,n,r):tt(u,()=>l(t,e,n,r));return xr(h).pipe(Fn())});return G(s).pipe(Wo())}function MV(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return G(!0);let o=i.map(s=>{let a=Ko(s,t),u=yV(a)?a.canLoad(e,n):tt(t,()=>a(e,n));return xr(u)});return G(o).pipe(Wo(),eS(r))}function eS(t){return dp(Xe(e=>{if(typeof e!="boolean")throw Ad(t,e)}),ne(e=>e===!0))}function PV(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return G(!0);let o=i.map(s=>{let a=Ko(s,t),u=IV(a)?a.canMatch(e,n):tt(t,()=>a(e,n));return xr(u)});return G(o).pipe(Wo(),eS(r))}var Ka=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Qa=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function jo(t){return uo(new Ka(t))}function xV(t){return uo(new j(4e3,!1))}function kV(t){return uo(ZC(!1,St.GuardRejected))}var Km=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return G(r);if(i.numberOfChildren>1||!i.children[X])return xV(`${e.redirectTo}`);i=i.children[X]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:T,title:R}=i,A=tt(o,()=>a({params:y,data:T,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:R}));if(A instanceof yn)throw new Qa(A);n=A}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Qa(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new yn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new me(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Qm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function OV(t,e,n,r,i){let o=tS(t,e,n);return o.matched?(r=iV(e,r),PV(r,e,n,i).pipe(ne(s=>s===!0?o:L({},Qm)))):G(o)}function tS(t,e,n){if(e.path==="**")return LV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?L({},Qm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||NC)(n,t,e);if(!i)return L({},Qm);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function LV(t){return{matched:!0,parameters:t.length>0?PC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function SC(t,e,n,r){return n.length>0&&jV(t,n,r)?{segmentGroup:new me(e,VV(r,new me(n,t.children))),slicedSegments:[]}:n.length===0&&UV(t,n,r)?{segmentGroup:new me(t.segments,FV(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new me(t.segments,t.children),slicedSegments:n}}function FV(t,e,n,r){let i={};for(let o of n)if(Pd(t,e,o)&&!r[en(o)]){let s=new me([],{});i[en(o)]=s}return L(L({},r),i)}function VV(t,e){let n={};n[X]=e;for(let r of t)if(r.path===""&&en(r)!==X){let i=new me([],{});n[en(r)]=i}return n}function jV(t,e,n){return n.some(r=>Pd(t,e,r)&&en(r)!==X)}function UV(t,e,n){return n.some(r=>Pd(t,e,r))}function Pd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function BV(t,e,n){return e.length===0&&!t.children[n]}var Ym=class{};function $V(t,e,n,r,i,o,s="emptyOnly"){return new Zm(t,e,n,r,i,s,o).recognize()}var HV=31,Zm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Km(this.urlSerializer,this.urlTree)}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=SC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ne(({children:n,rootSnapshot:r})=>{let i=new Pt(r,n),o=new Wa("",i),s=BC(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new bi([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),X,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,X,n).pipe(ne(r=>({children:r,rootSnapshot:n})),Ir(r=>{if(r instanceof Qa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ka?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(ne(s=>s instanceof Pt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Se(o).pipe(wr(s=>{let a=r.children[s],u=oV(n,s);return this.processSegmentGroup(e,u,a,s,i)}),Ep((s,a)=>(s.push(...a),s)),Tr(null),_p(),$e(s=>{if(s===null)return jo(r);let a=nS(s);return zV(a),G(a)}))}processSegment(e,n,r,i,o,s,a){return Se(n).pipe(wr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(Ir(l=>{if(l instanceof Ka)return G(null);throw l}))),Fn(u=>!!u),Ir(u=>{if(XC(u))return BV(r,i,o)?G(new Ym):jo(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return en(r)!==s&&(s===X||!Pd(i,o,r))?jo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):jo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=tS(n,i,o);if(!u)return jo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>HV&&(this.allowRedirects=!1));let y=new bi(o,l,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,AC(i),en(i),i.component??i._loadedComponent??null,i,RC(i)),T=Sd(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(T.params),y.data=Object.freeze(T.data);let R=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,R).pipe($e(A=>this.processSegment(e,r,n,A.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=OV(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Mt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Mt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,T=new bi(m,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,AC(r),en(r),r.component??r._loadedComponent??null,r,RC(r)),R=Sd(T,s,this.paramsInheritanceStrategy);T.params=Object.freeze(R.params),T.data=Object.freeze(R.data);let{segmentGroup:A,slicedSegments:O}=SC(n,m,y,l);if(O.length===0&&A.hasChildren())return this.processChildren(h,l,A,T).pipe(ne(U=>new Pt(T,U)));if(l.length===0&&O.length===0)return G(new Pt(T,[]));let H=en(r)===o;return this.processSegment(h,l,A,O,H?X:o,!0,T).pipe(ne(U=>new Pt(T,U instanceof Pt?[U]:[])))}))):jo(n)))}getChildConfig(e,n,r){return n.children?G({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?G({routes:n._loadedRoutes,injector:n._loadedInjector}):MV(e,n,r,this.urlSerializer).pipe($e(i=>i?this.configLoader.loadChildren(e,n).pipe(Xe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):kV(n))):G({routes:[],injector:e})}};function zV(t){t.sort((e,n)=>e.value.outlet===X?-1:n.value.outlet===X?1:e.value.outlet.localeCompare(n.value.outlet))}function qV(t){let e=t.value.routeConfig;return e&&e.path===""}function nS(t){let e=[],n=new Set;for(let r of t){if(!qV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=nS(r.children);e.push(new Pt(r.value,i))}return e.filter(r=>!n.has(r))}function AC(t){return t.data||{}}function RC(t){return t.resolve||{}}function WV(t,e,n,r,i,o){return $e(s=>$V(t,e,n,r,s.extractedUrl,i,o).pipe(ne(({state:a,tree:u})=>ge(L({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function GV(t,e){return $e(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return G(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of rS(u))s.add(l);let a=0;return Se(s).pipe(wr(u=>o.has(u)?KV(u,r,t,e):(u.data=Sd(u,u.parent,t).resolve,G(void 0))),Xe(()=>a++),ho(1),$e(u=>a===s.size?G(n):vt))})}function rS(t){let e=t.children.map(n=>rS(n)).flat();return[t,...e]}function KV(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!KC(i)&&(o[Ya]=i.title),QV(o,t,e,r).pipe(ne(s=>(t._resolvedData=s,t.data=Sd(t,t.parent,n).resolve,null)))}function QV(t,e,n,r){let i=jm(t);if(i.length===0)return G({});let o={};return Se(i).pipe($e(s=>YV(t[s],e,n,r).pipe(Fn(),Xe(a=>{if(a instanceof qo)throw Ad(new Si,a);o[s]=a}))),ho(1),ne(()=>o),Ir(s=>XC(s)?vt:uo(s)))}function YV(t,e,n,r){let i=Ja(e)??r,o=Ko(t,i),s=o.resolve?o.resolve(e,n):tt(i,()=>o(e,n));return xr(s)}function Fm(t){return Mt(e=>{let n=t(e);return n?Se(n).pipe(ne(()=>e)):G(e)})}var ny=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===X);return r}getResolvedTitleForRoute(n){return n.data[Ya]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>x(iS),providedIn:"root"})}return t})(),iS=(()=>{class t extends ny{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(K(wC))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ec=new B("",{providedIn:"root",factory:()=>({})}),tc=new B(""),oS=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(Tb);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return G(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=xr(n.loadComponent()).pipe(ne(aS),Xe(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),ni(()=>{this.componentLoaders.delete(n)})),i=new oo(r,()=>new He).pipe(io());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=sS(r,this.compiler,n,this.onLoadEndListener).pipe(ni(()=>{this.childrenLoaders.delete(r)})),s=new oo(o,()=>new He).pipe(io());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sS(t,e,n,r){return xr(t.loadChildren()).pipe(ne(aS),$e(i=>i instanceof cm||Array.isArray(i)?G(i):Se(e.compileModuleAsync(i))),ne(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(tc,[],{optional:!0,self:!0}).flat()),{routes:s.map(ty),injector:o}}))}function ZV(t){return t&&typeof t=="object"&&"default"in t}function aS(t){return ZV(t)?t.default:t}var xd=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>x(JV),providedIn:"root"})}return t})(),JV=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),cS=new B("");var uS=new B(""),lS=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new He;transitionAbortSubject=new He;configLoader=x(oS);environmentInjector=x(et);destroyRef=x(Cr);urlSerializer=x(Za);rootContexts=x(Go);location=x(Oo);inputBindingEnabled=x(Md,{optional:!0})!==null;titleStrategy=x(ny);options=x(ec,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(xd);createViewTransition=x(cS,{optional:!0});navigationErrorHandler=x(uS,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>G(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new _d(i)),r=i=>this.events.next(new Ed(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ge(L({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new Je(null),this.transitions.pipe(Nt(r=>r!==null),Mt(r=>{let i=!1,o=!1;return G(r).pipe(Mt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",St.SupersededByNewNavigation),vt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ge(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&u!=="reload"){let l="";return this.events.next(new Zn(s.id,this.urlSerializer.serialize(s.rawUrl),l,$a.IgnoredSameUrlNavigation)),s.resolve(!1),vt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return G(s).pipe(Mt(l=>(this.events.next(new Ai(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?vt:Promise.resolve(l))),WV(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Xe(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=ge(L({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new Ha(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:m,extras:y}=s,T=new Ai(l,this.urlSerializer.serialize(h),p,m);this.events.next(T);let R=WC(this.rootComponentType).snapshot;return this.currentTransition=r=ge(L({},s),{targetSnapshot:R,urlAfterRedirects:h,extras:ge(L({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,G(r)}else{let l="";return this.events.next(new Zn(s.id,this.urlSerializer.serialize(s.extractedUrl),l,$a.IgnoredByUrlHandlingStrategy)),s.resolve(!1),vt}}),Xe(s=>{let a=new gd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ne(s=>(this.currentTransition=r=ge(L({},s),{guards:hV(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),TV(this.environmentInjector,s=>this.events.next(s)),Xe(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Ad(this.urlSerializer,s.guardsResult);let a=new md(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Nt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",St.GuardRejected),!1)),Fm(s=>{if(s.guards.canActivateChecks.length!==0)return G(s).pipe(Xe(a=>{let u=new yd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Mt(a=>{let u=!1;return G(a).pipe(GV(this.paramsInheritanceStrategy,this.environmentInjector),Xe({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",St.NoDataFromResolver)}}))}),Xe(a=>{let u=new vd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Fm(s=>{let a=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(Xe(h=>{u.component=h}),ne(()=>{})));for(let h of u.children)l.push(...a(h));return l};return ju(a(s.targetSnapshot.root)).pipe(Tr(null),Ln(1))}),Fm(()=>this.afterPreactivation()),Mt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?Se(u).pipe(ne(()=>r)):G(r)}),ne(s=>{let a=aV(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ge(L({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Xe(()=>{this.events.next(new za)}),dV(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Ln(1),Xe({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new vn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),wp(this.transitionAbortSubject.pipe(Xe(s=>{throw s}))),ni(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",St.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ir(s=>{if(this.destroyed)return r.resolve(!1),vt;if(o=!0,JC(s))this.events.next(new mn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),lV(s)?this.events.next(new zo(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Ho(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=tt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof qo){let{message:l,cancellationCode:h}=Ad(this.urlSerializer,u);this.events.next(new mn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new zo(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return vt}))}))}cancelNavigationTransition(n,r,i){let o=new mn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function XV(t){return t!==hd}var dS=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>x(e2),providedIn:"root"})}return t})(),Nd=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},e2=(()=>{class t extends Nd{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Lg(t)))(i||t)}})();static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hS=(()=>{class t{urlSerializer=x(Za);options=x(ec,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x(Oo);urlHandlingStrategy=x(xd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new yn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof yn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=WC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>x(t2),providedIn:"root"})}return t})(),t2=(()=>{class t extends hS{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Ai?this.updateStateMemento():n instanceof Zn?this.commitTransition(r):n instanceof Ha?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof za?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof mn&&(n.code===St.GuardRejected||n.code===St.NoDataFromResolver)?this.restoreHistory(r):n instanceof Ho?this.restoreHistory(r,!0):n instanceof vn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,u=L(L({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",u)}else{let a=L(L({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Lg(t)))(i||t)}})();static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ry(t,e){t.events.pipe(Nt(n=>n instanceof vn||n instanceof mn||n instanceof Ho||n instanceof Zn),ne(n=>n instanceof vn||n instanceof Zn?0:(n instanceof mn?n.code===St.Redirect||n.code===St.SupersededByNewNavigation:!1)?2:1),Nt(n=>n!==2),Ln(1)).subscribe(()=>{e()})}var n2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},r2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},nc=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x(ub);stateManager=x(hS);options=x(ec,{optional:!0})||{};pendingTasks=x(zn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(lS);urlSerializer=x(Za);location=x(Oo);urlHandlingStrategy=x(xd);_events=new He;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(dS);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(tc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(Md,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Me;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof mn&&r.code!==St.Redirect&&r.code!==St.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof vn)this.navigated=!0;else if(r instanceof zo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||XV(i.source)},s);this.scheduleNavigation(a,hd,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}o2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),hd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=L({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(ty),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=$C(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return HC(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Pr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,hd,null,r)}navigate(n,r={skipLocationChange:!1}){return i2(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=L({},n2):r===!1?i=L({},r2):i=r,Pr(n))return TC(this.currentUrlTree,n,i);let o=this.parseUrl(n);return TC(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return ry(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function i2(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}function o2(t){return!(t instanceof za)&&!(t instanceof zo)}var fS=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new He;constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof vn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Pr(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:SD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Pr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(qe(nc),qe(Jn),Fg("tabindex"),qe(Vl),qe(_a),qe(ko))};static \u0275dir=wi({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&hm("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&lm("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",$l],skipLocationChange:[2,"skipLocationChange","skipLocationChange",$l],replaceUrl:[2,"replaceUrl","replaceUrl",$l],routerLink:"routerLink"},features:[ya]})}return t})();var a2=new B("");function c2(t,...e){return Bn([{provide:tc,multi:!0,useValue:t},[],{provide:Jn,useFactory:u2,deps:[nc]},{provide:um,multi:!0,useFactory:l2},e.map(n=>n.\u0275providers)])}function u2(t){return t.routerState.root}function l2(){let t=x(gt);return e=>{let n=t.get(mi);if(e!==n.components[0])return;let r=t.get(nc),i=t.get(d2);t.get(h2)===1&&r.initialNavigation(),t.get(f2,null,te.Optional)?.setUpPreloading(),t.get(a2,null,te.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var d2=new B("",{factory:()=>new He}),h2=new B("",{providedIn:"root",factory:()=>1});var f2=new B("");var pS=()=>{};var yS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},p2=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},kd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):p2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new oy;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let T=l<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},oy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},g2=function(t){let e=yS(t);return kd.encodeByteArray(e,!0)},ic=function(t){return g2(t).replace(/\./g,"")},Od=function(t){try{return kd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ay(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var m2=()=>ay().__FIREBASE_DEFAULTS__,y2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},v2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Od(t[1]);return e&&JSON.parse(e)},Ld=()=>{try{return pS()||m2()||y2()||v2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cy=t=>{var e,n;return(n=(e=Ld())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},vS=t=>{let e=cy(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},uy=()=>{var t;return(t=Ld())===null||t===void 0?void 0:t.config},ly=t=>{var e;return(e=Ld())===null||e===void 0?void 0:e[`_${t}`]};var Ri=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function kr(t){return t.endsWith(".cloudworkstations.dev")}function Fd(t){return _(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function _S(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ic(JSON.stringify(n)),ic(JSON.stringify(s)),""].join(".")}var rc={};function _2(){let t={prod:[],emulator:[]};for(let e of Object.keys(rc))rc[e]?t.emulator.push(e):t.prod.push(e);return t}function E2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var gS=!1;function Vd(t,e){if(typeof window>"u"||typeof document>"u"||!kr(window.location.host)||rc[t]===e||rc[t]||gS)return;rc[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=_2().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{gS=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=E2(r),y=n("text"),T=document.getElementById(y)||document.createElement("span"),R=n("learnmore"),A=document.getElementById(R)||document.createElement("a"),O=n("preprendIcon"),H=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let U=m.element;a(U),h(A,R);let de=l();u(H,O),U.append(H,T,A,de),document.body.appendChild(U)}o?(T.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ES(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function I2(){var t;let e=(t=Ld())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wS(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DS(){let t=Ke();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bS(){return!I2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oc(){try{return typeof indexedDB=="object"}catch{return!1}}function CS(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var w2="FirebaseError",kt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=w2,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tn.prototype.create)}},tn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?T2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new kt(i,a,r)}};function T2(t,e){return t.replace(D2,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var D2=/\{\$([^}]+)}/g;function SS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _n(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(mS(o)&&mS(s)){if(!_n(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function mS(t){return t!==null&&typeof t=="object"}function Qo(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yo(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Zo(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function AS(t,e){let n=new sy(t,e);return n.subscribe.bind(n)}var sy=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");b2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=iy),i.error===void 0&&(i.error=iy),i.complete===void 0&&(i.complete=iy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function b2(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function iy(){}var bK=4*60*60*1e3;function Ae(t){return t&&t._delegate?t._delegate:t}var mt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ni="[DEFAULT]";var dy=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Ri;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(S2(e))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ni){return this.instances.has(e)}getOptions(e=Ni){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:C2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ni){return this.component?this.component.multipleInstances?e:Ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function C2(t){return t===Ni?void 0:t}function S2(t){return t.instantiationMode==="EAGER"}var jd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new dy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var A2=[],se=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(se||{}),R2={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},N2=se.INFO,M2={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},P2=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=M2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},En=class{constructor(e){this.name=e,this._logLevel=N2,this._logHandler=P2,this._userLogHandler=null,A2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?R2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}};var x2=(t,e)=>e.some(n=>t instanceof n),RS,NS;function k2(){return RS||(RS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O2(){return NS||(NS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var MS=new WeakMap,fy=new WeakMap,PS=new WeakMap,hy=new WeakMap,gy=new WeakMap;function L2(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(In(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&MS.set(n,t)}).catch(()=>{}),gy.set(e,t),e}function F2(t){if(fy.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});fy.set(t,e)}var py={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return In(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xS(t){py=t(py)}function V2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ud(this),e,...n);return PS.set(r,e.sort?e.sort():[e]),In(r)}:O2().includes(t)?function(...e){return t.apply(Ud(this),e),In(MS.get(this))}:function(...e){return In(t.apply(Ud(this),e))}}function j2(t){return typeof t=="function"?V2(t):(t instanceof IDBTransaction&&F2(t),x2(t,k2())?new Proxy(t,py):t)}function In(t){if(t instanceof IDBRequest)return L2(t);if(hy.has(t))return hy.get(t);let e=j2(t);return e!==t&&(hy.set(t,e),gy.set(e,t)),e}var Ud=t=>gy.get(t);function OS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=In(s);return r&&s.addEventListener("upgradeneeded",u=>{r(In(s.result),u.oldVersion,u.newVersion,In(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var U2=["get","getKey","getAll","getAllKeys","count"],B2=["put","add","delete","clear"],my=new Map;function kS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(my.get(e))return my.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=B2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||U2.includes(n)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return my.set(e,o),o}xS(t=>ge(L({},t),{get:(e,n,r)=>kS(e,n)||t.get(e,n,r),has:(e,n)=>!!kS(e,n)||t.has(e,n)}));var vy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($2(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function $2(t){let e=t.getComponent();return e?.type==="VERSION"}var _y="@firebase/app",LS="0.13.1";var Xn=new En("@firebase/app"),H2="@firebase/app-compat",z2="@firebase/analytics-compat",q2="@firebase/analytics",W2="@firebase/app-check-compat",G2="@firebase/app-check",K2="@firebase/auth",Q2="@firebase/auth-compat",Y2="@firebase/database",Z2="@firebase/data-connect",J2="@firebase/database-compat",X2="@firebase/functions",ej="@firebase/functions-compat",tj="@firebase/installations",nj="@firebase/installations-compat",rj="@firebase/messaging",ij="@firebase/messaging-compat",oj="@firebase/performance",sj="@firebase/performance-compat",aj="@firebase/remote-config",cj="@firebase/remote-config-compat",uj="@firebase/storage",lj="@firebase/storage-compat",dj="@firebase/firestore",hj="@firebase/ai",fj="@firebase/firestore-compat",pj="firebase",gj="11.9.0";var Ey="[DEFAULT]",mj={[_y]:"fire-core",[H2]:"fire-core-compat",[q2]:"fire-analytics",[z2]:"fire-analytics-compat",[G2]:"fire-app-check",[W2]:"fire-app-check-compat",[K2]:"fire-auth",[Q2]:"fire-auth-compat",[Y2]:"fire-rtdb",[Z2]:"fire-data-connect",[J2]:"fire-rtdb-compat",[X2]:"fire-fn",[ej]:"fire-fn-compat",[tj]:"fire-iid",[nj]:"fire-iid-compat",[rj]:"fire-fcm",[ij]:"fire-fcm-compat",[oj]:"fire-perf",[sj]:"fire-perf-compat",[aj]:"fire-rc",[cj]:"fire-rc-compat",[uj]:"fire-gcs",[lj]:"fire-gcs-compat",[dj]:"fire-fst",[fj]:"fire-fst-compat",[hj]:"fire-vertex","fire-js":"fire-js",[pj]:"fire-js-all"};var sc=new Map,yj=new Map,Iy=new Map;function FS(t,e){try{t.container.addComponent(e)}catch(n){Xn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nn(t){let e=t.name;if(Iy.has(e))return Xn.debug(`There were multiple attempts to register component ${e}.`),!1;Iy.set(e,t);for(let n of sc.values())FS(n,t);for(let n of yj.values())FS(n,t);return!0}function Jo(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yt(t){return t==null?!1:t.settings!==void 0}var vj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Or=new tn("app","Firebase",vj);var wy=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}};var Lr=gj;function by(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Ey,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Or.create("bad-app-name",{appName:String(i)});if(n||(n=uy()),!n)throw Or.create("no-options");let o=sc.get(i);if(o){if(_n(n,o.options)&&_n(r,o.config))return o;throw Or.create("duplicate-app",{appName:i})}let s=new jd(i);for(let u of Iy.values())s.addComponent(u);let a=new wy(n,r,s);return sc.set(i,a),a}function Mi(t=Ey){let e=sc.get(t);if(!e&&t===Ey&&uy())return by();if(!e)throw Or.create("no-app",{appName:t});return e}function Bd(){return Array.from(sc.values())}function Le(t,e,n){var r;let i=(r=mj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xn.warn(a.join(" "));return}nn(new mt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var _j="firebase-heartbeat-database",Ej=1,ac="firebase-heartbeat-store",yy=null;function BS(){return yy||(yy=OS(_j,Ej,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ac)}catch(n){console.warn(n)}}}}).catch(t=>{throw Or.create("idb-open",{originalErrorMessage:t.message})})),yy}function Ij(t){return _(this,null,function*(){try{let n=(yield BS()).transaction(ac),r=yield n.objectStore(ac).get($S(t));return yield n.done,r}catch(e){if(e instanceof kt)Xn.warn(e.message);else{let n=Or.create("idb-get",{originalErrorMessage:e?.message});Xn.warn(n.message)}}})}function VS(t,e){return _(this,null,function*(){try{let r=(yield BS()).transaction(ac,"readwrite");yield r.objectStore(ac).put(e,$S(t)),yield r.done}catch(n){if(n instanceof kt)Xn.warn(n.message);else{let r=Or.create("idb-set",{originalErrorMessage:n?.message});Xn.warn(r.message)}}})}function $S(t){return`${t.name}!${t.options.appId}`}var wj=1024,Tj=30,Ty=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Dy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=jS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Tj){let s=bj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Xn.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=jS(),{heartbeatsToSend:r,unsentEntries:i}=Dj(this._heartbeatsCache.heartbeats),o=ic(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Xn.warn(n),""}})}};function jS(){return new Date().toISOString().substring(0,10)}function Dj(t,e=wj){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),US(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),US(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Dy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return oc()?CS().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Ij(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return VS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return VS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function US(t){return ic(JSON.stringify({version:2,heartbeats:t})).length}function bj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function Cj(t){nn(new mt("platform-logger",e=>new vy(e),"PRIVATE")),nn(new mt("heartbeat",e=>new Ty(e),"PRIVATE")),Le(_y,LS,t),Le(_y,LS,"esm2017"),Le("fire-js","")}Cj("");var Sj="firebase",Aj="11.9.1";Le(Sj,Aj,"app");function i0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var o0=i0,s0=new tn("auth","Firebase",i0());var Gd=new En("@firebase/auth");function Rj(t,...e){Gd.logLevel<=se.WARN&&Gd.warn(`Auth (${Lr}): ${t}`,...e)}function Hd(t,...e){Gd.logLevel<=se.ERROR&&Gd.error(`Auth (${Lr}): ${t}`,...e)}function Ht(t,...e){throw Gy(t,...e)}function rn(t,...e){return Gy(t,...e)}function Wy(t,e,n){let r=Object.assign(Object.assign({},o0()),{[e]:n});return new tn("auth","Firebase",r).create(e,{appName:t.name})}function nr(t){return Wy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nj(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ht(t,"argument-error"),Wy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return s0.create(t,...e)}function W(t,e,...n){if(!t)throw Gy(e,...n)}function er(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Hd(e),new Error(e)}function rr(t,e){t||er(e)}function Kd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function a0(){return HS()==="http:"||HS()==="https:"}function HS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Mj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(a0()||wS()||"connection"in navigator)?navigator.onLine:!0}function Pj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Pi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,rr(n>e,"Short delay should be less than long delay!"),this.isMobile=ES()||TS()}get(){return Mj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ky(t,e){rr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Qd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var xj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var kj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Oj=new Pi(3e4,6e4);function ir(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function or(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){return c0(t,i,()=>_(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Qo(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return IS()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&kr(t.emulatorConfig.host)&&(y.credentials="include"),Qd.fetch()(yield u0(t,t.config.apiHost,n,p),y)}))})}function c0(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},xj),e);try{let i=new Ay(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw $d(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw $d(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw $d(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw $d(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Wy(t,h,l);Ht(t,h)}}catch(i){if(i instanceof kt)throw i;Ht(t,"network-request-failed",{message:String(i)})}})}function mc(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield or(t,e,n,r,i);return"mfaPendingCredential"in l&&Ht(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function u0(t,e,n,r){return _(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?Ky(t.config,i):`${t.config.apiScheme}://${i}`;return kj.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function Lj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Ay=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rn(this.auth,"network-request-failed")),Oj.get())})}};function $d(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=rn(t,e,r);return i.customData._tokenResponse=n,i}function zS(t){return t!==void 0&&t.enterprise!==void 0}var Ry=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Lj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function Fj(t,e){return _(this,null,function*(){return or(t,"GET","/v2/recaptchaConfig",ir(t,e))})}function Vj(t,e){return _(this,null,function*(){return or(t,"POST","/v1/accounts:delete",e)})}function Yd(t,e){return _(this,null,function*(){return or(t,"POST","/v1/accounts:lookup",e)})}function uc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Qy(t,e=!1){return _(this,null,function*(){let n=Ae(t),r=yield n.getIdToken(e),i=Yy(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:uc(Cy(i.auth_time)),issuedAtTime:uc(Cy(i.iat)),expirationTime:uc(Cy(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Cy(t){return Number(t)*1e3}function Yy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Hd("JWT malformed, contained fewer than 3 sections"),null;try{let i=Od(n);return i?JSON.parse(i):(Hd("Failed to decode base64 JWT payload"),null)}catch(i){return Hd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function qS(t){let e=Yy(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function dc(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof kt&&jj(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function jj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Ny=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var hc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=uc(this.lastLoginAt),this.creationTime=uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Zd(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield dc(t,Yd(n,{idToken:r}));W(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?l0(o.providerUserInfo):[],a=Uj(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new hc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function Zy(t){return _(this,null,function*(){let e=Ae(t);yield Zd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Uj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function l0(t){return t.map(e=>{var{providerId:n}=e,r=bu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Bj(t,e){return _(this,null,function*(){let n=yield c0(t,{},()=>_(null,null,function*(){let r=Qo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield u0(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return t.emulatorConfig&&kr(t.emulatorConfig.host)&&(u.credentials="include"),Qd.fetch()(s,u)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function $j(t,e){return _(this,null,function*(){return or(t,"POST","/v2/accounts:revokeToken",ir(t,e))})}var lc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){W(e.length!==0,"internal-error");let n=qS(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Bj(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(W(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(W(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return er("not implemented")}};function Fr(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Vr=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=bu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ny(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new hc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield dc(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Qy(this,e)}reload(){return Zy(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Zd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(yt(this.auth.app))return Promise.reject(nr(this.auth));let e=yield this.getIdToken();return yield dc(this,Vj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,T=(s=n.photoURL)!==null&&s!==void 0?s:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,O=(l=n.createdAt)!==null&&l!==void 0?l:void 0,H=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:U,emailVerified:de,isAnonymous:Ue,providerData:oe,stsTokenManager:D}=n;W(U&&D,e,"internal-error");let v=lc.fromJSON(this.name,D);W(typeof U=="string",e,"internal-error"),Fr(p,e.name),Fr(m,e.name),W(typeof de=="boolean",e,"internal-error"),W(typeof Ue=="boolean",e,"internal-error"),Fr(y,e.name),Fr(T,e.name),Fr(R,e.name),Fr(A,e.name),Fr(O,e.name),Fr(H,e.name);let I=new t({uid:U,auth:e,email:m,emailVerified:de,displayName:p,isAnonymous:Ue,photoURL:T,phoneNumber:y,tenantId:R,stsTokenManager:v,createdAt:O,lastLoginAt:H});return oe&&Array.isArray(oe)&&(I.providerData=oe.map(w=>Object.assign({},w))),A&&(I._redirectEventId=A),I}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new lc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Zd(o),o})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];W(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?l0(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new lc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new hc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var WS=new Map;function tr(t){rr(t instanceof Function,"Expected a class definition");let e=WS.get(t);return e?(rr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,WS.set(t,e),e)}var Hj=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),My=Hj;function zd(t,e,n){return`firebase:${t}:${e}:${n}`}var Jd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=zd(this.userKey,i.apiKey,o),this.fullPersistenceKey=zd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Yd(this.auth,{idToken:e}).catch(()=>{});return n?Vr._fromGetAccountInfoResponse(this.auth,n,e):null}return Vr._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(tr(My),e,r);let i=(yield Promise.all(n.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||tr(My),s=zd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield Yd(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield Vr._fromGetAccountInfoResponse(e,m,h)}else p=Vr._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function GS(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(p0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(d0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(m0(e))return"Blackberry";if(y0(e))return"Webos";if(h0(e))return"Safari";if((e.includes("chrome/")||f0(e))&&!e.includes("edge/"))return"Chrome";if(g0(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function d0(t=Ke()){return/firefox\//i.test(t)}function h0(t=Ke()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function f0(t=Ke()){return/crios\//i.test(t)}function p0(t=Ke()){return/iemobile/i.test(t)}function g0(t=Ke()){return/android/i.test(t)}function m0(t=Ke()){return/blackberry/i.test(t)}function y0(t=Ke()){return/webos/i.test(t)}function Jy(t=Ke()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zj(t=Ke()){var e;return Jy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qj(){return DS()&&document.documentMode===10}function v0(t=Ke()){return Jy(t)||g0(t)||y0(t)||m0(t)||/windows phone/i.test(t)||p0(t)}function _0(t,e=[]){let n;switch(t){case"Browser":n=GS(Ke());break;case"Worker":n=`${GS(Ke())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lr}/${r}`}var Py=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Wj(n){return _(this,arguments,function*(t,e={}){return or(t,"GET","/v2/passwordPolicy",ir(t,e))})}var Gj=6,xy=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Gj,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var ky=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xd(this),this.idTokenSubscription=new Xd(this),this.beforeStateQueue=new Py(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=tr(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Jd.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield Yd(this,{idToken:e}),r=yield Vr._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(yt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Zd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Pj()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(yt(this.app))return Promise.reject(nr(this));let n=e?Ae(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return yt(this.app)?Promise.reject(nr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return yt(this.app)?Promise.reject(nr(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(tr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield Wj(this),n=new xy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield $j(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&tr(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=yield Jd.create(this,[tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;if(yt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Rj(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function jr(t){return Ae(t)}var Xd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=AS(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ch={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Kj(t){ch=t}function E0(t){return ch.loadJS(t)}function Qj(){return ch.recaptchaEnterpriseScript}function Yj(){return ch.gapiScript}function I0(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Oy=class{constructor(){this.enterprise=new Ly}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},Ly=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var Zj="recaptcha-enterprise",w0="NO_RECAPTCHA",Fy=class{constructor(e){this.type=Zj,this.auth=jr(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(null,null,function*(){Fj(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Ry(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;zS(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(w0)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Oy().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&zS(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Qj();u.length!==0&&(u+=a),E0(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function cc(t,e,n,r=!1,i=!1){return _(this,null,function*(){let o=new Fy(t),s;if(i)s=w0;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Vy(t,e,n,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield cc(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(a=>_(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield cc(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield cc(t,e,n);return r(t,a).catch(u=>_(null,null,function*(){var l;if(((l=t._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let h=yield cc(t,e,n,!1,!0);return r(t,h)}return Promise.reject(u)}))}else{let a=yield cc(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")})}function Xy(t,e){let n=Jo(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(_n(o,e??{}))return i;Ht(i,"already-initialized")}return n.initialize({options:e})}function Jj(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(tr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function ev(t,e,n){let r=jr(t);W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=T0(e),{host:s,port:a}=Xj(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){W(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),W(_n(l,r.config.emulator)&&_n(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,kr(s)?(Fd(`${o}//${s}${u}`),Vd("Auth",!0)):i||eU()}function T0(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Xj(t){let e=T0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:KS(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:KS(s)}}}function KS(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function eU(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var es=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,n){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}};function tU(t,e){return _(this,null,function*(){return or(t,"POST","/v1/accounts:signUp",e)})}function nU(t,e){return _(this,null,function*(){return mc(t,"POST","/v1/accounts:signInWithPassword",ir(t,e))})}function rU(t,e){return _(this,null,function*(){return mc(t,"POST","/v1/accounts:signInWithEmailLink",ir(t,e))})}function iU(t,e){return _(this,null,function*(){return mc(t,"POST","/v1/accounts:signInWithEmailLink",ir(t,e))})}var fc=class t extends es{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vy(e,n,"signInWithPassword",nU,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return rU(e,{email:this._email,oobCode:this._password});default:Ht(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vy(e,r,"signUpPassword",tU,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return iU(e,{idToken:n,email:this._email,oobCode:this._password});default:Ht(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Xo(t,e){return _(this,null,function*(){return mc(t,"POST","/v1/accounts:signInWithIdp",ir(t,e))})}var oU="http://localhost",eh=class t extends es{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ht("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=bu(n,["providerId","signInMethod"]);if(!r||!i)return null;let s=new t(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let n=this.buildRequest();return Xo(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,Xo(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Xo(e,n)}buildRequest(){let e={requestUri:oU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qo(n)}return e}};function sU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aU(t){let e=Yo(Zo(t)).link,n=e?Yo(Zo(e)).deep_link_id:null,r=Yo(Zo(t)).deep_link_id;return(r?Yo(Zo(r)).link:null)||r||n||e||t}var th=class t{constructor(e){var n,r,i,o,s,a;let u=Yo(Zo(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=sU((i=u.mode)!==null&&i!==void 0?i:null);W(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=aU(e);try{return new t(n)}catch{return null}}};var D0=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return fc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=th.parseLink(r);return W(i,"argument-error"),fc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),pc=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var nh=class extends pc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var cU=(()=>{class t extends nh{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return eh._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();function uU(t,e){return _(this,null,function*(){return mc(t,"POST","/v1/accounts:signUp",ir(t,e))})}var ts=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let o=yield Vr._fromIdTokenResponse(e,r,i),s=QS(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=QS(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function QS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var jy=class t extends kt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function b0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?jy._fromErrorAndOperation(t,o,e,r):o})}function lU(t,e,n=!1){return _(this,null,function*(){let r=yield dc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ts._forOperation(t,"link",r)})}function dU(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(yt(r.app))return Promise.reject(nr(r));let i="reauthenticate";try{let o=yield dc(t,b0(r,i,e,t),n);W(o.idToken,r,"internal-error");let s=Yy(o.idToken);W(s,r,"internal-error");let{sub:a}=s;return W(t.uid===a,r,"user-mismatch"),ts._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ht(r,"user-mismatch"),o}})}function C0(t,e,n=!1){return _(this,null,function*(){if(yt(t.app))return Promise.reject(nr(t));let r="signIn",i=yield b0(t,r,e),o=yield ts._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function tv(t,e){return _(this,null,function*(){return C0(jr(t),e)})}function S0(t){return _(this,null,function*(){let e=jr(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function A0(t,e,n){return _(this,null,function*(){if(yt(t.app))return Promise.reject(nr(t));let r=jr(t),s=yield Vy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uU,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&S0(t),u}),a=yield ts._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function R0(t,e,n){return yt(t.app)?Promise.reject(nr(t)):tv(Ae(t),D0.credential(e,n)).catch(r=>_(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&S0(t),r}))}function hU(t,e){return _(this,null,function*(){return or(t,"POST","/v1/accounts:createAuthUri",ir(t,e))})}function N0(t,e){return _(this,null,function*(){let n=a0()?Kd():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=yield hU(Ae(t),r);return i||[]})}function uh(t,e,n,r){return Ae(t).onIdTokenChanged(e,n,r)}function nv(t,e,n){return Ae(t).beforeAuthStateChanged(e,n)}function lh(t,e,n,r){return Ae(t).onAuthStateChanged(e,n,r)}function rv(t){return Ae(t).signOut()}var rh="__sak";var ih=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var fU=1e3,pU=10,gU=(()=>{class t extends ih{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=v0(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);qj()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,pU):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},fU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield yr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield yr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield yr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),M0=gU;var mU=(()=>{class t extends ih{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),iv=mU;function yU(t){return Promise.all(t.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var vU=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield yU(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function ov(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Uy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=ov("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function wn(){return window}function _U(t){wn().location.href=t}function P0(){return typeof wn().WorkerGlobalScope<"u"&&typeof wn().importScripts=="function"}function EU(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function IU(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function wU(){return P0()?self:null}var x0="firebaseLocalStorageDb",TU=1,oh="firebaseLocalStorage",k0="fbase_key",xi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function dh(t,e){return t.transaction([oh],e?"readwrite":"readonly").objectStore(oh)}function DU(){let t=indexedDB.deleteDatabase(x0);return new xi(t).toPromise()}function By(){let t=indexedDB.open(x0,TU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(oh,{keyPath:k0})}catch(i){n(i)}}),t.addEventListener("success",()=>_(null,null,function*(){let r=t.result;r.objectStoreNames.contains(oh)?e(r):(r.close(),yield DU(),e(yield By()))}))})}function YS(t,e,n){return _(this,null,function*(){let r=dh(t,!0).put({[k0]:e,value:n});return new xi(r).toPromise()})}function bU(t,e){return _(this,null,function*(){let n=dh(t,!1).get(e),r=yield new xi(n).toPromise();return r===void 0?null:r.value})}function ZS(t,e){let n=dh(t,!0).delete(e);return new xi(n).toPromise()}var CU=800,SU=3,AU=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield By(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>SU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return P0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=vU._getInstance(wU()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield EU(),!this.activeServiceWorker)return;this.sender=new Uy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||IU()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield By();return yield YS(n,rh,"1"),yield ZS(n,rh),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>YS(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>bU(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>ZS(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(o=>{let s=dh(o,!1).getAll();return new xi(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),CU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),O0=AU;var nQ=I0("rcb"),rQ=new Pi(3e4,6e4);function L0(t,e){return e?tr(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var gc=class extends es{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xo(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function RU(t){return C0(t.auth,new gc(t),t.bypassAuthState)}function NU(t){let{auth:e,user:n}=t;return W(n,e,"internal-error"),dU(n,new gc(t),t.bypassAuthState)}function MU(t){return _(this,null,function*(){let{auth:e,user:n}=t;return W(n,e,"internal-error"),lU(n,new gc(t),t.bypassAuthState)})}var sh=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RU;case"linkViaPopup":case"linkViaRedirect":return MU;case"reauthViaPopup":case"reauthViaRedirect":return NU;default:Ht(this.auth,"internal-error")}}resolve(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var PU=new Pi(2e3,1e4);function sv(t,e,n){return _(this,null,function*(){if(yt(t.app))return Promise.reject(rn(t,"operation-not-supported-in-this-environment"));let r=jr(t);Nj(t,e,pc);let i=L0(r,n);return new xU(r,"signInViaPopup",e,i).executeNotNull()})}var xU=(()=>{class t extends sh{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return _(this,null,function*(){let n=yield this.execute();return W(n,this.auth,"internal-error"),n})}onExecution(){return _(this,null,function*(){rr(this.filter.length===1,"Popup operations only handle one event");let n=ov();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(rn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,PU.get())};n()}}t.currentPopupAction=null;return t})(),kU="pendingRedirect",qd=new Map,$y=class t extends sh{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=qd.get(this.auth._key());if(!e){try{let r=(yield OU(this.resolver,this.auth))?yield yr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}qd.set(this.auth._key(),e)}return this.bypassAuthState||qd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return yr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,yr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function OU(t,e){return _(this,null,function*(){let n=VU(e),r=FU(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function LU(t,e){qd.set(t._key(),e)}function FU(t){return tr(t._redirectPersistence)}function VU(t){return zd(kU,t.config.apiKey,t.name)}function jU(t,e,n=!1){return _(this,null,function*(){if(yt(t.app))return Promise.reject(nr(t));let r=jr(t),i=L0(r,e),s=yield new $y(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var UU=10*60*1e3,Hy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!F0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(rn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UU&&this.cachedEventUids.clear(),this.cachedEventUids.has(JS(e))}saveEventToCache(e){this.cachedEventUids.add(JS(e)),this.lastProcessedEventTime=Date.now()}};function JS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function F0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function BU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return F0(t);default:return!1}}function $U(n){return _(this,arguments,function*(t,e={}){return or(t,"GET","/v1/projects",e)})}var HU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zU=/^https?/;function qU(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield $U(t);for(let n of e)try{if(WU(n))return}catch{}Ht(t,"unauthorized-domain")})}function WU(t){let e=Kd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!zU.test(n))return!1;if(HU.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var GU=new Pi(3e4,6e4);function XS(){let t=wn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KU(t){return new Promise((e,n)=>{var r,i,o;function s(){XS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XS(),n(rn(t,"network-request-failed"))},timeout:GU.get()})}if(!((i=(r=wn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=wn().gapi)===null||o===void 0)&&o.load)s();else{let a=I0("iframefcb");return wn()[a]=()=>{gapi.load?s():n(rn(t,"network-request-failed"))},E0(`${Yj()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Wd=null,e})}var Wd=null;function QU(t){return Wd=Wd||KU(t),Wd}var YU=new Pi(5e3,15e3),ZU="__/auth/iframe",JU="emulator/auth/iframe",XU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tB(t){let e=t.config;W(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Ky(e,JU):`https://${t.config.authDomain}/${ZU}`,r={apiKey:e.apiKey,appName:t.name,v:Lr},i=eB.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Qo(r).slice(1)}`}function nB(t){return _(this,null,function*(){let e=yield QU(t),n=wn().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:tB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XU,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=rn(t,"network-request-failed"),a=wn().setTimeout(()=>{o(s)},YU.get());function u(){wn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var rB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iB=500,oB=600,sB="_blank",aB="http://localhost",ah=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function cB(t,e,n,r=iB,i=oB){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},rB),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ke().toLowerCase();n&&(a=f0(l)?sB:n),d0(l)&&(e=e||aB,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,T])=>`${m}${y}=${T},`,"");if(zj(l)&&a!=="_self")return uB(e||"",a),new ah(null);let p=window.open(e||"",a,h);W(p,t,"popup-blocked");try{p.focus()}catch{}return new ah(p)}function uB(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var lB="__/auth/handler",dB="emulator/auth/handler",hB=encodeURIComponent("fac");function e0(t,e,n,r,i,o){return _(this,null,function*(){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Lr,eventId:i};if(e instanceof pc){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",SS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof nh){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${hB}=${encodeURIComponent(u)}`:"";return`${fB(t)}?${Qo(a).slice(1)}${l}`})}function fB({config:t}){return t.emulator?Ky(t,dB):`https://${t.authDomain}/${lB}`}var Sy="webStorageSupport",zy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iv,this._completeRedirectFn=jU,this._overrideRedirectResult=LU}_openPopup(e,n,r,i){return _(this,null,function*(){var o;rr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield e0(e,n,r,Kd(),i);return cB(e,s,ov())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield e0(e,n,r,Kd(),i);return _U(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(rr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield nB(e),r=new Hy(e);return n.register("authEvent",i=>(W(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sy,{type:Sy},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Sy];s!==void 0&&n(!!s),Ht(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return v0()||h0()||Jy()}},V0=zy;var t0="@firebase/auth",n0="1.10.7";var qy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function pB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gB(t){nn(new mt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;W(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_0(t)},l=new ky(r,i,o,u);return Jj(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),nn(new mt("auth-internal",e=>{let n=jr(e.getProvider("auth").getImmediate());return(r=>new qy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Le(t0,n0,pB(t)),Le(t0,n0,"esm2017")}var mB=5*60,yB=ly("authIdTokenMaxAge")||mB,r0=null,vB=t=>e=>_(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>yB)return;let i=n?.token;r0!==i&&(r0=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function j0(t=Mi()){let e=Jo(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Xy(t,{popupRedirectResolver:V0,persistence:[O0,M0,iv]}),r=ly("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=vB(o.toString());nv(n,s,()=>s(n.currentUser)),uh(n,a=>s(a))}}let i=cy("auth");return i&&ev(n,`http://${i}`),n}function _B(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Kj({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=rn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",_B().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gB("Browser");function av(t){t===void 0&&(bg(av),t=x(gt));let e=t.get(Rl);return n=>new ee(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var rs=new pa("ANGULARFIRE2_VERSION");function cv(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var fh=(t,e)=>{let n=e?[e]:Bd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ns=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(ns||{}),B0=fm()&&typeof Zone<"u"?ns.WARN:ns.SILENT;var hh=class{zone;delegate;constructor(e,n=yp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},is=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=x(_e);this.outsideAngular=n.runOutsideAngular(()=>new hh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new hh(typeof Zone>"u"?void 0:Zone.current,mp))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$0=!1;function i$(t,e){!$0&&(B0>ns.SILENT||fm())&&($0=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),B0>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function o$(t){let e=x(_e,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function ki(t){let e=x(_e,{optional:!0});return e?e.run(()=>t()):t()}var s$=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),tt(n,()=>ki(()=>t.apply(void 0,r)))),Oi=(t,e,n)=>(n||=e?ns.WARN:ns.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=x(is),s=x(Rl),a=x(et)}catch{return i$(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=ki(()=>s.add())),i[l]=s$(i[l],r,a));let u=o$(()=>t.apply(this,i));return e?u instanceof ee?u.pipe(Er(o.outsideAngular),_r(o.insideAngular),av(a)):u instanceof Promise?ki(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>tt(a,()=>ki(()=>h(m))),m=>tt(a,()=>ki(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:ki(()=>u):u instanceof ee?u.pipe(Er(o.outsideAngular),_r(o.insideAngular)):ki(()=>u)});var Li=class{constructor(e){return e}},yc=class{constructor(){return Bd()}};function a$(t){return t&&t.length===1?t[0]:new Li(Mi())}var uv=new B("angularfire2._apps"),c$={provide:Li,useFactory:a$,deps:[[new vi,uv]]},u$={provide:yc,deps:[[new vi,uv]]};function l$(t){return(e,n)=>{let r=n.get(Ii);Le("angularfire",rs.full,"core"),Le("angularfire",rs.full,"app"),Le("angular",wb.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Li(i)}}function oY(t,...e){return Bn([c$,u$,{provide:uv,useFactory:l$(t),multi:!0,deps:[_e,gt,is,...e]}])}var sY=Oi(by,!0);var d$=new Map,h$={activated:!1,tokenObservers:[]},f$={initialized:!1,enabled:!1};function on(t){return d$.get(t)||Object.assign({},h$)}function W0(){return f$}var p$="https://content-firebaseappcheck.googleapis.com/v1";var g$="exchangeDebugToken",H0={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},gY=24*60*60*1e3;var hv=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new Ri,this.pending.promise.catch(n=>{}),yield m$(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ri,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function m$(t){return new Promise(e=>{setTimeout(e,t)})}var y$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Ur=new tn("appCheck","AppCheck",y$);function G0(t){if(!on(t).activated)throw Ur.create("use-before-activation",{appName:t.name})}function K0(r,i){return _(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(y){throw Ur.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Ur.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Ur.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Ur.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function Q0(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${p$}/projects/${n}/apps/${r}:${g$}?key=${i}`,body:{debug_token:e}}}var v$="firebase-app-check-database",_$=1,fv="firebase-app-check-store";var ph=null;function E$(){return ph||(ph=new Promise((t,e)=>{try{let n=indexedDB.open(v$,_$);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Ur.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(fv,{keyPath:"compositeKey"})}}}catch(n){e(Ur.create("storage-open",{originalErrorMessage:n?.message}))}}),ph)}function I$(t,e){return w$(T$(t),e)}function w$(t,e){return _(this,null,function*(){let r=(yield E$()).transaction(fv,"readwrite"),o=r.objectStore(fv).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Ur.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function T$(t){return`${t.options.appId}-${t.name}`}var vc=new En("@firebase/app-check");function lv(t,e){return oc()?I$(t,e).catch(n=>{vc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Y0(){return W0().enabled}function Z0(){return _(this,null,function*(){let t=W0();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var D$={error:"UNKNOWN_ERROR"};function b$(t){return kd.encodeString(JSON.stringify(t),!1)}function pv(t,e=!1,n=!1){return _(this,null,function*(){let r=t.app;G0(r);let i=on(r),o=i.token,s;if(o&&!_c(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(_c(l)?o=l:yield lv(r,void 0))}if(!e&&o&&_c(o))return{token:o.token};let a=!1;if(Y0())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=K0(Q0(r,yield Z0()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield lv(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?vc.warn(l.message):n&&vc.error(l),dv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield on(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?vc.warn(l.message):n&&vc.error(l),s=l}let u;return o?s?_c(o)?u={token:o.token,internalError:s}:u=dv(s):(u={token:o.token},i.token=o,yield lv(r,o)):u=dv(s),a&&R$(r,u),u})}function C$(t){return _(this,null,function*(){let e=t.app;G0(e);let{provider:n}=on(e);if(Y0()){let r=yield Z0(),{token:i}=yield K0(Q0(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function S$(t,e,n,r){let{app:i}=t,o=on(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&_c(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),z0(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>z0(t))}function J0(t,e){let n=on(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function z0(t){let{app:e}=t,n=on(e),r=n.tokenRefresher;r||(r=A$(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function A$(t){let{app:e}=t;return new hv(()=>_(null,null,function*(){let n=on(e),r;if(n.token?r=yield pv(t,!0):r=yield pv(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=on(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},H0.RETRIAL_MIN_WAIT,H0.RETRIAL_MAX_WAIT)}function R$(t,e){let n=on(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function _c(t){return t.expireTimeMillis-Date.now()>0}function dv(t){return{token:b$(D$),error:t}}var gv=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=on(this.app);for(let n of e)J0(this.app,n.next);return Promise.resolve()}};function N$(t,e){return new gv(t,e)}function M$(t){return{getToken:e=>pv(t,e),getLimitedUseToken:()=>C$(t),addTokenListener:e=>S$(t,"INTERNAL",e),removeTokenListener:e=>J0(t.app,e)}}var P$="@firebase/app-check",x$="0.10.0";var k$="app-check",q0="app-check-internal";function O$(){nn(new mt(k$,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return N$(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(q0).initialize()})),nn(new mt(q0,t=>{let e=t.getProvider("app-check").getImmediate();return M$(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Le(P$,x$)}O$();var L$="app-check";var gh=class{constructor(){return fh(L$)}};var F$=["localhost","0.0.0.0","127.0.0.1"],AY=typeof window<"u"&&F$.includes(window.location.hostname);function X0(t){return new ee(function(e){var n=lh(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var eA="auth",Ec=class{constructor(e){return e}},mv=class{constructor(){return fh(eA)}};var yv=new B("angularfire2.auth-instances");function V$(t,e){let n=cv(eA,t,e);return n&&new Ec(n)}function j$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ec(r)}}var U$={provide:mv,deps:[[new vi,yv]]},B$={provide:Ec,useFactory:V$,deps:[[new vi,yv],Li]};function zY(t,...e){return Le("angularfire",rs.full,"auth"),Bn([B$,U$,{provide:yv,useFactory:j$(t),multi:!0,deps:[_e,gt,is,yc,[new vi,gh],...e]}])}var qY=Oi(X0,!0);var WY=Oi(sv,!0,2);var GY=Oi(rv,!0,2);var tA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nA={};var sr,vv;(function(){var t;function e(D,v){function I(){}I.prototype=v.prototype,D.D=v.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(w,b,S){for(var E=Array(arguments.length-2),Mn=2;Mn<arguments.length;Mn++)E[Mn-2]=arguments[Mn];return v.prototype[b].apply(w,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,I){I||(I=0);var w=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)w[b]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(b=0;16>b;++b)w[b]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=D.g[0],I=D.g[1],b=D.g[2];var S=D.g[3],E=v+(S^I&(b^S))+w[0]+3614090360&4294967295;v=I+(E<<7&4294967295|E>>>25),E=S+(b^v&(I^b))+w[1]+3905402710&4294967295,S=v+(E<<12&4294967295|E>>>20),E=b+(I^S&(v^I))+w[2]+606105819&4294967295,b=S+(E<<17&4294967295|E>>>15),E=I+(v^b&(S^v))+w[3]+3250441966&4294967295,I=b+(E<<22&4294967295|E>>>10),E=v+(S^I&(b^S))+w[4]+4118548399&4294967295,v=I+(E<<7&4294967295|E>>>25),E=S+(b^v&(I^b))+w[5]+1200080426&4294967295,S=v+(E<<12&4294967295|E>>>20),E=b+(I^S&(v^I))+w[6]+2821735955&4294967295,b=S+(E<<17&4294967295|E>>>15),E=I+(v^b&(S^v))+w[7]+4249261313&4294967295,I=b+(E<<22&4294967295|E>>>10),E=v+(S^I&(b^S))+w[8]+1770035416&4294967295,v=I+(E<<7&4294967295|E>>>25),E=S+(b^v&(I^b))+w[9]+2336552879&4294967295,S=v+(E<<12&4294967295|E>>>20),E=b+(I^S&(v^I))+w[10]+4294925233&4294967295,b=S+(E<<17&4294967295|E>>>15),E=I+(v^b&(S^v))+w[11]+2304563134&4294967295,I=b+(E<<22&4294967295|E>>>10),E=v+(S^I&(b^S))+w[12]+1804603682&4294967295,v=I+(E<<7&4294967295|E>>>25),E=S+(b^v&(I^b))+w[13]+4254626195&4294967295,S=v+(E<<12&4294967295|E>>>20),E=b+(I^S&(v^I))+w[14]+2792965006&4294967295,b=S+(E<<17&4294967295|E>>>15),E=I+(v^b&(S^v))+w[15]+1236535329&4294967295,I=b+(E<<22&4294967295|E>>>10),E=v+(b^S&(I^b))+w[1]+4129170786&4294967295,v=I+(E<<5&4294967295|E>>>27),E=S+(I^b&(v^I))+w[6]+3225465664&4294967295,S=v+(E<<9&4294967295|E>>>23),E=b+(v^I&(S^v))+w[11]+643717713&4294967295,b=S+(E<<14&4294967295|E>>>18),E=I+(S^v&(b^S))+w[0]+3921069994&4294967295,I=b+(E<<20&4294967295|E>>>12),E=v+(b^S&(I^b))+w[5]+3593408605&4294967295,v=I+(E<<5&4294967295|E>>>27),E=S+(I^b&(v^I))+w[10]+38016083&4294967295,S=v+(E<<9&4294967295|E>>>23),E=b+(v^I&(S^v))+w[15]+3634488961&4294967295,b=S+(E<<14&4294967295|E>>>18),E=I+(S^v&(b^S))+w[4]+3889429448&4294967295,I=b+(E<<20&4294967295|E>>>12),E=v+(b^S&(I^b))+w[9]+568446438&4294967295,v=I+(E<<5&4294967295|E>>>27),E=S+(I^b&(v^I))+w[14]+3275163606&4294967295,S=v+(E<<9&4294967295|E>>>23),E=b+(v^I&(S^v))+w[3]+4107603335&4294967295,b=S+(E<<14&4294967295|E>>>18),E=I+(S^v&(b^S))+w[8]+1163531501&4294967295,I=b+(E<<20&4294967295|E>>>12),E=v+(b^S&(I^b))+w[13]+2850285829&4294967295,v=I+(E<<5&4294967295|E>>>27),E=S+(I^b&(v^I))+w[2]+4243563512&4294967295,S=v+(E<<9&4294967295|E>>>23),E=b+(v^I&(S^v))+w[7]+1735328473&4294967295,b=S+(E<<14&4294967295|E>>>18),E=I+(S^v&(b^S))+w[12]+2368359562&4294967295,I=b+(E<<20&4294967295|E>>>12),E=v+(I^b^S)+w[5]+4294588738&4294967295,v=I+(E<<4&4294967295|E>>>28),E=S+(v^I^b)+w[8]+2272392833&4294967295,S=v+(E<<11&4294967295|E>>>21),E=b+(S^v^I)+w[11]+1839030562&4294967295,b=S+(E<<16&4294967295|E>>>16),E=I+(b^S^v)+w[14]+4259657740&4294967295,I=b+(E<<23&4294967295|E>>>9),E=v+(I^b^S)+w[1]+2763975236&4294967295,v=I+(E<<4&4294967295|E>>>28),E=S+(v^I^b)+w[4]+1272893353&4294967295,S=v+(E<<11&4294967295|E>>>21),E=b+(S^v^I)+w[7]+4139469664&4294967295,b=S+(E<<16&4294967295|E>>>16),E=I+(b^S^v)+w[10]+3200236656&4294967295,I=b+(E<<23&4294967295|E>>>9),E=v+(I^b^S)+w[13]+681279174&4294967295,v=I+(E<<4&4294967295|E>>>28),E=S+(v^I^b)+w[0]+3936430074&4294967295,S=v+(E<<11&4294967295|E>>>21),E=b+(S^v^I)+w[3]+3572445317&4294967295,b=S+(E<<16&4294967295|E>>>16),E=I+(b^S^v)+w[6]+76029189&4294967295,I=b+(E<<23&4294967295|E>>>9),E=v+(I^b^S)+w[9]+3654602809&4294967295,v=I+(E<<4&4294967295|E>>>28),E=S+(v^I^b)+w[12]+3873151461&4294967295,S=v+(E<<11&4294967295|E>>>21),E=b+(S^v^I)+w[15]+530742520&4294967295,b=S+(E<<16&4294967295|E>>>16),E=I+(b^S^v)+w[2]+3299628645&4294967295,I=b+(E<<23&4294967295|E>>>9),E=v+(b^(I|~S))+w[0]+4096336452&4294967295,v=I+(E<<6&4294967295|E>>>26),E=S+(I^(v|~b))+w[7]+1126891415&4294967295,S=v+(E<<10&4294967295|E>>>22),E=b+(v^(S|~I))+w[14]+2878612391&4294967295,b=S+(E<<15&4294967295|E>>>17),E=I+(S^(b|~v))+w[5]+4237533241&4294967295,I=b+(E<<21&4294967295|E>>>11),E=v+(b^(I|~S))+w[12]+1700485571&4294967295,v=I+(E<<6&4294967295|E>>>26),E=S+(I^(v|~b))+w[3]+2399980690&4294967295,S=v+(E<<10&4294967295|E>>>22),E=b+(v^(S|~I))+w[10]+4293915773&4294967295,b=S+(E<<15&4294967295|E>>>17),E=I+(S^(b|~v))+w[1]+2240044497&4294967295,I=b+(E<<21&4294967295|E>>>11),E=v+(b^(I|~S))+w[8]+1873313359&4294967295,v=I+(E<<6&4294967295|E>>>26),E=S+(I^(v|~b))+w[15]+4264355552&4294967295,S=v+(E<<10&4294967295|E>>>22),E=b+(v^(S|~I))+w[6]+2734768916&4294967295,b=S+(E<<15&4294967295|E>>>17),E=I+(S^(b|~v))+w[13]+1309151649&4294967295,I=b+(E<<21&4294967295|E>>>11),E=v+(b^(I|~S))+w[4]+4149444226&4294967295,v=I+(E<<6&4294967295|E>>>26),E=S+(I^(v|~b))+w[11]+3174756917&4294967295,S=v+(E<<10&4294967295|E>>>22),E=b+(v^(S|~I))+w[2]+718787259&4294967295,b=S+(E<<15&4294967295|E>>>17),E=I+(S^(b|~v))+w[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(b+(E<<21&4294967295|E>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+S&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var I=v-this.blockSize,w=this.B,b=this.h,S=0;S<v;){if(b==0)for(;S<=I;)i(this,D,S),S+=this.blockSize;if(typeof D=="string"){for(;S<v;)if(w[b++]=D.charCodeAt(S++),b==this.blockSize){i(this,w),b=0;break}}else for(;S<v;)if(w[b++]=D[S++],b==this.blockSize){i(this,w),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var I=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=I&255,I/=256;for(this.u(D),D=Array(16),v=I=0;4>v;++v)for(var w=0;32>w;w+=8)D[I++]=this.g[v]>>>w&255;return D};function o(D,v){var I=a;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=v(D)}function s(D,v){this.h=v;for(var I=[],w=!0,b=D.length-1;0<=b;b--){var S=D[b]|0;w&&S==v||(I[b]=S,w=!1)}this.g=I}var a={};function u(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return A(l(-D));for(var v=[],I=1,w=0;D>=I;w++)v[w]=D/I|0,I*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return A(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),w=p,b=0;b<D.length;b+=8){var S=Math.min(8,D.length-b),E=parseInt(D.substring(b,b+S),v);8>S?(S=l(Math.pow(v,S)),w=w.j(S).add(l(E))):(w=w.j(I),w=w.add(l(E)))}return w}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(R(this))return-A(this).m();for(var D=0,v=1,I=0;I<this.g.length;I++){var w=this.i(I);D+=(0<=w?w:4294967296+w)*v,v*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(T(this))return"0";if(R(this))return"-"+A(this).toString(D);for(var v=l(Math.pow(D,6)),I=this,w="";;){var b=de(I,v).g;I=O(I,b.j(v));var S=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=b,T(I))return S+w;for(;6>S.length;)S="0"+S;w=S+w}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function T(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function R(D){return D.h==-1}t.l=function(D){return D=O(this,D),R(D)?-1:T(D)?0:1};function A(D){for(var v=D.g.length,I=[],w=0;w<v;w++)I[w]=~D.g[w];return new s(I,~D.h).add(m)}t.abs=function(){return R(this)?A(this):this},t.add=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],w=0,b=0;b<=v;b++){var S=w+(this.i(b)&65535)+(D.i(b)&65535),E=(S>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);w=E>>>16,S&=65535,E&=65535,I[b]=E<<16|S}return new s(I,I[I.length-1]&-2147483648?-1:0)};function O(D,v){return D.add(A(v))}t.j=function(D){if(T(this)||T(D))return p;if(R(this))return R(D)?A(this).j(A(D)):A(A(this).j(D));if(R(D))return A(this.j(A(D)));if(0>this.l(y)&&0>D.l(y))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,I=[],w=0;w<2*v;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var b=0;b<D.g.length;b++){var S=this.i(w)>>>16,E=this.i(w)&65535,Mn=D.i(b)>>>16,Ns=D.i(b)&65535;I[2*w+2*b]+=E*Ns,H(I,2*w+2*b),I[2*w+2*b+1]+=S*Ns,H(I,2*w+2*b+1),I[2*w+2*b+1]+=E*Mn,H(I,2*w+2*b+1),I[2*w+2*b+2]+=S*Mn,H(I,2*w+2*b+2)}for(w=0;w<v;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=v;w<2*v;w++)I[w]=0;return new s(I,0)};function H(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function U(D,v){this.g=D,this.h=v}function de(D,v){if(T(v))throw Error("division by zero");if(T(D))return new U(p,p);if(R(D))return v=de(A(D),v),new U(A(v.g),A(v.h));if(R(v))return v=de(D,A(v)),new U(A(v.g),v.h);if(30<D.g.length){if(R(D)||R(v))throw Error("slowDivide_ only works with positive integers.");for(var I=m,w=v;0>=w.l(D);)I=Ue(I),w=Ue(w);var b=oe(I,1),S=oe(w,1);for(w=oe(w,2),I=oe(I,2);!T(w);){var E=S.add(w);0>=E.l(D)&&(b=b.add(I),S=E),w=oe(w,1),I=oe(I,1)}return v=O(D,b.j(v)),new U(b,v)}for(b=p;0<=D.l(v);){for(I=Math.max(1,Math.floor(D.m()/v.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),S=l(I),E=S.j(v);R(E)||0<E.l(D);)I-=w,S=l(I),E=S.j(v);T(S)&&(S=m),b=b.add(S),D=O(D,E)}return new U(b,D)}t.A=function(D){return de(this,D).h},t.and=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)&D.i(w);return new s(I,this.h&D.h)},t.or=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)|D.i(w);return new s(I,this.h|D.h)},t.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)^D.i(w);return new s(I,this.h^D.h)};function Ue(D){for(var v=D.g.length+1,I=[],w=0;w<v;w++)I[w]=D.i(w)<<1|D.i(w-1)>>>31;return new s(I,D.h)}function oe(D,v){var I=v>>5;v%=32;for(var w=D.g.length-I,b=[],S=0;S<w;S++)b[S]=0<v?D.i(S+I)>>>v|D.i(S+I+1)<<32-v:D.i(S+I);return new s(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vv=nA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,sr=nA.Integer=s}).apply(typeof tA<"u"?tA:typeof self<"u"?self:typeof window<"u"?window:{});var mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ar={};var _v,$$,os,Ev,Ic,yh,Iv,wv,Tv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof mh=="object"&&mh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var C=c[g];if(!(C in f))break e;f=f[C]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,C={next:function(){if(!g&&f<c.length){var N=f++;return{value:d(N,c[N]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function T(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,C,N){for(var k=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)k[Ie-2]=arguments[Ie];return d.prototype[C].apply(g,k)}}function R(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function A(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=c.length||0,N=g.length||0;c.length=C+N;for(let k=0;k<N;k++)c[C+k]=g[k]}else c.push(g)}}class O{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function H(c){return/^[\s\xa0]*$/.test(c)}function U(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function de(c){return de[" "](c),c}de[" "]=function(){};var Ue=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function oe(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)c[f]=g[f];for(let N=0;N<I.length;N++)f=I[N],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function E(){var c=_f;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Mn{constructor(){this.h=this.g=null}add(d,f){let g=Ns.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Ns=new O(()=>new TN,c=>c.reset());class TN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ms,Ps=!1,_f=new Mn,VE=()=>{let c=a.Promise.resolve(void 0);Ms=()=>{c.then(DN)}};var DN=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){S(f)}var d=Ns;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ps=!1};function fr(){this.s=this.s,this.C=this.C}fr.prototype.s=!1,fr.prototype.ma=function(){this.s||(this.s=!0,this.N())},fr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var bN=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function xs(c,d){if(rt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ue){e:{try{de(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:CN[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xs.aa.h.call(this)}}T(xs,rt);var CN={2:"touch",3:"pen",4:"mouse"};xs.prototype.h=function(){xs.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ks="closure_listenable_"+(1e6*Math.random()|0),SN=0;function AN(c,d,f,g,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++SN,this.da=this.fa=!1}function qc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Wc(c){this.src=c,this.g={},this.h=0}Wc.prototype.add=function(c,d,f,g,C){var N=c.toString();c=this.g[N],c||(c=this.g[N]=[],this.h++);var k=If(c,d,g,C);return-1<k?(d=c[k],f||(d.fa=!1)):(d=new AN(d,this.src,N,!!g,C),d.fa=f,c.push(d)),d};function Ef(c,d){var f=d.type;if(f in c.g){var g=c.g[f],C=Array.prototype.indexOf.call(g,d,void 0),N;(N=0<=C)&&Array.prototype.splice.call(g,C,1),N&&(qc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function If(c,d,f,g){for(var C=0;C<c.length;++C){var N=c[C];if(!N.da&&N.listener==d&&N.capture==!!f&&N.ha==g)return C}return-1}var wf="closure_lm_"+(1e6*Math.random()|0),Tf={};function jE(c,d,f,g,C){if(g&&g.once)return BE(c,d,f,g,C);if(Array.isArray(d)){for(var N=0;N<d.length;N++)jE(c,d[N],f,g,C);return null}return f=Sf(f),c&&c[ks]?c.K(d,f,l(g)?!!g.capture:!!g,C):UE(c,d,f,!1,g,C)}function UE(c,d,f,g,C,N){if(!d)throw Error("Invalid event type");var k=l(C)?!!C.capture:!!C,Ie=bf(c);if(Ie||(c[wf]=Ie=new Wc(c)),f=Ie.add(d,f,g,k,N),f.proxy)return f;if(g=RN(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)bN||(C=k),C===void 0&&(C=!1),c.addEventListener(d.toString(),g,C);else if(c.attachEvent)c.attachEvent(HE(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function RN(){function c(f){return d.call(c.src,c.listener,f)}let d=NN;return c}function BE(c,d,f,g,C){if(Array.isArray(d)){for(var N=0;N<d.length;N++)BE(c,d[N],f,g,C);return null}return f=Sf(f),c&&c[ks]?c.L(d,f,l(g)?!!g.capture:!!g,C):UE(c,d,f,!0,g,C)}function $E(c,d,f,g,C){if(Array.isArray(d))for(var N=0;N<d.length;N++)$E(c,d[N],f,g,C);else g=l(g)?!!g.capture:!!g,f=Sf(f),c&&c[ks]?(c=c.i,d=String(d).toString(),d in c.g&&(N=c.g[d],f=If(N,f,g,C),-1<f&&(qc(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete c.g[d],c.h--)))):c&&(c=bf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=If(d,f,g,C)),(f=-1<c?d[c]:null)&&Df(f))}function Df(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[ks])Ef(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(HE(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=bf(d))?(Ef(f,c),f.h==0&&(f.src=null,d[wf]=null)):qc(c)}}}function HE(c){return c in Tf?Tf[c]:Tf[c]="on"+c}function NN(c,d){if(c.da)c=!0;else{d=new xs(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Df(c),c=f.call(g,d)}return c}function bf(c){return c=c[wf],c instanceof Wc?c:null}var Cf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sf(c){return typeof c=="function"?c:(c[Cf]||(c[Cf]=function(d){return c.handleEvent(d)}),c[Cf])}function it(){fr.call(this),this.i=new Wc(this),this.M=this,this.F=null}T(it,fr),it.prototype[ks]=!0,it.prototype.removeEventListener=function(c,d,f,g){$E(this,c,d,f,g)};function dt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new rt(d,c);else if(d instanceof rt)d.target=d.target||c;else{var C=d;d=new rt(g,c),w(d,C)}if(C=!0,f)for(var N=f.length-1;0<=N;N--){var k=d.g=f[N];C=Gc(k,g,!0,d)&&C}if(k=d.g=c,C=Gc(k,g,!0,d)&&C,C=Gc(k,g,!1,d)&&C,f)for(N=0;N<f.length;N++)k=d.g=f[N],C=Gc(k,g,!1,d)&&C}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)qc(f[g]);delete c.g[d],c.h--}}this.F=null},it.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},it.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Gc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,N=0;N<d.length;++N){var k=d[N];if(k&&!k.da&&k.capture==f){var Ie=k.listener,Ze=k.ha||k.src;k.fa&&Ef(c.i,k),C=Ie.call(Ze,g)!==!1&&C}}return C&&!g.defaultPrevented}function zE(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function qE(c){c.g=zE(()=>{c.g=null,c.i&&(c.i=!1,qE(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class MN extends fr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:qE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Os(c){fr.call(this),this.h=c,this.g={}}T(Os,fr);var WE=[];function GE(c){oe(c.g,function(d,f){this.g.hasOwnProperty(f)&&Df(d)},c),c.g={}}Os.prototype.N=function(){Os.aa.N.call(this),GE(this)},Os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Af=a.JSON.stringify,PN=a.JSON.parse,xN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Rf(){}Rf.prototype.h=null;function KE(c){return c.h||(c.h=c.i())}function QE(){}var Ls={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nf(){rt.call(this,"d")}T(Nf,rt);function Mf(){rt.call(this,"c")}T(Mf,rt);var Kr={},YE=null;function Kc(){return YE=YE||new it}Kr.La="serverreachability";function ZE(c){rt.call(this,Kr.La,c)}T(ZE,rt);function Fs(c){let d=Kc();dt(d,new ZE(d))}Kr.STAT_EVENT="statevent";function JE(c,d){rt.call(this,Kr.STAT_EVENT,c),this.stat=d}T(JE,rt);function ht(c){let d=Kc();dt(d,new JE(d,c))}Kr.Ma="timingevent";function XE(c,d){rt.call(this,Kr.Ma,c),this.size=d}T(XE,rt);function Vs(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function js(){this.g=!0}js.prototype.xa=function(){this.g=!1};function kN(c,d,f,g,C,N){c.info(function(){if(c.g)if(N)for(var k="",Ie=N.split("&"),Ze=0;Ze<Ie.length;Ze++){var pe=Ie[Ze].split("=");if(1<pe.length){var ot=pe[0];pe=pe[1];var st=ot.split("_");k=2<=st.length&&st[1]=="type"?k+(ot+"="+pe+"&"):k+(ot+"=redacted&")}}else k=null;else k=N;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+k})}function ON(c,d,f,g,C,N,k){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+N+" "+k})}function Ki(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+FN(c,f)+(g?" "+g:"")})}function LN(c,d){c.info(function(){return"TIMEOUT: "+d})}js.prototype.info=function(){};function FN(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var N=C[0];if(N!="noop"&&N!="stop"&&N!="close")for(var k=1;k<C.length;k++)C[k]=""}}}}return Af(f)}catch{return d}}var Qc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},eI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pf;function Yc(){}T(Yc,Rf),Yc.prototype.g=function(){return new XMLHttpRequest},Yc.prototype.i=function(){return{}},Pf=new Yc;function pr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Os(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tI}function tI(){this.i=null,this.g="",this.h=!1}var nI={},xf={};function kf(c,d,f){c.L=1,c.v=eu(Pn(d)),c.m=f,c.P=!0,rI(c,null)}function rI(c,d){c.F=Date.now(),Zc(c),c.A=Pn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),yI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new tI,c.g=OI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new MN(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(WE[0]=C.toString()),C=WE);for(var N=0;N<C.length;N++){var k=jE(f,C[N],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Fs(),kN(c.i,c.u,c.A,c.l,c.R,c.m)}pr.prototype.ca=function(c){c=c.target;let d=this.M;d&&xn(c)==3?d.j():this.Y(c)},pr.prototype.Y=function(c){try{if(c==this.g)e:{let st=xn(this.g);var d=this.g.Ba();let Zi=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||DI(this.g)))){this.J||st!=4||d==7||(d==8||0>=Zi?Fs(3):Fs(2)),Of(this);var f=this.g.Z();this.X=f;t:if(iI(this)){var g=DI(this.g);c="";var C=g.length,N=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qr(this),Us(this);var k="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(N&&d==C-1)});g.length=0,this.h.g+=c,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=f==200,ON(this.i,this.u,this.A,this.l,this.R,st,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,Ze=this.g;if((Ie=Ze.g?Ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Ie)){var pe=Ie;break t}}pe=null}if(f=pe)Ki(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lf(this,f);else{this.o=!1,this.s=3,ht(12),Qr(this),Us(this);break e}}if(this.P){f=!0;let Gt;for(;!this.J&&this.C<k.length;)if(Gt=VN(this,k),Gt==xf){st==4&&(this.s=4,ht(14),f=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==nI){this.s=4,ht(15),Ki(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else Ki(this.i,this.l,Gt,null),Lf(this,Gt);if(iI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||k.length!=0||this.h.h||(this.s=1,ht(16),f=!1),this.o=this.o&&f,!f)Ki(this.i,this.l,k,"[Invalid Chunked Response]"),Qr(this),Us(this);else if(0<k.length&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.ba&&!ot.M&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),$f(ot),ot.M=!0,ht(11))}}else Ki(this.i,this.l,k,null),Lf(this,k);st==4&&Qr(this),this.o&&!this.J&&(st==4?MI(this.j,this):(this.o=!1,Zc(this)))}else tM(this.g),f==400&&0<k.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),Qr(this),Us(this)}}}catch{}finally{}};function iI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function VN(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?xf:(f=Number(d.substring(f,g)),isNaN(f)?nI:(g+=1,g+f>d.length?xf:(d=d.slice(g,g+f),c.C=g+f,d)))}pr.prototype.cancel=function(){this.J=!0,Qr(this)};function Zc(c){c.S=Date.now()+c.I,oI(c,c.I)}function oI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Vs(m(c.ba,c),d)}function Of(c){c.B&&(a.clearTimeout(c.B),c.B=null)}pr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(LN(this.i,this.A),this.L!=2&&(Fs(),ht(17)),Qr(this),this.s=2,Us(this)):oI(this,this.S-c)};function Us(c){c.j.G==0||c.J||MI(c.j,c)}function Qr(c){Of(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,GE(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Lf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Ff(f.h,c))){if(!c.K&&Ff(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)ou(f),ru(f);else break e;Bf(f),ht(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Vs(m(f.Za,f),6e3));if(1>=cI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Zr(f,11)}else if((c.K||f.g==c)&&ou(f),!H(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let pe=C[d];if(f.T=pe[0],pe=pe[1],f.G==2)if(pe[0]=="c"){f.K=pe[1],f.ia=pe[2];let ot=pe[3];ot!=null&&(f.la=ot,f.j.info("VER="+f.la));let st=pe[4];st!=null&&(f.Aa=st,f.j.info("SVER="+f.Aa));let Zi=pe[5];Zi!=null&&typeof Zi=="number"&&0<Zi&&(g=1.5*Zi,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Gt=c.g;if(Gt){let au=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(au){var N=g.h;N.g||au.indexOf("spdy")==-1&&au.indexOf("quic")==-1&&au.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Vf(N,N.h),N.h=null))}if(g.D){let Hf=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;Hf&&(g.ya=Hf,be(g.I,g.D,Hf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var k=c;if(g.qa=kI(g,g.J?g.ia:null,g.W),k.K){uI(g.h,k);var Ie=k,Ze=g.L;Ze&&(Ie.I=Ze),Ie.B&&(Of(Ie),Zc(Ie)),g.g=k}else RI(g);0<f.i.length&&iu(f)}else pe[0]!="stop"&&pe[0]!="close"||Zr(f,7);else f.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?Zr(f,7):Uf(f):pe[0]!="noop"&&f.l&&f.l.ta(pe),f.v=0)}}Fs(4)}catch{}}var jN=class{constructor(c,d){this.g=c,this.map=d}};function sI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function aI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function cI(c){return c.h?1:c.g?c.g.size:0}function Ff(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Vf(c,d){c.g?c.g.add(d):c.h=d}function uI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}sI.prototype.cancel=function(){if(this.i=lI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function lI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return R(c.i)}function UN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function BN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function dI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=BN(c),g=UN(c),C=g.length,N=0;N<C;N++)d.call(void 0,g[N],f&&f[N],c)}var hI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $N(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),C=null;if(0<=g){var N=c[f].substring(0,g);C=c[f].substring(g+1)}else N=c[f];d(N,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Yr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Yr){this.h=c.h,Jc(this,c.j),this.o=c.o,this.g=c.g,Xc(this,c.s),this.l=c.l;var d=c.i,f=new Hs;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),fI(this,f),this.m=c.m}else c&&(d=String(c).match(hI))?(this.h=!1,Jc(this,d[1]||"",!0),this.o=Bs(d[2]||""),this.g=Bs(d[3]||"",!0),Xc(this,d[4]),this.l=Bs(d[5]||"",!0),fI(this,d[6]||"",!0),this.m=Bs(d[7]||"")):(this.h=!1,this.i=new Hs(null,this.h))}Yr.prototype.toString=function(){var c=[],d=this.j;d&&c.push($s(d,pI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push($s(d,pI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push($s(f,f.charAt(0)=="/"?qN:zN,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",$s(f,GN)),c.join("")};function Pn(c){return new Yr(c)}function Jc(c,d,f){c.j=f?Bs(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Xc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function fI(c,d,f){d instanceof Hs?(c.i=d,KN(c.i,c.h)):(f||(d=$s(d,WN)),c.i=new Hs(d,c.h))}function be(c,d,f){c.i.set(d,f)}function eu(c){return be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Bs(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function $s(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,HN),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function HN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var pI=/[#\/\?@]/g,zN=/[#\?:]/g,qN=/[#\?]/g,WN=/[#\?@]/g,GN=/#/g;function Hs(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function gr(c){c.g||(c.g=new Map,c.h=0,c.i&&$N(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Hs.prototype,t.add=function(c,d){gr(this),this.i=null,c=Qi(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function gI(c,d){gr(c),d=Qi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function mI(c,d){return gr(c),d=Qi(c,d),c.g.has(d)}t.forEach=function(c,d){gr(this),this.g.forEach(function(f,g){f.forEach(function(C){c.call(d,C,g,this)},this)},this)},t.na=function(){gr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=c[g];for(let N=0;N<C.length;N++)f.push(d[g])}return f},t.V=function(c){gr(this);let d=[];if(typeof c=="string")mI(this,c)&&(d=d.concat(this.g.get(Qi(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return gr(this),this.i=null,c=Qi(this,c),mI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function yI(c,d,f){gI(c,d),0<f.length&&(c.i=null,c.g.set(Qi(c,d),R(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let N=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var C=N;k[g]!==""&&(C+="="+encodeURIComponent(String(k[g]))),c.push(C)}}return this.i=c.join("&")};function Qi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function KN(c,d){d&&!c.j&&(gr(c),c.i=null,c.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(gI(this,g),yI(this,C,f))},c)),c.j=d}function QN(c,d){let f=new js;if(a.Image){let g=new Image;g.onload=y(mr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(mr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(mr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(mr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function YN(c,d){let f=new js,g=new AbortController,C=setTimeout(()=>{g.abort(),mr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(N=>{clearTimeout(C),N.ok?mr(f,"TestPingServer: ok",!0,d):mr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),mr(f,"TestPingServer: error",!1,d)})}function mr(c,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function ZN(){this.g=new xN}function JN(c,d,f){let g=f||"";try{dI(c,function(C,N){let k=C;l(C)&&(k=Af(C)),d.push(g+N+"="+encodeURIComponent(k))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function zs(c){this.l=c.Ub||null,this.j=c.eb||!1}T(zs,Rf),zs.prototype.g=function(){return new tu(this.l,this.j)},zs.prototype.i=function(c){return function(){return c}}({});function tu(c,d){it.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(tu,it),t=tu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ws(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qs(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ws(this)),this.g&&(this.readyState=3,Ws(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function vI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?qs(this):Ws(this),this.readyState==3&&vI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,qs(this))},t.Qa=function(c){this.g&&(this.response=c,qs(this))},t.ga=function(){this.g&&qs(this)};function qs(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ws(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ws(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(tu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function _I(c){let d="";return oe(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function jf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=_I(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):be(c,d,f))}function Ne(c){it.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ne,it);var XN=/^https?$/i,eM=["POST","PUT"];t=Ne.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pf.g(),this.v=this.o?KE(this.o):KE(Pf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(N){EI(this,N);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let N of g.keys())f.set(N,g.get(N));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(eM,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,k]of f)this.g.setRequestHeader(N,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{TI(this),this.u=!0,this.g.send(c),this.u=!1}catch(N){EI(this,N)}};function EI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,II(c),nu(c)}function II(c){c.A||(c.A=!0,dt(c,"complete"),dt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,dt(this,"complete"),dt(this,"abort"),nu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nu(this,!0)),Ne.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?wI(this):this.bb())},t.bb=function(){wI(this)};function wI(c){if(c.h&&typeof s<"u"&&(!c.v[1]||xn(c)!=4||c.Z()!=2)){if(c.u&&xn(c)==4)zE(c.Ea,0,c);else if(dt(c,"readystatechange"),xn(c)==4){c.h=!1;try{let k=c.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=k===0){var C=String(c.D).match(hI)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!XN.test(C?C.toLowerCase():"")}f=g}if(f)dt(c,"complete"),dt(c,"success");else{c.m=6;try{var N=2<xn(c)?c.g.statusText:""}catch{N=""}c.l=N+" ["+c.Z()+"]",II(c)}}finally{nu(c)}}}}function nu(c,d){if(c.g){TI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||dt(c,"ready");try{f.onreadystatechange=g}catch{}}}function TI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function xn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),PN(d)}};function DI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function tM(c){let d={};c=(c.g&&2<=xn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(H(c[g]))continue;var f=b(c[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let N=d[C]||[];d[C]=N,N.push(f)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gs(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function bI(c){this.Aa=0,this.i=[],this.j=new js,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gs("baseRetryDelayMs",5e3,c),this.cb=Gs("retryDelaySeedMs",1e4,c),this.Wa=Gs("forwardChannelMaxRetries",2,c),this.wa=Gs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new sI(c&&c.concurrentRequestLimit),this.Da=new ZN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=bI.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){ht(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=kI(this,null,this.W),iu(this)};function Uf(c){if(CI(c),c.G==3){var d=c.U++,f=Pn(c.I);if(be(f,"SID",c.K),be(f,"RID",d),be(f,"TYPE","terminate"),Ks(c,f),d=new pr(c,c.j,d),d.L=2,d.v=eu(Pn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=OI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Zc(d)}xI(c)}function ru(c){c.g&&($f(c),c.g.cancel(),c.g=null)}function CI(c){ru(c),c.u&&(a.clearTimeout(c.u),c.u=null),ou(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function iu(c){if(!aI(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ms||VE(),Ps||(Ms(),Ps=!0),_f.add(d,c),c.B=0}}function nM(c,d){return cI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Vs(m(c.Ga,c,d),PI(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new pr(this,this.j,c),N=this.o;if(this.S&&(N?(N=v(N),w(N,this.S)):N=this.S),this.m!==null||this.O||(C.H=N,N=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=AI(this,C,d),f=Pn(this.I),be(f,"RID",c),be(f,"CVER",22),this.D&&be(f,"X-HTTP-Session-Id",this.D),Ks(this,f),N&&(this.O?d="headers="+encodeURIComponent(String(_I(N)))+"&"+d:this.m&&jf(f,this.m,N)),Vf(this.h,C),this.Ua&&be(f,"TYPE","init"),this.P?(be(f,"$req",d),be(f,"SID","null"),C.T=!0,kf(C,f,null)):kf(C,f,d),this.G=2}}else this.G==3&&(c?SI(this,c):this.i.length==0||aI(this.h)||SI(this))};function SI(c,d){var f;d?f=d.l:f=c.U++;let g=Pn(c.I);be(g,"SID",c.K),be(g,"RID",f),be(g,"AID",c.T),Ks(c,g),c.m&&c.o&&jf(g,c.m,c.o),f=new pr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=AI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Vf(c.h,f),kf(f,g,d)}function Ks(c,d){c.H&&oe(c.H,function(f,g){be(d,g,f)}),c.l&&dI({},function(f,g){be(d,g,f)})}function AI(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var C=c.i;let N=-1;for(;;){let k=["count="+f];N==-1?0<f?(N=C[0].g,k.push("ofs="+N)):N=0:k.push("ofs="+N);let Ie=!0;for(let Ze=0;Ze<f;Ze++){let pe=C[Ze].g,ot=C[Ze].map;if(pe-=N,0>pe)N=Math.max(0,C[Ze].g-100),Ie=!1;else try{JN(ot,k,"req"+pe+"_")}catch{g&&g(ot)}}if(Ie){g=k.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function RI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ms||VE(),Ps||(Ms(),Ps=!0),_f.add(d,c),c.v=0}}function Bf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Vs(m(c.Fa,c),PI(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,NI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Vs(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),ru(this),NI(this))};function $f(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function NI(c){c.g=new pr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Pn(c.qa);be(d,"RID","rpc"),be(d,"SID",c.K),be(d,"AID",c.T),be(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&be(d,"TO",c.ja),be(d,"TYPE","xmlhttp"),Ks(c,d),c.m&&c.o&&jf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=eu(Pn(d)),f.m=null,f.P=!0,rI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,ru(this),Bf(this),ht(19))};function ou(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function MI(c,d){var f=null;if(c.g==d){ou(c),$f(c),c.g=null;var g=2}else if(Ff(c.h,d))f=d.D,uI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;g=Kc(),dt(g,new XE(g,f)),iu(c)}else RI(c);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&nM(c,d)||g==2&&Bf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:Zr(c,5);break;case 4:Zr(c,10);break;case 3:Zr(c,6);break;default:Zr(c,2)}}}function PI(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Zr(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let C=!g;g=new Yr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Jc(g,"https"),eu(g),C?QN(g.toString(),f):YN(g.toString(),f)}else ht(2);c.G=0,c.l&&c.l.sa(d),xI(c),CI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function xI(c){if(c.G=0,c.ka=[],c.l){let d=lI(c.h);(d.length!=0||c.i.length!=0)&&(A(c.ka,d),A(c.ka,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.ra()}}function kI(c,d,f){var g=f instanceof Yr?Pn(f):new Yr(f);if(g.g!="")d&&(g.g=d+"."+g.g),Xc(g,g.s);else{var C=a.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var N=new Yr(null);g&&Jc(N,g),d&&(N.g=d),C&&Xc(N,C),f&&(N.l=f),g=N}return f=c.D,d=c.ya,f&&d&&be(g,f,d),be(g,"VER",c.la),Ks(c,g),g}function OI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ne(new zs({eb:f})):new Ne(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function LI(){}t=LI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function su(){}su.prototype.g=function(c,d){return new At(c,d)};function At(c,d){it.call(this),this.g=new bI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!H(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!H(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Yi(this)}T(At,it),At.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},At.prototype.close=function(){Uf(this.g)},At.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Af(c),c=f);d.i.push(new jN(d.Ya++,c)),d.G==3&&iu(d)},At.prototype.N=function(){this.g.l=null,delete this.j,Uf(this.g),delete this.g,At.aa.N.call(this)};function FI(c){Nf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}T(FI,Nf);function VI(){Mf.call(this),this.status=1}T(VI,Mf);function Yi(c){this.g=c}T(Yi,LI),Yi.prototype.ua=function(){dt(this.g,"a")},Yi.prototype.ta=function(c){dt(this.g,new FI(c))},Yi.prototype.sa=function(c){dt(this.g,new VI)},Yi.prototype.ra=function(){dt(this.g,"b")},su.prototype.createWebChannel=su.prototype.g,At.prototype.send=At.prototype.o,At.prototype.open=At.prototype.m,At.prototype.close=At.prototype.close,Tv=ar.createWebChannelTransport=function(){return new su},wv=ar.getStatEventTarget=function(){return Kc()},Iv=ar.Event=Kr,yh=ar.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qc.NO_ERROR=0,Qc.TIMEOUT=8,Qc.HTTP_ERROR=6,Ic=ar.ErrorCode=Qc,eI.COMPLETE="complete",Ev=ar.EventType=eI,QE.EventType=Ls,Ls.OPEN="a",Ls.CLOSE="b",Ls.ERROR="c",Ls.MESSAGE="d",it.prototype.listen=it.prototype.K,os=ar.WebChannel=QE,$$=ar.FetchXmlHttpFactory=zs,Ne.prototype.listenOnce=Ne.prototype.L,Ne.prototype.getLastError=Ne.prototype.Ka,Ne.prototype.getLastErrorCode=Ne.prototype.Ba,Ne.prototype.getStatus=Ne.prototype.Z,Ne.prototype.getResponseJson=Ne.prototype.Oa,Ne.prototype.getResponseText=Ne.prototype.oa,Ne.prototype.send=Ne.prototype.ea,Ne.prototype.setWithCredentials=Ne.prototype.Ha,_v=ar.XhrIo=Ne}).apply(typeof mh<"u"?mh:typeof self<"u"?self:typeof window<"u"?window:{});var rA="@firebase/firestore",iA="4.7.17";var Qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");var Cs="11.9.0";var Ui=new En("@firebase/firestore");function ss(){return Ui.logLevel}function V(t,...e){if(Ui.logLevel<=se.DEBUG){let n=e.map(pE);Ui.debug(`Firestore (${Cs}): ${t}`,...n)}}function cr(t,...e){if(Ui.logLevel<=se.ERROR){let n=e.map(pE);Ui.error(`Firestore (${Cs}): ${t}`,...n)}}function fs(t,...e){if(Ui.logLevel<=se.WARN){let n=e.map(pE);Ui.warn(`Firestore (${Cs}): ${t}`,...n)}}function pE(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function q(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,YA(t,r,n)}function YA(t,e,n){let r=`FIRESTORE (${Cs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw cr(r),new Error(r)}function ye(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||YA(e,i,r)}function Q(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=class extends kt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Tn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Dh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Av=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qe.UNAUTHENTICATED))}shutdown(){}},Rv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Nv=class{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ye(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Tn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Tn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Tn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string",31837,{l:r}),new Dh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string",2055,{h:e}),new Qe(e)}},Mv=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Pv=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Mv(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},bh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},xv=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ye(this.o===void 0,3512);let r=o=>{o.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,V("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new bh(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bh(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function H$(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function ZA(){return new TextEncoder}var Ch=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=H$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function re(t,e){return t<e?-1:t>e?1:0}function kv(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return re(r,i);{let o=ZA(),s=z$(o.encode(oA(t,n)),o.encode(oA(e,n)));return s!==0?s:re(r,i)}}n+=r>65535?2:1}return re(t.length,e.length)}function oA(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function z$(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return re(t[n],e[n]);return re(t.length,e.length)}function ps(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var sA=-62135596800,aA=1e6,nt=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*aA);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<sA)throw new F(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aA}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-sA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var J=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new nt(0,0))}static max(){return new t(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var cA="__name__",Sh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&q(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&q(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return re(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):kv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sr.fromString(e.substring(4,e.length-2))}},Re=class t extends Sh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new F(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},q$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Lt=class t extends Sh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return q$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cA}static keyField(){return new t([cA])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new F(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new F(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new F(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var z=class t{constructor(e){this.path=e}static fromPath(e){return new t(Re.fromString(e))}static fromName(e){return new t(Re.fromString(e).popFirst(5))}static empty(){return new t(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Re(e.slice()))}};var Sc=-1,Ov=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Ov.UNKNOWN_ID=-1;function W$(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new Bi(i,z.empty(),e)}function G$(t){return new Bi(t.readTime,t.key,Sc)}var Bi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(J.min(),z.empty(),Sc)}static max(){return new t(J.max(),z.empty(),Sc)}};function K$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}var Q$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Lv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ss(t){return _(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==Q$)throw t;V("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function Y$(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function As(t){return t.name==="IndexedDbTransactionError"}var gE=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ce&&this.ce(n),n}}t.le=-1;return t})(),mE=-1;function cf(t){return t==null}function Ac(t){return t===0&&1/t==-1/0}function Z$(t){return typeof t=="number"&&Number.isInteger(t)&&!Ac(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var JA="";function J$(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=uA(e)),e=X$(t.get(n),e);return uA(e)}function X$(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case JA:n+="";break;default:n+=o}}return n}function uA(t){return t+JA+""}var eH="remoteDocuments",XA="owner";var eR="mutationQueues";var tR="mutations";var nR="documentMutations",tH="remoteDocumentsV14";var rR="remoteDocumentGlobal";var iR="targets";var oR="targetDocuments";var sR="targetGlobal",aR="collectionParents";var cR="clientMetadata";var uR="bundles";var lR="namedQueries";var nH="indexConfiguration";var rH="indexState";var iH="indexEntries";var dR="documentOverlays";var oH="globals";var sH=[eR,tR,nR,eH,iR,XA,sR,oR,cR,rR,aR,uR,lR],cZ=[...sH,dR],aH=[eR,tR,nR,tH,iR,XA,sR,oR,cR,rR,aR,uR,lR,dR],cH=aH,uH=[...cH,nH,rH,iH];var uZ=[...uH,oH];function lA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gr(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Pe=class t{constructor(e,n){this.comparator=e,this.root=n||Dn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ls(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ls(this.root,e,this.comparator,!1)}getReverseIterator(){return new ls(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ls(this.root,e,this.comparator,!0)}},ls=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Dn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw q(27949);return e+(this.isRed()?0:1)}};Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw q(57766)}get value(){throw q(16141)}get color(){throw q(16727)}get left(){throw q(29726)}get right(){throw q(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ye=class t{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ah(this.data.getIterator())}getIteratorFrom(e){return new Ah(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Ah=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var qt=class t{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ye(Lt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ps(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Rh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var lt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Rh("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};lt.EMPTY_BYTE_STRING=new lt("");var lH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(t){if(ye(!!t,39018),typeof t=="string"){let e=0,n=lH.exec(t);if(ye(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ce(t.seconds),nanos:Ce(t.nanos)}}function Ce(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function lr(t){return typeof t=="string"?lt.fromBase64String(t):lt.fromUint8Array(t)}var fR="server_timestamp",pR="__type__",gR="__previous_value__",mR="__local_write_time__";function yE(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[pR])===null||n===void 0?void 0:n.stringValue)===fR}function uf(t){let e=t.mapValue.fields[gR];return yE(e)?uf(e):e}function Rc(t){let e=ur(t.mapValue.fields[mR].timestampValue);return new nt(e.seconds,e.nanos)}var Fv=class{constructor(e,n,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Nh="(default)",Mh=class t{constructor(e,n){this.projectId=e,this.database=n||Nh}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Nh}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var vE="__type__",yR="__max__",vh={mapValue:{fields:{__type__:{stringValue:yR}}}},_E="__vector__",gs="value";function $r(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yE(t)?4:_R(t)?9007199254740991:vR(t)?10:11:q(28295,{value:t})}function An(t,e){if(t===e)return!0;let n=$r(t);if(n!==$r(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rc(t).isEqual(Rc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=ur(i.timestampValue),a=ur(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return lr(i.bytesValue).isEqual(lr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ce(i.geoPointValue.latitude)===Ce(o.geoPointValue.latitude)&&Ce(i.geoPointValue.longitude)===Ce(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ce(i.integerValue)===Ce(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ce(i.doubleValue),a=Ce(o.doubleValue);return s===a?Ac(s)===Ac(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ps(t.arrayValue.values||[],e.arrayValue.values||[],An);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(lA(s)!==lA(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!An(s[u],a[u])))return!1;return!0}(t,e);default:return q(52216,{left:t})}}function Nc(t,e){return(t.values||[]).find(n=>An(n,e))!==void 0}function ms(t,e){if(t===e)return 0;let n=$r(t),r=$r(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ce(o.integerValue||o.doubleValue),u=Ce(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return dA(t.timestampValue,e.timestampValue);case 4:return dA(Rc(t),Rc(e));case 5:return kv(t.stringValue,e.stringValue);case 6:return function(o,s){let a=lr(o),u=lr(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=re(a[l],u[l]);if(h!==0)return h}return re(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=re(Ce(o.latitude),Ce(s.latitude));return a!==0?a:re(Ce(o.longitude),Ce(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return hA(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[gs])===null||a===void 0?void 0:a.arrayValue,T=(u=m[gs])===null||u===void 0?void 0:u.arrayValue,R=re(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=T?.values)===null||h===void 0?void 0:h.length)||0);return R!==0?R:hA(y,T)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===vh.mapValue&&s===vh.mapValue)return 0;if(o===vh.mapValue)return 1;if(s===vh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=kv(u[p],h[p]);if(m!==0)return m;let y=ms(a[u[p]],l[h[p]]);if(y!==0)return y}return re(u.length,h.length)}(t.mapValue,e.mapValue);default:throw q(23264,{Pe:n})}}function dA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);let n=ur(t),r=ur(e),i=re(n.seconds,r.seconds);return i!==0?i:re(n.nanos,r.nanos)}function hA(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=ms(n[i],r[i]);if(o)return o}return re(n.length,r.length)}function ys(t){return Vv(t)}function Vv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=ur(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return lr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Vv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Vv(n.fields[s])}`;return i+"}"}(t.mapValue):q(61005,{value:t})}function Ih(t){switch($r(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=uf(t);return e?16+Ih(e):16;case 5:return 2*t.stringValue.length;case 6:return lr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Ih(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Gr(r.fields,(o,s)=>{i+=o.length+Ih(s)}),i}(t.mapValue);default:throw q(13486,{value:t})}}function fA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jv(t){return!!t&&"integerValue"in t}function EE(t){return!!t&&"arrayValue"in t}function pA(t){return!!t&&"nullValue"in t}function gA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wh(t){return!!t&&"mapValue"in t}function vR(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[vE])===null||n===void 0?void 0:n.stringValue)===_E}function Tc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Gr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Tc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _R(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===yR}var dZ={mapValue:{fields:{[vE]:{stringValue:_E},[gs]:{arrayValue:{}}}}};var Ot=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tc(n)}setAll(e){let n=Lt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Tc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return An(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Gr(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Tc(this.value))}};function ER(t){let e=[];return Gr(t.fields,(n,r)=>{let i=new Lt([n]);if(wh(r)){let o=ER(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new qt(e)}var sn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,J.min(),J.min(),J.min(),Ot.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,J.min(),J.min(),Ot.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,J.min(),J.min(),Ot.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ot.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ot.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var vs=class{constructor(e,n){this.position=e,this.inclusive=n}};function mA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=z.comparator(z.fromName(s.referenceValue),n.key):r=ms(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function yA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!An(t.position[n],e.position[n]))return!1;return!0}var $i=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function dH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ph=class{},je=class t extends Ph{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Bv(e,n,r):n==="array-contains"?new zv(e,r):n==="in"?new qv(e,r):n==="not-in"?new Wv(e,r):n==="array-contains-any"?new Gv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $v(e,r):new Hv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ms(n,this.value)):n!==null&&$r(this.value)===$r(n)&&this.matchesComparison(ms(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},an=class t extends Ph{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new t(e,n)}matches(e){return IR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function IR(t){return t.op==="and"}function wR(t){return hH(t)&&IR(t)}function hH(t){for(let e of t.filters)if(e instanceof an)return!1;return!0}function Uv(t){if(t instanceof je)return t.field.canonicalString()+t.op.toString()+ys(t.value);if(wR(t))return t.filters.map(e=>Uv(e)).join(",");{let e=t.filters.map(n=>Uv(n)).join(",");return`${t.op}(${e})`}}function TR(t,e){return t instanceof je?function(r,i){return i instanceof je&&r.op===i.op&&r.field.isEqual(i.field)&&An(r.value,i.value)}(t,e):t instanceof an?function(r,i){return i instanceof an&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&TR(s,i.filters[a]),!0):!1}(t,e):void q(19439)}function DR(t){return t instanceof je?function(n){return`${n.field.canonicalString()} ${n.op} ${ys(n.value)}`}(t):t instanceof an?function(n){return n.op.toString()+" {"+n.getFilters().map(DR).join(" ,")+"}"}(t):"Filter"}var Bv=class extends je{constructor(e,n,r){super(e,n,r),this.key=z.fromName(r.referenceValue)}matches(e){let n=z.comparator(e.key,this.key);return this.matchesComparison(n)}},$v=class extends je{constructor(e,n){super(e,"in",n),this.keys=bR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Hv=class extends je{constructor(e,n){super(e,"not-in",n),this.keys=bR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function bR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>z.fromName(r.referenceValue))}var zv=class extends je{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return EE(n)&&Nc(n.arrayValue,this.value)}},qv=class extends je{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Nc(this.value.arrayValue,n)}},Wv=class extends je{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nc(this.value.arrayValue,n)}},Gv=class extends je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!EE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Nc(this.value.arrayValue,r))}};var Kv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function vA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Kv(t,e,n,r,i,o,s)}function IE(t){let e=Q(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Uv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),cf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ys(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ys(r)).join(",")),e.Ie=n}return e.Ie}function wE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!TR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yA(t.startAt,e.startAt)&&yA(t.endAt,e.endAt)}function Qv(t){return z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Hr=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function fH(t,e,n,r,i,o,s,a){return new Hr(t,e,n,r,i,o,s,a)}function lf(t){return new Hr(t)}function _A(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function CR(t){return t.collectionGroup!==null}function Dc(t){let e=Q(t);if(e.Ee===null){e.Ee=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ye(Lt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new $i(o,r))}),n.has(Lt.keyField().canonicalString())||e.Ee.push(new $i(Lt.keyField(),r))}return e.Ee}function bn(t){let e=Q(t);return e.de||(e.de=pH(e,Dc(t))),e.de}function pH(t,e){if(t.limitType==="F")return vA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new $i(i.field,o)});let n=t.endAt?new vs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vs(t.startAt.position,t.startAt.inclusive):null;return vA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Yv(t,e){let n=t.filters.concat([e]);return new Hr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xh(t,e,n){return new Hr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function df(t,e){return wE(bn(t),bn(e))&&t.limitType===e.limitType}function SR(t){return`${IE(bn(t))}|lt:${t.limitType}`}function as(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>DR(i)).join(", ")}]`),cf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ys(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ys(i)).join(",")),`Target(${r})`}(bn(t))}; limitType=${t.limitType})`}function hf(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Dc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=mA(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Dc(r),i)||r.endAt&&!function(s,a,u){let l=mA(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Dc(r),i))}(t,e)}function gH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function AR(t){return(e,n)=>{let r=!1;for(let i of Dc(t)){let o=mH(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function mH(t,e,n){let r=t.field.isKeyField()?z.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?ms(u,l):q(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return q(19790,{direction:t.dir})}}var dr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Gr(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return hR(this.inner)}size(){return this.innerSize}};var yH=new Pe(z.comparator);function hr(){return yH}var RR=new Pe(z.comparator);function wc(...t){let e=RR;for(let n of t)e=e.insert(n.key,n);return e}function NR(t){let e=RR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fi(){return bc()}function MR(){return bc()}function bc(){return new dr(t=>t.toString(),(t,e)=>t.isEqual(e))}var vH=new Pe(z.comparator),_H=new Ye(z.comparator);function ue(...t){let e=_H;for(let n of t)e=e.add(n);return e}var EH=new Ye(re);function IH(){return EH}function TE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ac(e)?"-0":e}}function PR(t){return{integerValue:""+t}}function wH(t,e){return Z$(e)?PR(e):TE(t,e)}var _s=class{constructor(){this._=void 0}};function TH(t,e,n){return t instanceof Es?function(i,o){let s={fields:{[pR]:{stringValue:fR},[mR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&yE(o)&&(o=uf(o)),o&&(s.fields[gR]=o),{mapValue:s}}(n,e):t instanceof Hi?kR(t,e):t instanceof zi?OR(t,e):function(i,o){let s=xR(i,o),a=EA(s)+EA(i.Re);return jv(s)&&jv(i.Re)?PR(a):TE(i.serializer,a)}(t,e)}function DH(t,e,n){return t instanceof Hi?kR(t,e):t instanceof zi?OR(t,e):n}function xR(t,e){return t instanceof Is?function(r){return jv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Es=class extends _s{},Hi=class extends _s{constructor(e){super(),this.elements=e}};function kR(t,e){let n=LR(e);for(let r of t.elements)n.some(i=>An(i,r))||n.push(r);return{arrayValue:{values:n}}}var zi=class extends _s{constructor(e){super(),this.elements=e}};function OR(t,e){let n=LR(e);for(let r of t.elements)n=n.filter(i=>!An(i,r));return{arrayValue:{values:n}}}var Is=class extends _s{constructor(e,n){super(),this.serializer=e,this.Re=n}};function EA(t){return Ce(t.integerValue||t.doubleValue)}function LR(t){return EE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function bH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Hi&&i instanceof Hi||r instanceof zi&&i instanceof zi?ps(r.elements,i.elements,An):r instanceof Is&&i instanceof Is?An(r.Re,i.Re):r instanceof Es&&i instanceof Es}(t.transform,e.transform)}var Zv=class{constructor(e,n){this.version=e,this.transformResults=n}},Cn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Th(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ws=class{};function FR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mc(t.key,Cn.none()):new qi(t.key,t.data,Cn.none());{let n=t.data,r=Ot.empty(),i=new Ye(Lt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Rn(t.key,r,new qt(i.toArray()),Cn.none())}}function CH(t,e,n){t instanceof qi?function(i,o,s){let a=i.value.clone(),u=wA(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Rn?function(i,o,s){if(!Th(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=wA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(VR(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Cc(t,e,n,r){return t instanceof qi?function(o,s,a,u){if(!Th(o.precondition,s))return a;let l=o.value.clone(),h=TA(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Rn?function(o,s,a,u){if(!Th(o.precondition,s))return a;let l=TA(o.fieldTransforms,u,s),h=s.data;return h.setAll(VR(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Th(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function SH(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=xR(r.transform,i||null);o!=null&&(n===null&&(n=Ot.empty()),n.set(r.field,o))}return n||null}function IA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ps(r,i,(o,s)=>bH(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var qi=class extends ws{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Rn=class extends ws{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function VR(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function wA(t,e,n){let r=new Map;ye(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,DH(s,a,n[i]))}return r}function TA(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,TH(o,s,e))}return r}var Mc=class extends ws{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Jv=class extends ws{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Xv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&CH(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Cc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=MR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=FR(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&ps(this.mutations,e.mutations,(n,r)=>IA(n,r))&&ps(this.baseMutations,e.baseMutations,(n,r)=>IA(n,r))}},e_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ye(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return vH}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var t_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var n_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Fe,fe;function AH(t){switch(t){case M.OK:return q(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return q(15467,{code:t})}}function jR(t){if(t===void 0)return cr("GRPC error has no .code"),M.UNKNOWN;switch(t){case Fe.OK:return M.OK;case Fe.CANCELLED:return M.CANCELLED;case Fe.UNKNOWN:return M.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return M.INTERNAL;case Fe.UNAVAILABLE:return M.UNAVAILABLE;case Fe.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Fe.NOT_FOUND:return M.NOT_FOUND;case Fe.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Fe.ABORTED:return M.ABORTED;case Fe.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Fe.DATA_LOSS:return M.DATA_LOSS;default:return q(39323,{code:t})}}(fe=Fe||(Fe={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var DA=null;var RH=new sr([4294967295,4294967295],0);function bA(t){let e=ZA().encode(t),n=new vv;return n.update(e),new Uint8Array(n.digest())}function CA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new sr([n,r],0),new sr([i,o],0)]}var r_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vi(`Invalid padding: ${n}`);if(r<0)throw new Vi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vi(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=sr.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(sr.fromNumber(r)));return i.compare(RH)===1&&(i=new sr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let n=bA(e),[r,i]=CA(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let n=bA(e),[r,i]=CA(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Vi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var kh=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Pc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(J.min(),i,new Pe(re),hr(),ue())}},Pc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ue(),ue(),ue())}};var ds=class{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}},Oh=class{constructor(e,n){this.targetId=e,this.Ce=n}},Lh=class{constructor(e,n,r=lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Fh=class{constructor(){this.Fe=0,this.Me=SA(),this.xe=lt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ue(),n=ue(),r=ue();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:q(38017,{changeType:o})}}),new Pc(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=SA()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ye(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},i_=class{constructor(e){this.ze=e,this.je=new Map,this.He=hr(),this.Je=_h(),this.Ye=_h(),this.Ze=new Pe(re)}Xe(e){for(let n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(let n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{let r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){let n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){let o=i.target;if(Qv(o))if(r===0){let s=new z(o.path);this.tt(n,s,sn.newNoDocument(s,J.min()))}else ye(r===1,20013,{expectedCount:r});else{let s=this.ut(n);if(s!==r){let a=this.ct(e),u=a?this.lt(a,e,s):1;if(u!==0){this.st(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,l)}DA?.ht(function(h,p,m,y,T){var R,A,O,H,U,de;let Ue={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},oe=p.unchangedNames;return oe&&(Ue.bloomFilter={applied:T===0,hashCount:(R=oe?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(H=(O=(A=oe?.bits)===null||A===void 0?void 0:A.bitmap)===null||O===void 0?void 0:O.length)!==null&&H!==void 0?H:0,padding:(de=(U=oe?.bits)===null||U===void 0?void 0:U.padding)!==null&&de!==void 0?de:0,mightContain:D=>{var v;return(v=y?.mightContain(D))!==null&&v!==void 0&&v}}),Ue}(s,e.Ce,this.ze.Pt(),a,u))}}}}ct(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=lr(r).toUint8Array()}catch(u){if(u instanceof Rh)return fs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new r_(s,i,o)}catch(u){return fs(u instanceof Vi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){let r=this.ze.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,o,null),i++)}),i}It(e){let n=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&Qv(a.target)){let u=new z(a.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,sn.newNoDocument(u,e))}o.Le&&(n.set(s,o.qe()),o.Qe())}});let r=ue();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this._t(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new kh(e,n,this.Ze,this.He,r);return this.He=hr(),this.Je=_h(),this.Ye=_h(),this.Ze=new Pe(re),i}et(e,n){if(!this.it(e))return;let r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){let n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Fh,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ye(re),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ye(re),this.Je=this.Je.insert(e,n)),n}it(e){let n=this._t(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}_t(e){let n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Fh),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}};function _h(){return new Pe(z.comparator)}function SA(){return new Pe(z.comparator)}var NH={asc:"ASCENDING",desc:"DESCENDING"},MH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PH={and:"AND",or:"OR"},o_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function s_(t,e){return t.useProto3Json||cf(e)?e:{value:e}}function Vh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xH(t,e){return Vh(t,e.toTimestamp())}function Sn(t){return ye(!!t,49232),J.fromTimestamp(function(n){let r=ur(n);return new nt(r.seconds,r.nanos)}(t))}function DE(t,e){return a_(t,e).canonicalString()}function a_(t,e){let n=function(i){return new Re(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function BR(t){let e=Re.fromString(t);return ye(WR(e),10190,{key:e.toString()}),e}function c_(t,e){return DE(t.databaseId,e.path)}function Dv(t,e){let n=BR(e);if(n.get(1)!==t.databaseId.projectId)throw new F(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z(HR(n))}function $R(t,e){return DE(t.databaseId,e)}function kH(t){let e=BR(t);return e.length===4?Re.emptyPath():HR(e)}function u_(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function HR(t){return ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function AA(t,e,n){return{name:c_(t,e),fields:n.value.mapValue.fields}}function OH(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:q(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(ye(h===void 0||typeof h=="string",58123),lt.fromBase64String(h||"")):(ye(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),lt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?M.UNKNOWN:jR(l.code);return new F(h,l.message||"")}(s);n=new Lh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Dv(t,r.document.name),o=Sn(r.document.updateTime),s=r.document.createTime?Sn(r.document.createTime):J.min(),a=new Ot({mapValue:{fields:r.document.fields}}),u=sn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new ds(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Dv(t,r.document),o=r.readTime?Sn(r.readTime):J.min(),s=sn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ds([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Dv(t,r.document),o=r.removedTargetIds||[];n=new ds([],o,i,null)}else{if(!("filter"in e))return q(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new n_(i,o),a=r.targetId;n=new Oh(a,s)}}return n}function LH(t,e){let n;if(e instanceof qi)n={update:AA(t,e.key,e.value)};else if(e instanceof Mc)n={delete:c_(t,e.key)};else if(e instanceof Rn)n={update:AA(t,e.key,e.data),updateMask:qH(e.fieldMask)};else{if(!(e instanceof Jv))return q(16599,{ft:e.type});n={verify:c_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Es)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Hi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof zi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Is)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw q(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:xH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:q(27497)}(t,e.precondition)),n}function FH(t,e){return t&&t.length>0?(ye(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Sn(i.updateTime):Sn(o);return s.isEqual(J.min())&&(s=Sn(o)),new Zv(s,i.transformResults||[])}(n,e))):[]}function VH(t,e){return{documents:[$R(t,e.path)]}}function jH(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$R(t,i);let o=function(l){if(l.length!==0)return qR(an.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:cs(m.field),direction:$H(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=s_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:n,parent:i}}function UH(t){let e=kH(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ye(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=zR(p);return m instanceof an&&wR(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(T){return new $i(us(T.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,cf(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new vs(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new vs(y,m)}(n.endAt)),fH(e,i,s,o,a,"F",u,l)}function BH(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=us(n.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=us(n.unaryFilter.field);return je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=us(n.unaryFilter.field);return je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=us(n.unaryFilter.field);return je.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return q(61313);default:return q(60726)}}(t):t.fieldFilter!==void 0?function(n){return je.create(us(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return q(58110);default:return q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return an.create(n.compositeFilter.filters.map(r=>zR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q(1026)}}(n.compositeFilter.op))}(t):q(30097,{filter:t})}function $H(t){return NH[t]}function HH(t){return MH[t]}function zH(t){return PH[t]}function cs(t){return{fieldPath:t.canonicalString()}}function us(t){return Lt.fromServerFormat(t.fieldPath)}function qR(t){return t instanceof je?function(n){if(n.op==="=="){if(gA(n.value))return{unaryFilter:{field:cs(n.field),op:"IS_NAN"}};if(pA(n.value))return{unaryFilter:{field:cs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gA(n.value))return{unaryFilter:{field:cs(n.field),op:"IS_NOT_NAN"}};if(pA(n.value))return{unaryFilter:{field:cs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cs(n.field),op:HH(n.op),value:n.value}}}(t):t instanceof an?function(n){let r=n.getFilters().map(i=>qR(i));return r.length===1?r[0]:{compositeFilter:{op:zH(n.op),filters:r}}}(t):q(54877,{filter:t})}function qH(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var xc=class t{constructor(e,n,r,i,o=J.min(),s=J.min(),a=lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var l_=class{constructor(e){this.wt=e}};function WH(t){let e=UH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xh(e,e.limit,"L"):e}var jh=class{constructor(){}vt(e,n){this.Ct(e,n),n.Ft()}Ct(e,n){if("nullValue"in e)this.Mt(n,5);else if("booleanValue"in e)this.Mt(n,10),n.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(n,15),n.xt(Ce(e.integerValue));else if("doubleValue"in e){let r=Ce(e.doubleValue);isNaN(r)?this.Mt(n,13):(this.Mt(n,15),Ac(r)?n.xt(0):n.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(n,20),typeof r=="string"&&(r=ur(r)),n.Ot(`${r.seconds||""}`),n.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,n),this.Bt(n);else if("bytesValue"in e)this.Mt(n,30),n.Lt(lr(e.bytesValue)),this.Bt(n);else if("referenceValue"in e)this.kt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(n,45),n.xt(r.latitude||0),n.xt(r.longitude||0)}else"mapValue"in e?_R(e)?this.Mt(n,Number.MAX_SAFE_INTEGER):vR(e)?this.qt(e.mapValue,n):(this.Qt(e.mapValue,n),this.Bt(n)):"arrayValue"in e?(this.$t(e.arrayValue,n),this.Bt(n)):q(19022,{Ut:e})}Nt(e,n){this.Mt(n,25),this.Kt(e,n)}Kt(e,n){n.Ot(e)}Qt(e,n){let r=e.fields||{};this.Mt(n,55);for(let i of Object.keys(r))this.Nt(i,n),this.Ct(r[i],n)}qt(e,n){var r,i;let o=e.fields||{};this.Mt(n,53);let s=gs,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(n,15),n.xt(Ce(a)),this.Nt(s,n),this.Ct(o[s],n)}$t(e,n){let r=e.values||[];this.Mt(n,50);for(let i of r)this.Ct(i,n)}kt(e,n){this.Mt(n,37),z.fromName(e).path.forEach(r=>{this.Mt(n,60),this.Kt(r,n)})}Mt(e,n){e.xt(n)}Bt(e){e.xt(2)}};jh.Wt=new jh;var d_=class{constructor(){this.Cn=new h_}addToCollectionParentIndex(e,n){return this.Cn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Bi.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Bi.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},h_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ye(Re.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ye(Re.comparator)).toArray()}};var hZ=new Uint8Array(0);var RA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GR=41943040,zt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};zt.DEFAULT_COLLECTION_PERCENTILE=10,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zt.DEFAULT=new zt(GR,zt.DEFAULT_COLLECTION_PERCENTILE,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zt.DISABLED=new zt(-1,0,0);var kc=class t{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new t(0)}static lr(){return new t(-1)}};var NA="LruGarbageCollector",GH=1048576;function MA([t,e],[n,r]){let i=re(t,n);return i===0?re(e,r):i}var f_=class{constructor(e){this.Er=e,this.buffer=new Ye(MA),this.dr=0}Ar(){return++this.dr}Rr(e){let n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();MA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},p_=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){V(NA,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){As(n)?V(NA,"Ignoring IndexedDB error during garbage collection: ",n):yield Ss(n)}yield this.mr(3e5)}))}},g_=class{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(gE.le);let r=new f_(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(V("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(RA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(V("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RA):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(V("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),ss()<=se.DEBUG&&V("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function KH(t,e){return new g_(t,e)}var m_=class{constructor(){this.changes=new dr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var y_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var v_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Cc(r.mutation,i,qt.empty(),nt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){let i=Fi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=wc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Fi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=hr(),s=bc(),a=function(){return bc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Rn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Cc(h.mutation,l,h.mutation.getFieldMask(),nt.now())):s.set(l.key,qt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new y_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=bc(),i=new Pe((s,a)=>s-a),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||qt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=MR();h.forEach(m=>{if(!o.has(m)){let y=FR(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):CR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(Fi()),a=Sc,u=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ue())).next(h=>({batchId:a,changes:NR(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(r=>{let i=wc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=wc();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{let l=function(p,m){return new Hr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,sn.newInvalidDocument(h)))});let a=wc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Cc(h.mutation,l,qt.empty(),nt.now()),hf(n,l)&&(a=a.insert(u,l))}),a})}};var __=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return P.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Sn(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:WH(i.bundledQuery),readTime:Sn(i.readTime)}}(n)),P.resolve()}};var E_=class{constructor(){this.overlays=new Pe(z.comparator),this.Qr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Fi();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=Fi(),o=n.length+1,s=new z(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Pe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Fi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Fi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}St(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new t_(n,r));let o=this.Qr.get(n);o===void 0&&(o=ue(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}};var I_=class{constructor(){this.sessionToken=lt.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var Oc=class{constructor(){this.$r=new Ye(Ve.Ur),this.Kr=new Ye(Ve.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){let r=new Ve(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Ve(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){let n=new z(new Re([])),r=new Ve(n,e),i=new Ve(n,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let n=new z(new Re([])),r=new Ve(n,e),i=new Ve(n,e+1),o=ue();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ve(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ve=class{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return z.comparator(e.key,n.key)||re(e.Zr,n.Zr)}static Wr(e,n){return re(e.Zr,n.Zr)||z.comparator(e.key,n.key)}};var w_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ye(Ve.Ur)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Xv(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new Ve(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.ti(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?mE:this.nr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ve(n,0),i=new Ve(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ye(re);return n.forEach(i=>{let o=new Ve(i,0),s=new Ve(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),P.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;z.isDocumentKey(o)||(o=o.child(""));let s=new Ve(new z(o),0),a=new Ye(re);return this.Xr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Zr)),!0)},s),P.resolve(this.ni(a))}ni(e){let n=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ye(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return P.forEach(n.mutations,i=>{let o=new Ve(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){let r=new Ve(n,0),i=this.Xr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var T_=class{constructor(e){this.ii=e,this.docs=function(){return new Pe(z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let r=hr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():sn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=hr(),s=n.path,a=new z(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||K$(G$(h),r)<=0||(i.has(h.key)||hf(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){q(9500)}si(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new D_(this)}getSize(e){return P.resolve(this.size)}},D_=class extends m_{constructor(e){super(),this.Br=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}};var b_=class{constructor(e){this.persistence=e,this.oi=new dr(n=>IE(n),wE),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this._i=0,this.ai=new Oc,this.targetCount=0,this.ui=kc.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),P.resolve()}Tr(e){this.oi.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ui=new kc(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Tr(n),P.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.oi.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.ai.Yr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.ai.containsKey(n))}};var Uh=class{constructor(e,n){this.ci={},this.overlays={},this.li=new gE(0),this.hi=!1,this.hi=!0,this.Pi=new I_,this.referenceDelegate=e(this),this.Ti=new b_(this),this.indexManager=new d_,this.remoteDocumentCache=function(i){return new T_(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new l_(n),this.Ei=new __(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new E_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new w_(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new C_(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,n){return P.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}},C_=class extends Lv{constructor(e){super(),this.currentSequenceNumber=e}},S_=class t{constructor(e){this.persistence=e,this.Vi=new Oc,this.mi=null}static fi(e){return new t(e)}get gi(){if(this.mi)return this.mi;throw q(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),P.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.gi,r=>{let i=z.fromPath(r);return this.pi(e,i).next(o=>{o||n.removeEntry(i,J.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return P.or([()=>P.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}},Bh=class t{constructor(e,n){this.persistence=e,this.yi=new dr(r=>J$(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=KH(this,n)}static fi(e,n){return new t(e,n)}di(){}Ai(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){let n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return P.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?P.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,J.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),P.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ih(e.data.value)),n}Dr(e,n,r){return P.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.yi.get(n);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var A_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=ue(),i=ue();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var R_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var N_=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return bS()?8:Y$(Ke())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ws(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.bs(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new R_;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,n,s,a.size)})}).next(()=>o.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(ss()<=se.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",as(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),P.resolve()):(ss()<=se.DEBUG&&V("QueryEngine","Query:",as(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(ss()<=se.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",as(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bn(n))):P.resolve())}ws(e,n){if(_A(n))return P.resolve(null);let r=bn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xh(n,null,"F"),r=bn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ue(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.vs(n,a);return this.Cs(n,l,s,u.readTime)?this.ws(e,xh(n,null,"F")):this.Fs(e,l,n,u)}))})))}bs(e,n,r,i){return _A(n)||i.isEqual(J.min())?P.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(n,o);return this.Cs(n,s,r,i)?P.resolve(null):(ss()<=se.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),as(n)),this.Fs(e,s,n,W$(i,Sc)).next(a=>a))})}vs(e,n){let r=new Ye(AR(e));return n.forEach((i,o)=>{hf(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return ss()<=se.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",as(n)),this.ys.getDocumentsMatchingQuery(e,n,Bi.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var bE="LocalStore",QH=3e8,M_=class{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Pe(re),this.Os=new dr(o=>IE(o),wE),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v_(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}};function YH(t,e,n,r){return new M_(t,e,n,r)}function KR(t,e){return _(this,null,function*(){let n=Q(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ue();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({ks:l,removedBatchIds:s,addedBatchIds:a}))})})})}function ZH(t,e){let n=Q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(T=>{y=y.next(()=>h.getEntry(u,T)).next(R=>{let A=l.docVersions.get(T);ye(A!==null,48541),R.version.compareTo(A)<0&&(p.applyToRemoteDocument(R,l),R.isValidDocument()&&(R.setReadTime(l.commitVersion),h.addEntry(R)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ue();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function QR(t){let e=Q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function JH(t,e){let n=Q(t),r=e.snapshotVersion,i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(lt.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(R,A,O){return R.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=QH?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(m,y,h)&&a.push(n.Ti.updateTargetData(o,y))});let u=hr(),l=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(XH(o,s,e.documentUpdates).next(h=>{u=h.qs,l=h.Qs})),!r.isEqual(J.min())){let h=n.Ti.getLastRemoteSnapshotVersion(o).next(p=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.xs=i,o))}function XH(t,e,n){let r=ue(),i=ue();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=hr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):V(bE,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{qs:s,Qs:i}})}function e4(t,e){let n=Q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=mE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function t4(t,e){let n=Q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.Ti.allocateTargetId(r).next(s=>(i=new xc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}function P_(t,e,n){return _(this,null,function*(){let r=Q(t),i=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!As(s))throw s;V(bE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function PA(t,e,n){let r=Q(t),i=J.min(),o=ue();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=Q(u),m=p.Os.get(h);return m!==void 0?P.resolve(p.xs.get(m)):p.Ti.getTargetData(l,h)}(r,s,bn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,n?i:J.min(),n?o:ue())).next(a=>(n4(r,gH(e),a),{documents:a,$s:o})))}function n4(t,e,n){let r=t.Ns.get(e)||J.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}var $h=class{constructor(){this.activeTargetIds=IH()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var x_=class{constructor(){this.xo=new $h,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new $h,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var k_=class{No(e){}shutdown(){}};var xA="ConnectivityMonitor",Hh=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){V(xA,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){V(xA,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Eh=null;function O_(){return Eh===null?Eh=function(){return 268435456+Math.round(2147483648*Math.random())}():Eh++,"0x"+Eh.toString(16)}var bv="RestConnection",r4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},L_=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Nh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,o){let s=O_(),a=this.jo(e,n.toUriEncodedString());V(bv,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,o);let{host:l}=new URL(a),h=kr(l);return this.Jo(e,a,u,r,h).then(p=>(V(bv,`Received RPC '${e}' ${s}: `,p),p),p=>{throw fs(bv,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,n,r,i,o,s){return this.zo(e,n,r,i,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,n){let r=r4[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}};var F_=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var ct="WebChannelConnection",V_=class extends L_{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){let s=O_();return new Promise((a,u)=>{let l=new _v;l.setWithCredentials(!0),l.listenOnce(Ev.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ic.NO_ERROR:let p=l.getResponseJson();V(ct,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Ic.TIMEOUT:V(ct,`RPC '${e}' ${s} timed out`),u(new F(M.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:let m=l.getStatus();if(V(ct,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let T=y?.error;if(T&&T.status&&T.message){let R=function(O){let H=O.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(H)>=0?H:M.UNKNOWN}(T.status);u(new F(R,T.message))}else u(new F(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new F(M.UNAVAILABLE,"Connection failed."));break;default:q(9055,{h_:e,streamId:s,P_:l.getLastErrorCode(),T_:l.getLastError()})}}finally{V(ct,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);V(ct,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}I_(e,n,r){let i=O_(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Tv(),a=wv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");V(ct,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.E_(p);let m=!1,y=!1,T=new F_({Zo:A=>{y?V(ct,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(m||(V(ct,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),V(ct,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Xo:()=>p.close()}),R=(A,O,H)=>{A.listen(O,U=>{try{H(U)}catch(de){setTimeout(()=>{throw de},0)}})};return R(p,os.EventType.OPEN,()=>{y||(V(ct,`RPC '${e}' stream ${i} transport opened.`),T.__())}),R(p,os.EventType.CLOSE,()=>{y||(y=!0,V(ct,`RPC '${e}' stream ${i} transport closed`),T.u_(),this.d_(p))}),R(p,os.EventType.ERROR,A=>{y||(y=!0,fs(ct,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),T.u_(new F(M.UNAVAILABLE,"The operation could not be completed")))}),R(p,os.EventType.MESSAGE,A=>{var O;if(!y){let H=A.data[0];ye(!!H,16349);let U=H,de=U?.error||((O=U[0])===null||O===void 0?void 0:O.error);if(de){V(ct,`RPC '${e}' stream ${i} received error:`,de);let Ue=de.status,oe=function(I){let w=Fe[I];if(w!==void 0)return jR(w)}(Ue),D=de.message;oe===void 0&&(oe=M.INTERNAL,D="Unknown error status: "+Ue+" with message "+de.message),y=!0,T.u_(new F(oe,D)),p.close()}else V(ct,`RPC '${e}' stream ${i} received:`,H),T.c_(H)}}),R(a,Iv.STAT_EVENT,A=>{A.stat===yh.PROXY?V(ct,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===yh.NOPROXY&&V(ct,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.a_()},0),T}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}};function Cv(){return typeof document<"u"?document:null}function ff(t){return new o_(t,!0)}var zh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();let n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}};var kA="PersistentStream",qh=class{constructor(e,n,r,i,o,s,a,u){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new zh(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}stop(){return _(this,null,function*(){this.O_()&&(yield this.close(0))})}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}q_(){return _(this,null,function*(){if(this.N_())return this.close(0)})}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}close(e,n){return _(this,null,function*(){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(cr(n.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(n)})}W_(){}auth(){this.state=1;let e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{let i=new F(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){let r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(()=>_(this,null,function*(){this.state=0,this.start()}))}j_(e){return V(kA,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(V(kA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},j_=class extends qh{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();let n=OH(this.serializer,e),r=function(o){if(!("targetChange"in o))return J.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?J.min():s.readTime?Sn(s.readTime):J.min()}(e);return this.listener.Y_(n,r)}Z_(e){let n={};n.database=u_(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=Qv(u)?{documents:VH(o,u)}:{query:jH(o,u).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=UR(o,s.resumeToken);let l=s_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(J.min())>0){a.readTime=Vh(o,s.snapshotVersion.toTimestamp());let l=s_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=BH(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){let n={};n.database=u_(this.serializer),n.removeTarget=e,this.Q_(n)}},U_=class extends qh{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();let n=FH(e.writeResults,e.commitTime),r=Sn(e.commitTime);return this.listener.ra(r,n)}ia(){let e={};e.database=u_(this.serializer),this.Q_(e)}ta(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>LH(this.serializer,r))};this.Q_(n)}};var B_=class{},$_=class extends B_{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new F(M.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,a_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(M.UNKNOWN,o.toString())})}Yo(e,n,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,a_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(M.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}},H_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(cr(n),this.ua=!1):V("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}};var Wi="RemoteStore",z_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Gi(this)&&(V(Wi,"Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=Q(u);l.da.add(4),yield $c(l),l.Va.set("Unknown"),l.da.delete(4),yield pf(l)})}(this))}))}),this.Va=new H_(r,i)}};function pf(t){return _(this,null,function*(){if(Gi(t))for(let e of t.Aa)yield e(!0)})}function $c(t){return _(this,null,function*(){for(let e of t.Aa)yield e(!1)})}function YR(t,e){let n=Q(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),RE(n)?AE(n):Rs(n).N_()&&SE(n,e))}function CE(t,e){let n=Q(t),r=Rs(n);n.Ea.delete(e),r.N_()&&ZR(n,e),n.Ea.size===0&&(r.N_()?r.k_():Gi(n)&&n.Va.set("Unknown"))}function SE(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rs(t).Z_(e)}function ZR(t,e){t.ma.Ke(e),Rs(t).X_(e)}function AE(t){t.ma=new i_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Rs(t).start(),t.Va.ca()}function RE(t){return Gi(t)&&!Rs(t).O_()&&t.Ea.size>0}function Gi(t){return Q(t).da.size===0}function JR(t){t.ma=void 0}function i4(t){return _(this,null,function*(){t.Va.set("Online")})}function o4(t){return _(this,null,function*(){t.Ea.forEach((e,n)=>{SE(t,e)})})}function s4(t,e){return _(this,null,function*(){JR(t),RE(t)?(t.Va.Pa(e),AE(t)):t.Va.set("Unknown")})}function a4(t,e,n){return _(this,null,function*(){if(t.Va.set("Online"),e instanceof Lh&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ea.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ea.delete(a),i.ma.removeTarget(a))})}(t,e)}catch(r){V(Wi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Wh(t,r)}else if(e instanceof ds?t.ma.Xe(e):e instanceof Oh?t.ma.ot(e):t.ma.nt(e),!n.isEqual(J.min()))try{let r=yield QR(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.ma.It(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ea.get(l);h&&o.Ea.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ea.get(u);if(!h)return;o.Ea.set(u,h.withResumeToken(lt.EMPTY_BYTE_STRING,h.snapshotVersion)),ZR(o,u);let p=new xc(h.target,u,l,h.sequenceNumber);SE(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){V(Wi,"Failed to raise snapshot:",r),yield Wh(t,r)}})}function Wh(t,e,n){return _(this,null,function*(){if(!As(e))throw e;t.da.add(1),yield $c(t),t.Va.set("Offline"),n||(n=()=>QR(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){V(Wi,"Retrying IndexedDB access"),yield n(),t.da.delete(1),yield pf(t)}))})}function XR(t,e){return e().catch(n=>Wh(t,n,e))}function gf(t){return _(this,null,function*(){let e=Q(t),n=zr(e),r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:mE;for(;c4(e);)try{let i=yield e4(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,u4(e,i)}catch(i){yield Wh(e,i)}eN(e)&&tN(e)})}function c4(t){return Gi(t)&&t.Ia.length<10}function u4(t,e){t.Ia.push(e);let n=zr(t);n.N_()&&n.ea&&n.ta(e.mutations)}function eN(t){return Gi(t)&&!zr(t).O_()&&t.Ia.length>0}function tN(t){zr(t).start()}function l4(t){return _(this,null,function*(){zr(t).ia()})}function d4(t){return _(this,null,function*(){let e=zr(t);for(let n of t.Ia)e.ta(n.mutations)})}function h4(t,e,n){return _(this,null,function*(){let r=t.Ia.shift(),i=e_.from(r,e,n);yield XR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield gf(t)})}function f4(t,e){return _(this,null,function*(){e&&zr(t).ea&&(yield function(r,i){return _(this,null,function*(){if(function(s){return AH(s)&&s!==M.ABORTED}(i.code)){let o=r.Ia.shift();zr(r).L_(),yield XR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield gf(r)}})}(t,e)),eN(t)&&tN(t)})}function OA(t,e){return _(this,null,function*(){let n=Q(t);n.asyncQueue.verifyOperationInProgress(),V(Wi,"RemoteStore received new credentials");let r=Gi(n);n.da.add(3),yield $c(n),r&&n.Va.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),yield pf(n)})}function p4(t,e){return _(this,null,function*(){let n=Q(t);e?(n.da.delete(2),yield pf(n)):e||(n.da.add(2),yield $c(n),n.Va.set("Unknown"))})}function Rs(t){return t.fa||(t.fa=function(n,r,i){let o=Q(n);return o.oa(),new j_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:i4.bind(null,t),n_:o4.bind(null,t),i_:s4.bind(null,t),Y_:a4.bind(null,t)}),t.Aa.push(e=>_(null,null,function*(){e?(t.fa.L_(),RE(t)?AE(t):t.Va.set("Unknown")):(yield t.fa.stop(),JR(t))}))),t.fa}function zr(t){return t.ga||(t.ga=function(n,r,i){let o=Q(n);return o.oa(),new U_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:l4.bind(null,t),i_:f4.bind(null,t),na:d4.bind(null,t),ra:h4.bind(null,t)}),t.Aa.push(e=>_(null,null,function*(){e?(t.ga.L_(),yield gf(t)):(yield t.ga.stop(),t.Ia.length>0&&(V(Wi,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))}))),t.ga}var q_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Tn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function NE(t,e){if(cr("AsyncQueue",`${e}: ${t}`),As(t))return new F(M.UNAVAILABLE,`${e}: ${t}`);throw t}var Gh=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||z.comparator(n.key,r.key):(n,r)=>z.comparator(n.key,r.key),this.keyedMap=wc(),this.sortedSet=new Pe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Kh=class{constructor(){this.pa=new Pe(z.comparator)}track(e){let n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):q(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){let e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}},Ts=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Gh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&df(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var W_=class{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}},G_=class{constructor(){this.queries=LA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){let i=Q(n),o=i.queries;i.queries=LA(),o.forEach((s,a)=>{for(let u of a.Sa)u.onError(r)})})(this,new F(M.ABORTED,"Firestore shutting down"))}};function LA(){return new dr(t=>SR(t),df)}function nN(t,e){return _(this,null,function*(){let n=Q(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new W_,r=e.va()?0:1);try{switch(r){case 0:o.ba=yield n.onListen(i,!0);break;case 1:o.ba=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=NE(s,`Initialization of query '${as(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.Fa(n.onlineState),o.ba&&e.Ma(o.ba)&&ME(n)})}function rN(t,e){return _(this,null,function*(){let n=Q(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function g4(t,e){let n=Q(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.Sa)a.Ma(i)&&(r=!0);s.ba=i}}r&&ME(n)}function m4(t,e,n){let r=Q(t),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(n);r.queries.delete(e)}function ME(t){t.Ca.forEach(e=>{e.next()})}var K_,FA;(FA=K_||(K_={})).xa="default",FA.Cache="cache";var Qh=class{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ts(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;let r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;let n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Ts.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==K_.Cache}};var Yh=class{constructor(e){this.key=e}},Zh=class{constructor(e){this.key=e}},Q_=class{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ue(),this.mutatedKeys=ue(),this.Za=AR(e),this.Xa=new Gh(this.Za)}get eu(){return this.Ha}tu(e,n){let r=n?n.nu:new Kh,i=n?n.Xa:this.Xa,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=hf(this.query,p)?p:null,T=!!m&&this.mutatedKeys.has(m.key),R=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),A=!1;m&&y?m.data.isEqual(y.data)?T!==R&&(r.track({type:3,doc:y}),A=!0):this.ru(m,y)||(r.track({type:2,doc:y}),A=!0,(u&&this.Za(y,u)>0||l&&this.Za(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),A=!0):m&&!y&&(r.track({type:1,doc:m}),A=!0,(u||l)&&(a=!0)),A&&(y?(s=s.add(y),o=R?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Xa:s,nu:r,Cs:a,mutatedKeys:o}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;let s=e.nu.wa();s.sort((h,p)=>function(y,T){let R=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q(20277,{Vt:A})}};return R(y)-R(T)}(h.type,p.type)||this.Za(h.doc,p.doc)),this.iu(r),i=i!=null&&i;let a=n&&!i?this.su():[],u=this.Ya.size===0&&this.current&&!i?1:0,l=u!==this.Ja;return this.Ja=u,s.length!==0||l?{snapshot:new Ts(this.query,e.Xa,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Kh,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];let e=this.Ya;this.Ya=ue(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});let n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new Zh(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new Yh(r))}),n}au(e){this.Ha=e.$s,this.Ya=ue();let n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Ts.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}},PE="SyncEngine",Y_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Z_=class{constructor(e){this.key=e,this.cu=!1}},J_=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new dr(a=>SR(a),df),this.Pu=new Map,this.Tu=new Set,this.Iu=new Pe(z.comparator),this.Eu=new Map,this.du=new Oc,this.Au={},this.Ru=new Map,this.Vu=kc.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}};function y4(t,e,n=!0){return _(this,null,function*(){let r=uN(t),i,o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=yield iN(r,e,n,!0),i})}function v4(t,e){return _(this,null,function*(){let n=uN(t);yield iN(n,e,!0,!1)})}function iN(t,e,n,r){return _(this,null,function*(){let i=yield t4(t.localStore,bn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield _4(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&YR(t.remoteStore,i),a})}function _4(t,e,n,r,i){return _(this,null,function*(){t.fu=(p,m,y)=>function(R,A,O,H){return _(this,null,function*(){let U=A.view.tu(O);U.Cs&&(U=yield PA(R.localStore,A.query,!1).then(({documents:D})=>A.view.tu(D,U)));let de=H&&H.targetChanges.get(A.targetId),Ue=H&&H.targetMismatches.get(A.targetId)!=null,oe=A.view.applyChanges(U,R.isPrimaryClient,de,Ue);return jA(R,A.targetId,oe.ou),oe.snapshot})}(t,p,m,y);let o=yield PA(t.localStore,e,!0),s=new Q_(e,o.$s),a=s.tu(o.documents),u=Pc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);jA(t,n,l.ou);let h=new Y_(e,n,s);return t.hu.set(e,h),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),l.snapshot})}function E4(t,e,n){return _(this,null,function*(){let r=Q(t),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(s=>!df(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield P_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&CE(r.remoteStore,i.targetId),X_(r,i.targetId)}).catch(Ss))):(X_(r,i.targetId),yield P_(r.localStore,i.targetId,!0))})}function I4(t,e){return _(this,null,function*(){let n=Q(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),CE(n.remoteStore,r.targetId))})}function w4(t,e,n){return _(this,null,function*(){let r=R4(t);try{let i=yield function(s,a){let u=Q(s),l=nt.now(),h=a.reduce((y,T)=>y.add(T.key),ue()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=hr(),R=ue();return u.Bs.getEntries(y,h).next(A=>{T=A,T.forEach((O,H)=>{H.isValidDocument()||(R=R.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,T)).next(A=>{p=A;let O=[];for(let H of a){let U=SH(H,p.get(H.key).overlayedDocument);U!=null&&O.push(new Rn(H.key,U,ER(U.value.mapValue),Cn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,O,a)}).next(A=>{m=A;let O=A.applyToLocalDocumentSet(p,R);return u.documentOverlayCache.saveOverlays(y,A.batchId,O)})}).then(()=>({batchId:m.batchId,changes:NR(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Au[s.currentUser.toKey()];l||(l=new Pe(re)),l=l.insert(a,u),s.Au[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Hc(r,i.changes),yield gf(r.remoteStore)}catch(i){let o=NE(i,"Failed to persist write");n.reject(o)}})}function oN(t,e){return _(this,null,function*(){let n=Q(t);try{let r=yield JH(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?ye(s.cu,14607):i.removedDocuments.size>0&&(ye(s.cu,42227),s.cu=!1))}),yield Hc(n,r,e)}catch(r){yield Ss(r)}})}function VA(t,e,n){let r=Q(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.hu.forEach((o,s)=>{let a=s.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=Q(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.Sa)m.Fa(a)&&(l=!0)}),l&&ME(u)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function T4(t,e,n){return _(this,null,function*(){let r=Q(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Pe(z.comparator);s=s.insert(o,sn.newNoDocument(o,J.min()));let a=ue().add(o),u=new kh(J.min(),new Map,new Pe(re),s,a);yield oN(r,u),r.Iu=r.Iu.remove(o),r.Eu.delete(e),xE(r)}else yield P_(r.localStore,e,!1).then(()=>X_(r,e,n)).catch(Ss)})}function D4(t,e){return _(this,null,function*(){let n=Q(t),r=e.batch.batchId;try{let i=yield ZH(n.localStore,e);aN(n,r,null),sN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Hc(n,i)}catch(i){yield Ss(i)}})}function b4(t,e,n){return _(this,null,function*(){let r=Q(t);try{let i=yield function(s,a){let u=Q(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(ye(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);aN(r,e,n),sN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Hc(r,i)}catch(i){yield Ss(i)}})}function sN(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function aN(t,e,n){let r=Q(t),i=r.Au[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function X_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||cN(t,r)})}function cN(t,e){t.Tu.delete(e.path.canonicalString());let n=t.Iu.get(e);n!==null&&(CE(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),xE(t))}function jA(t,e,n){for(let r of n)r instanceof Yh?(t.du.addReference(r.key,e),C4(t,r)):r instanceof Zh?(V(PE,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||cN(t,r.key)):q(19791,{pu:r})}function C4(t,e){let n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(V(PE,"New document in limbo: "+n),t.Tu.add(r),xE(t))}function xE(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){let e=t.Tu.values().next().value;t.Tu.delete(e);let n=new z(Re.fromString(e)),r=t.Vu.next();t.Eu.set(r,new Z_(n)),t.Iu=t.Iu.insert(n,r),YR(t.remoteStore,new xc(bn(lf(n.path)),r,"TargetPurposeLimboResolution",gE.le))}}function Hc(t,e,n){return _(this,null,function*(){let r=Q(t),i=[],o=[],s=[];r.hu.isEmpty()||(r.hu.forEach((a,u)=>{s.push(r.fu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=A_.Rs(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.lu.Y_(i),yield function(u,l){return _(this,null,function*(){let h=Q(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.ds,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.As,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!As(p))throw p;V(bE,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.xs.get(m),T=y.snapshotVersion,R=y.withLastLimboFreeSnapshotVersion(T);h.xs=h.xs.insert(m,R)}}})}(r.localStore,o))})}function S4(t,e){return _(this,null,function*(){let n=Q(t);if(!n.currentUser.isEqual(e)){V(PE,"User change. New user:",e.toKey());let r=yield KR(n.localStore,e);n.currentUser=e,function(o,s){o.Ru.forEach(a=>{a.forEach(u=>{u.reject(new F(M.CANCELLED,s))})}),o.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Hc(n,r.ks)}})}function A4(t,e){let n=Q(t),r=n.Eu.get(e);if(r&&r.cu)return ue().add(r.key);{let i=ue(),o=n.Pu.get(e);if(!o)return i;for(let s of o){let a=n.hu.get(s);i=i.unionWith(a.view.eu)}return i}}function uN(t){let e=Q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T4.bind(null,e),e.lu.Y_=g4.bind(null,e.eventManager),e.lu.gu=m4.bind(null,e.eventManager),e}function R4(t){let e=Q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=D4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=b4.bind(null,e),e}var lN=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return _(this,null,function*(){this.serializer=ff(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Su(n),yield this.persistence.start(),this.localStore=this.Du(n),this.gcScheduler=this.vu(n,this.localStore),this.indexBackfillerScheduler=this.Cu(n,this.localStore)})}vu(n,r){return null}Cu(n,r){return null}Du(n){return YH(this.persistence,new N_,n.initialUser,this.serializer)}Su(n){return new Uh(S_.fi,this.serializer)}bu(n){return new x_}terminate(){return _(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),eE=class extends lN{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){ye(this.persistence.referenceDelegate instanceof Bh,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new p_(r,e.asyncQueue,n)}Su(e){let n=this.cacheSizeBytes!==void 0?zt.withCacheSize(this.cacheSizeBytes):zt.DEFAULT;return new Uh(r=>Bh.fi(r,n),this.serializer)}};var N4=(()=>{class t{initialize(n,r){return _(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>VA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=S4.bind(null,this.syncEngine),yield p4(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new G_}()}createDatastore(n){let r=ff(n.databaseInfo.databaseId),i=function(s){return new V_(s)}(n.databaseInfo);return function(s,a,u,l){return new $_(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new z_(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>VA(this.syncEngine,r,0),function(){return Hh.C()?new Hh:new k_}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let m=new J_(o,s,a,u,l,h);return p&&(m.mu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var n,r;yield function(o){return _(this,null,function*(){let s=Q(o);V(Wi,"RemoteStore shutting down."),s.da.add(5),yield $c(s),s.Ra.shutdown(),s.Va.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Jh=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var qr="FirestoreClient",tE=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qe.UNAUTHENTICATED,this.clientId=Ch.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){V(qr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(V(qr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Tn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=NE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Sv(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),V(qr,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield KR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function UA(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield M4(t);V(qr,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>OA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>OA(e.remoteStore,i)),t._onlineComponents=e})}function M4(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V(qr,"Using user provided OfflineComponentProvider");try{yield Sv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;fs("Error using user provided cache. Falling back to memory cache: "+n),yield Sv(t,new lN)}}else V(qr,"Using default OfflineComponentProvider"),yield Sv(t,new eE(void 0));return t._offlineComponents})}function dN(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(V(qr,"Using user provided OnlineComponentProvider"),yield UA(t,t._uninitializedComponentsProvider._online)):(V(qr,"Using default OnlineComponentProvider"),yield UA(t,new N4))),t._onlineComponents})}function P4(t){return dN(t).then(e=>e.syncEngine)}function nE(t){return _(this,null,function*(){let e=yield dN(t),n=e.eventManager;return n.onListen=y4.bind(null,e.syncEngine),n.onUnlisten=E4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=v4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=I4.bind(null,e.syncEngine),n})}function x4(t,e,n={}){let r=new Tn;return t.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,a,u,l){let h=new Jh({next:m=>{h.xu(),s.enqueueAndForget(()=>rN(o,p));let y=m.docs.has(a);!y&&m.fromCache?l.reject(new F(M.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new F(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Qh(lf(a.path),h,{includeMetadataChanges:!0,Qa:!0});return nN(o,p)}(yield nE(t),t.asyncQueue,e,n,r)})),r.promise}function hN(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var BA=new Map;function fN(t,e,n){if(!n)throw new F(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function k4(t,e,n,r){if(e===!0&&r===!0)throw new F(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $A(t){if(!z.isDocumentKey(t))throw new F(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function HA(t){if(z.isDocumentKey(t))throw new F(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q(12329,{type:typeof t})}function Wt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=mf(t);throw new F(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function O4(t,e){if(e<=0)throw new F(M.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var pN="firestore.googleapis.com",zA=!0,Xh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new F(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pN,this.ssl=zA}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:zA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GH)throw new F(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new F(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new F(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new F(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ds=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new F(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Av;switch(r.type){case"firstParty":return new Pv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=BA.get(n);r&&(V("ComponentProvider","Removing Datastore"),BA.delete(n),r.terminate())}(this),Promise.resolve()}};function L4(t,e,n,r={}){var i;t=Wt(t,Ds);let o=kr(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(Fd(`https://${u}`),Vd("Firestore",!0)),s.host!==pN&&s.host!==u&&fs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!_n(l,a)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Qe.MOCK_USER;else{h=_S(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new F(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Qe(m)}t._authCredentials=new Rv(new Dh(h,p))}}var Wr=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ut=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Br=class t extends Wr{constructor(e,n,r){super(e,n,lf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function fZ(t,e,...n){if(t=Ae(t),fN("collection","path",e),t instanceof Ds){let r=Re.fromString(e,...n);return HA(r),new Br(t,null,r)}{if(!(t instanceof ut||t instanceof Br))throw new F(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Re.fromString(e,...n));return HA(r),new Br(t.firestore,null,r)}}function F4(t,e,...n){if(t=Ae(t),arguments.length===1&&(e=Ch.newId()),fN("doc","path",e),t instanceof Ds){let r=Re.fromString(e,...n);return $A(r),new ut(t,null,new z(r))}{if(!(t instanceof ut||t instanceof Br))throw new F(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Re.fromString(e,...n));return $A(r),new ut(t.firestore,t instanceof Br?t.converter:null,new z(r))}}var qA="AsyncQueue",ef=class{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new zh(this,"async_queue_retry"),this.rc=()=>{let r=Cv();r&&V(qA,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;let n=Cv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;let n=Cv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});let n=new Tn;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}ac(){return _(this,null,function*(){if(this.Ju.length!==0){try{yield this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!As(e))throw e;V(qA,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}})}_c(e){let n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,cr("INTERNAL UNHANDLED ERROR: ",WA(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);let i=q_.createAndSchedule(this,e,n,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&q(47125,{cc:WA(this.Xu)})}verifyOperationInProgress(){}lc(){return _(this,null,function*(){let e;do e=this.sc,yield e;while(e!==this.sc)})}hc(e){for(let n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){let n=this.Zu.indexOf(e);this.Zu.splice(n,1)}};function WA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function GA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Nn=class extends Ds{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ef,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new ef(e),this._firestoreClient=void 0,yield e}})}};function pZ(t,e){let n=typeof t=="object"?t:Mi(),r=typeof t=="string"?t:e||Nh,i=Jo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=vS("firestore");o&&L4(i,...o)}return i}function kE(t){if(t._terminated)throw new F(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||V4(t),t._firestoreClient}function V4(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new Fv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,hN(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new tE(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Lc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(lt.fromBase64String(e))}catch(n){throw new F(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var bs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Fc=class{constructor(e){this._methodName=e}};var Vc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}};var jc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var j4=/^__.*__$/,rE=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Rn(e,this.data,this.fieldMask,n,this.fieldTransforms):new qi(e,this.data,n,this.fieldTransforms)}},tf=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Rn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function gN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q(40011,{Ic:t})}}var iE=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return rf(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(gN(this.Ic)&&j4.test(e))throw this.gc('Document fields cannot begin and end with "__"')}},oE=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ff(e)}bc(e,n,r,i=!1){return new iE({Ic:e,methodName:n,wc:r,path:Lt.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function yf(t){let e=t._freezeSettings(),n=ff(t._databaseId);return new oE(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mN(t,e,n,r,i,o={}){let s=t.bc(o.merge||o.mergeFields?2:0,e,n,i);OE("Data must be an object, but it was:",s,r);let a=yN(r,s),u,l;if(o.merge)u=new qt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=sE(e,p,n);if(!s.contains(m))throw new F(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);_N(h,m)||h.push(m)}u=new qt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new rE(new Ot(a),u,l)}var nf=class t extends Fc{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function U4(t,e,n,r){let i=t.bc(1,e,n);OE("Data must be an object, but it was:",i,r);let o=[],s=Ot.empty();Gr(r,(u,l)=>{let h=LE(e,u,n);l=Ae(l);let p=i.mc(h);if(l instanceof nf)o.push(h);else{let m=zc(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new qt(o);return new tf(s,a,i.fieldTransforms)}function B4(t,e,n,r,i,o){let s=t.bc(1,e,n),a=[sE(e,r,n)],u=[i];if(o.length%2!=0)throw new F(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(sE(e,o[m])),u.push(o[m+1]);let l=[],h=Ot.empty();for(let m=a.length-1;m>=0;--m)if(!_N(l,a[m])){let y=a[m],T=u[m];T=Ae(T);let R=s.mc(y);if(T instanceof nf)l.push(y);else{let A=zc(T,R);A!=null&&(l.push(y),h.set(y,A))}}let p=new qt(l);return new tf(h,p,s.fieldTransforms)}function $4(t,e,n,r=!1){return zc(n,t.bc(r?4:3,e))}function zc(t,e){if(vN(t=Ae(t)))return OE("Unsupported field value:",e,t),yN(t,e);if(t instanceof Fc)return function(r,i){if(!gN(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=zc(a,i.fc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ae(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=nt.fromDate(r);return{timestampValue:Vh(i.serializer,o)}}if(r instanceof nt){let o=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vh(i.serializer,o)}}if(r instanceof Vc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Lc)return{bytesValue:UR(i.serializer,r._byteString)};if(r instanceof ut){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:DE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof jc)return function(s,a){return{mapValue:{fields:{[vE]:{stringValue:_E},[gs]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.gc("VectorValues must only contain numeric values.");return TE(a.serializer,l)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${mf(r)}`)}(t,e)}function yN(t,e){let n={};return hR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gr(t,(r,i)=>{let o=zc(i,e.Ac(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function vN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof Vc||t instanceof Lc||t instanceof ut||t instanceof Fc||t instanceof jc)}function OE(t,e,n){if(!vN(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=mf(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function sE(t,e,n){if((e=Ae(e))instanceof bs)return e._internalPath;if(typeof e=="string")return LE(t,e);throw rf("Field path arguments must be of type string or ",t,!1,void 0,n)}var H4=new RegExp("[~\\*/\\[\\]]");function LE(t,e,n){if(e.search(H4)>=0)throw rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bs(...e.split("."))._internalPath}catch{throw rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rf(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new F(M.INVALID_ARGUMENT,a+t+u)}function _N(t,e){return t.some(n=>n.isEqual(e))}var of=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new aE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(FE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},aE=class extends of{data(){return super.data()}};function FE(t,e){return typeof e=="string"?LE(t,e):e instanceof bs?e._internalPath:e._delegate._internalPath}function z4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Uc=class{},Bc=class extends Uc{};function gZ(t,e,...n){let r=[];e instanceof Uc&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof uE).length,a=o.filter(u=>u instanceof cE).length;if(s>1||s>0&&a>0)throw new F(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var cE=class t extends Bc{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return EN(e._query,n),new Wr(e.firestore,e.converter,Yv(e._query,n))}_parse(e){let n=yf(e.firestore);return function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new F(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){QA(p,h);let T=[];for(let R of p)T.push(KA(u,o,R));m={arrayValue:{values:T}}}else m=KA(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||QA(p,h),m=$4(a,s,p,h==="in"||h==="not-in");return je.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var uE=class t extends Uc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:an.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)EN(s,u),s=Yv(s,u)}(e._query,n),new Wr(e.firestore,e.converter,Yv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var lE=class t extends Bc{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new F(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new F(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $i(o,s)}(e._query,this._field,this._direction);return new Wr(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new Hr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function mZ(t,e="asc"){let n=e,r=FE("orderBy",t);return lE._create(r,n)}var dE=class t extends Bc{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new Wr(e.firestore,e.converter,xh(e._query,this._limit,this._limitType))}};function yZ(t){return O4("limit",t),dE._create("limit",t,"F")}function KA(t,e,n){if(typeof(n=Ae(n))=="string"){if(n==="")throw new F(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CR(e)&&n.indexOf("/")!==-1)throw new F(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Re.fromString(n));if(!z.isDocumentKey(r))throw new F(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fA(t,new z(r))}if(n instanceof ut)return fA(t,n._key);throw new F(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mf(n)}.`)}function QA(t,e){if(!Array.isArray(t)||t.length===0)throw new F(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function EN(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new F(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var hE=class{convertValue(e,n="none"){switch($r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Gr(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[gs].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ce(s.doubleValue));return new jc(o)}convertGeoPoint(e){return new Vc(Ce(e.latitude),Ce(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=uf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Rc(e));default:return null}}convertTimestamp(e){let n=ur(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Re.fromString(e);ye(WR(r),9688,{name:e});let i=new Mh(r.get(1),r.get(3)),o=new z(r.popFirst(5));return i.isEqual(n)||cr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function IN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var ji=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},sf=class extends of{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new hs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(FE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},hs=class extends sf{data(e={}){return super.data(e)}},fE=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ji(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new hs(this._firestore,this._userDataWriter,r.key,r,new ji(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new hs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ji(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new hs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ji(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:q4(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function q4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q(61501,{type:t})}}function vZ(t){t=Wt(t,ut);let e=Wt(t.firestore,Nn);return x4(kE(e),t._key).then(n=>wN(e,t,n))}var af=class extends hE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}};function _Z(t,e,n){t=Wt(t,ut);let r=Wt(t.firestore,Nn),i=IN(t.converter,e,n);return vf(r,[mN(yf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Cn.none())])}function EZ(t,e,n,...r){t=Wt(t,ut);let i=Wt(t.firestore,Nn),o=yf(i),s;return s=typeof(e=Ae(e))=="string"||e instanceof bs?B4(o,"updateDoc",t._key,e,n,r):U4(o,"updateDoc",t._key,e),vf(i,[s.toMutation(t._key,Cn.exists(!0))])}function IZ(t){return vf(Wt(t.firestore,Nn),[new Mc(t._key,Cn.none())])}function wZ(t,e){let n=Wt(t.firestore,Nn),r=F4(t),i=IN(t.converter,e);return vf(n,[mN(yf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Cn.exists(!1))]).then(()=>r)}function TZ(t,...e){var n,r,i;t=Ae(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||GA(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(GA(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof ut)l=Wt(t.firestore,Nn),h=lf(t._key.path),u={next:p=>{e[s]&&e[s](wN(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=Wt(t,Wr);l=Wt(p.firestore,Nn),h=p._query;let m=new af(l);u={next:y=>{e[s]&&e[s](new fE(l,m,p,y))},error:e[s+1],complete:e[s+2]},z4(t._query)}return function(m,y,T,R){let A=new Jh(R),O=new Qh(y,A,T);return m.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return nN(yield nE(m),O)})),()=>{A.xu(),m.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return rN(yield nE(m),O)}))}}(kE(l),h,a,u)}function vf(t,e){return function(r,i){let o=new Tn;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return w4(yield P4(r),i,o)})),o.promise}(kE(t),e)}function wN(t,e,n){let r=n.docs.get(e._key),i=new af(t);return new sf(t,i,e._key,r,new ji(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Cs=i})(Lr),nn(new mt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Nn(new Nv(r.getProvider("auth-internal")),new xv(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new F(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Le(rA,iA,e),Le(rA,iA,"esm2017")})();var AZ={production:!1,firebaseConfig:{apiKey:"AIzaSyDikPuo8FKl3QnBbuxB39HCexZhTbli4oo",authDomain:"finanzas-dashboard-9a0e6.firebaseapp.com",projectId:"finanzas-dashboard-9a0e6",storageBucket:"finanzas-dashboard-9a0e6.firebasestorage.app",messagingSenderId:"1044784431774",appId:"1:1044784431774:web:7ecab65cb4aa53d302718f"}};export{L as a,ge as b,W4 as c,G4 as d,_ as e,ee as f,He as g,Se as h,ne as i,jM as j,j as k,aT as l,$ as m,Ao as n,B as o,x as p,vi as q,Bn as r,ya as s,E5 as t,I5 as u,Lg as v,gt as w,It as x,_e as y,fD as z,_a as A,bx as B,zx as C,w5 as D,Vl as E,qe as F,rb as G,xo as H,wi as I,JO as J,s1 as K,Ia as L,w1 as M,T1 as N,D1 as O,gb as P,mb as Q,dm as R,L1 as S,F1 as T,P5 as U,hm as V,x5 as W,k5 as X,K1 as Y,yb as Z,Q1 as _,O5 as $,L5 as aa,F5 as ba,V5 as ca,j5 as da,U5 as ea,Sb as fa,yL as ga,Ab as ha,Gn as ia,FL as ja,VL as ka,BL as la,Xb as ma,nF as na,MF as oa,PF as pa,Xm as qa,nc as ra,fS as sa,c2 as ta,by as ua,Le as va,rs as wa,cv as xa,fh as ya,is as za,Oi as Aa,Li as Ba,yc as Ca,oY as Da,sY as Ea,gh as Fa,cU as Ga,A0 as Ha,R0 as Ia,N0 as Ja,j0 as Ka,Ec as La,mv as Ma,zY as Na,qY as Oa,WY as Pa,GY as Qa,fZ as Ra,F4 as Sa,pZ as Ta,gZ as Ua,mZ as Va,yZ as Wa,vZ as Xa,_Z as Ya,EZ as Za,IZ as _a,wZ as $a,TZ as ab,AZ as bb};
